---
import AboutLayout from "@/layouts/About.astro";
import fetchStrapi from "../../lib/fetchStrapi";
import { getEntryBySlug } from "astro:content";

const about = await getEntryBySlug("about", "index");
const { counter, gallery, features, members } = about.data;
const page_data = {
  ...about.data,
  content: about.body,
};
const locale = Astro.currentLocale;
const strapi_members = await fetchStrapi({
  endpoint: "testimonials",
  wrappedByKey: "data",
  query: {locale:locale},
});
---

<AboutLayout
  base_data={about.data}
  page_data={page_data}
  counter={counter}
  gallery={gallery}
  features={features}
  members={members}
  strapi_members={strapi_members}
/>
