{"version":3,"file":"static/js/524.8bea44d9.chunk.js","mappings":"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","sources":["containers/Tariff.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { useParams } from 'react-router-dom'\n\nimport { getPrices } from '../services/api'\n\nconst Tariff = (props) => {\n  const { tariff, taxes = true, taxValue = 21 } = props\n  const { language } = useParams()\n  const { t, i18n } = useTranslation()\n  const [loading, setLoading] = useState()\n  const [prices, setPrices] = useState()\n  const [taxType, setTaxType] = useState(taxValue)\n\n  useEffect(() => {\n    i18n.changeLanguage(language)\n  }, [language, i18n])\n\n  useEffect(() => {\n    const CITY_TAX_21 = 20\n    const CITY_TAX_10 = 37\n\n    setLoading(true)\n    getPrices({\n      tariff,\n      city_id: taxType === 21 ? CITY_TAX_21 : CITY_TAX_10\n    })\n      .then((response) => {\n        const tariffPrices = response?.data\n        setPrices(tariffPrices)\n        setLoading(false)\n      })\n      .catch((error) => {\n        setLoading(false)\n        console.error(error)\n      })\n  }, [taxType, tariff])\n\n  const btnTaxStyle = {\n    width: '120px',\n    height: '40px',\n    lineHeight: '40px',\n    fontSize: '1em'\n  }\n\n  return (\n    <div className=\"tariff-table\">\n      {loading ? (\n        ''\n      ) : (\n        <>\n          {taxes && (\n            <div className=\"triaimpost\">\n              <ul style={{ display: 'flex', marginBottom: '16px' }}>\n                <li\n                  id=\"tab_deu\"\n                  className={taxType === 10 ? 'deu_triat' : 'deu_notriat'}\n                  style={{ ...btnTaxStyle }}\n                  onClick={(event) => setTaxType(10)}>\n                  10% IVA\n                </li>\n                <li\n                  id=\"tab_vintiu\"\n                  className={taxType === 21 ? 'vintiu_triat' : 'vintiu_notriat'}\n                  style={{ ...btnTaxStyle }}\n                  onClick={(event) => setTaxType(21)}>\n                  21% IVA\n                </li>\n              </ul>\n            </div>\n          )}\n          <div className=\"tp\">\n            <h4>{t('TERME_POTENCIA')}</h4>\n            <p className=\"titol\">\n              {prices?.tp &&\n                Object.keys(prices?.tp)\n                  .reverse()\n                  .map((key) => (\n                    <span key={key}>\n                      {tariff === '2.0TD'\n                        ? t(`TERME_POTENCIA_${key}_${tariff}`)\n                        : key}{' '}\n                      {prices.tp[key]?.value} {prices.tp[key]?.uom}\n                      <br />\n                    </span>\n                  ))}\n            </p>\n          </div>\n          <div className=\"te\">\n            <h4>{t('TERME_ENERGIA')}</h4>\n            <p className=\"titol\">\n              {prices?.te &&\n                Object.keys(prices?.te)\n                  .reverse()\n                  .map((key) => (\n                    <span key={key}>\n                      {tariff === '2.0TD'\n                        ? t(`TERME_ENERGIA_${key}_${tariff}`)\n                        : key}{' '}\n                      {prices.te[key]?.value} {prices.te[key]?.uom}\n                      <br />\n                    </span>\n                  ))}\n            </p>\n          </div>\n          <div className=\"te-generation\">\n            <h4\n              dangerouslySetInnerHTML={{\n                __html: t('TERME_ENERGIA_GENERATIONKWH', {\n                  url: t('GENERATION_URL')\n                })\n              }}></h4>\n            <p className=\"titol\">\n              {prices?.gkwh &&\n                Object.keys(prices?.gkwh)\n                  .reverse()\n                  .map((key) => (\n                    <span key={key}>\n                      {tariff === '2.0TD'\n                        ? t(`TERME_ENERGIA_${key}_${tariff}`)\n                        : key}{' '}\n                      {prices.gkwh[key]?.value} {prices.gkwh[key]?.uom}\n                      <br />\n                    </span>\n                  ))}\n            </p>\n          </div>\n          <div className=\"autoproduction\">\n            <h4\n              dangerouslySetInnerHTML={{\n                __html: t('AUTOCONSUM_WITH_FAQ', {\n                  url: t('FAQ_AUTOCONSUM_URL')\n                })\n              }}></h4>\n            <p className=\"titol\">\n              {prices?.ac &&\n                Object.keys(prices?.ac)\n                  .reverse()\n                  .map((key) => (\n                    <span key={key}>\n                      {prices.ac[key]?.value} {prices.ac[key]?.uom}\n                      <br />\n                    </span>\n                  ))}\n            </p>\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default Tariff\n"],"names":["props","tariff","taxes","taxValue","language","useParams","useTranslation","t","i18n","useState","loading","setLoading","prices","setPrices","taxType","setTaxType","useEffect","changeLanguage","getPrices","city_id","then","response","tariffPrices","data","catch","error","console","btnTaxStyle","width","height","lineHeight","fontSize","className","style","display","marginBottom","id","onClick","event","tp","Object","keys","reverse","map","key","value","uom","te","dangerouslySetInnerHTML","__html","url","gkwh","ac"],"sourceRoot":""}