{"version":3,"file":"static/js/802.c7d7b759.chunk.js","mappings":"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","sources":["containers/HolderChange/VAT.js","containers/HolderChange/CUPS.js","containers/HolderChange/BecomeMember.js","containers/HolderChange/SpecialCases.js","containers/HolderChange/Review.js","containers/HolderChange/MemberIdentifier.js","containers/HolderChange.js"],"sourcesContent":["import React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport Box from '@material-ui/core/Box'\nimport FormHelperText from '@material-ui/core/FormHelperText'\n\nimport StepHeader from 'components/StepHeader'\nimport VATField from 'components/VATField'\n\nfunction VAT(props) {\n  const {\n    values,\n    setFieldValue,\n    setFieldTouched,\n    handleBlur,\n    touched,\n    errors\n  } = props\n  const { t } = useTranslation()\n\n  const onChangeVAT = ({ vat, isPhisical, valid, isMember }) => {\n    setFieldValue('holder.vat', vat)\n    setFieldValue('holder.isphisical', isPhisical)\n    setFieldValue('holder.vatvalid', valid)\n    setFieldTouched('holder.vat', true)\n    setFieldValue('holder.ismember', isMember)\n  }\n\n  return (\n    <>\n      <StepHeader title={t('HOLDER_CHANGE')} />\n      <Box className=\"step-body\">\n        <Box dangerouslySetInnerHTML={{ __html: t('FILL_VAT') }} />\n        <Box mt={3} mb={1}>\n          <VATField\n            id=\"vat\"\n            name=\"holder.vat\"\n            label={t('VAT_HOLDERCHANGE_LABEL')}\n            variant=\"outlined\"\n            fullWidth\n            required\n            autoFocus={false}\n            value={values?.holder?.vat}\n            onChange={onChangeVAT}\n            onBlur={handleBlur}\n            error={\n              (errors?.holder?.vat && touched?.holder?.vat) ||\n              (touched?.holder?.vat && values?.holder?.vatvalid === false)\n            }\n            helperText={\n              (touched?.holder?.vat && errors?.holder?.vat) ||\n              (touched?.holder?.vat && errors?.holder?.vatvalid)\n            }\n          />\n        </Box>\n        <Box mt={4} mb={3}>\n          <FormHelperText\n            dangerouslySetInnerHTML={{\n              __html: t('NO_VAT_HELP')\n            }}></FormHelperText>\n        </Box>\n      </Box>\n    </>\n  )\n}\n\nexport default VAT\n","import React, { useState, useEffect } from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport Box from '@material-ui/core/Box'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\n\nimport CheckOutlinedIcon from '@material-ui/icons/CheckOutlined'\n\nimport { checkCups } from '../../services/api'\nimport StepHeader from '../../components/StepHeader'\nimport TermsDialog from '../../components/TermsDialog'\n\nfunction CUPS(props) {\n  const { t } = useTranslation()\n  const {\n    values,\n    setFieldValue,\n    setTouched,\n    handleChange,\n    validateForm,\n    handleBlur,\n    errors,\n    touched\n  } = props\n\n  const [isLoading, setIsLoading] = useState(false)\n  const [open, setOpen] = useState(false)\n\n  const handleClick = (event) => {\n    event.preventDefault()\n    setOpen(true)\n  }\n\n  const handleAccept = () => {\n    setOpen(false)\n    setFieldValue('supply_point.supply_point_accepted', true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n    setFieldValue('supply_point.supply_point_accepted', false)\n  }\n\n  const isActiveCups = () => {\n    return values?.supply_point?.status === 'active'\n  }\n\n  const handleInputCups = (event) => {\n    if (values.supply_point?.verified) {\n      setFieldValue('supply_point.verified', false)\n    }\n    let value = event.target.value.match(/[0-9A-Za-z]{0,22}/)\n    value = value[0].toUpperCase()\n    setFieldValue('supply_point.cups', value, true)\n  }\n\n  useEffect(() => {\n    const value = values.supply_point.cups\n    if (value.length > 18) {\n      setIsLoading(true)\n      checkCups(value)\n        .then((response) => {\n          const status = response?.data?.status\n          if (status === 'active') {\n            setFieldValue(\n              'supply_point.address',\n              response?.data?.address,\n              false\n            )\n            setFieldValue(\n              'supply_point.tariff_type',\n              response?.data?.tariff_type,\n              false\n            )\n          }\n          setTouched({ supply_point: { cups: true } }, false)\n          setFieldValue('supply_point.status', status, true)\n          validateForm()\n          setIsLoading(false)\n        })\n        .catch((error) => {\n          console.error(error.response)\n          const errorStatus = error?.response?.data?.data?.status\n            ? error?.response?.data?.data?.status\n            : 'error'\n          setFieldValue('supply_point.status', errorStatus)\n          validateForm()\n          setIsLoading(false)\n        })\n    } else {\n      setFieldValue('supply_point.status', 'error')\n    }\n  }, [values.supply_point.cups, setFieldValue, validateForm, setTouched])\n\n  const CupsHelperText = () => (\n    <a href={t('CUPS_HELP_URL')} target=\"_blank\" rel=\"noopener noreferrer\">\n      {t('CUPS_HELP')}\n    </a>\n  )\n\n  return (\n    <>\n      <StepHeader title={t('CUPS_TITLE')} />\n      <Box className=\"step-body\">\n        <Typography\n          variant=\"body1\"\n          dangerouslySetInnerHTML={{ __html: t('FILL_CUPS') }}\n        />\n        <Box mt={3} mb={1}>\n          <TextField\n            id=\"cups\"\n            name=\"supply_point.cups\"\n            label={t('CUPS_LABEL')}\n            variant=\"outlined\"\n            fullWidth\n            required\n            value={values?.supply_point?.cups}\n            onChange={handleInputCups}\n            onBlur={handleBlur}\n            error={\n              !isLoading &&\n              errors?.supply_point?.cups &&\n              touched?.supply_point?.cups\n            }\n            helperText={\n              (!isLoading &&\n                touched?.supply_point?.cups &&\n                errors?.supply_point?.cups) || <CupsHelperText />\n            }\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  {isLoading && <CircularProgress size={24} />}\n                  {!isLoading && isActiveCups() && (\n                    <CheckOutlinedIcon color=\"primary\" />\n                  )}\n                </InputAdornment>\n              )\n            }}\n          />\n        </Box>\n        <Box mt={3} mb={1}>\n          <TextField\n            id=\"cupsaddress\"\n            label={t('SUPPLY_POINT_ADDRESS')}\n            variant=\"outlined\"\n            fullWidth\n            disabled\n            value={values?.supply_point?.address}\n            helperText={t('CUPS_PARTIAL_ADDRESS_NOTICE')}\n          />\n        </Box>\n\n        <Box mt={3} mb={0} mx={1}>\n          <FormControlLabel\n            disabled={!isActiveCups()}\n            control={\n              <Checkbox\n                id=\"supply_point_accepted\"\n                color=\"primary\"\n                name=\"supply_point_accepted\"\n                onClick={handleClick}\n                checked={values?.supply_point?.supply_point_accepted}\n                value={true}\n              />\n            }\n            label={t('FAIR_TITLE_LABEL')}\n          />\n        </Box>\n\n        <Box mx={1} mt={0} mb={2}>\n          <FormControlLabel\n            disabled={!isActiveCups()}\n            control={\n              <Checkbox\n                name=\"supply_point.verified\"\n                onChange={handleChange}\n                checked={values?.supply_point?.verified}\n                color=\"primary\"\n              />\n            }\n            label={t('CUPS_VERIFY_LABEL')}\n          />\n        </Box>\n        <Box ml={1}>\n          <FormHelperText\n            dangerouslySetInnerHTML={{\n              __html: t('CUPS_NO_VERIFY_HELP')\n            }}></FormHelperText>\n        </Box>\n      </Box>\n      <TermsDialog\n        title={t('FAIR_TITLE')}\n        open={open}\n        onAccept={handleAccept}\n        onClose={handleClose}\n        maxWidth=\"sm\">\n        <span\n          dangerouslySetInnerHTML={{ __html: t('PRIVACY_POLICY_SUPLYPOINT') }}\n        />\n      </TermsDialog>\n    </>\n  )\n}\n\nexport default CUPS\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\n\nimport Chooser from '../../components/Chooser'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport StepHeader from '../../components/StepHeader'\n\nfunction BecomeMember(props) {\n  const { t } = useTranslation()\n  const { setFieldValue } = props\n\n  const handleChange = ({ option }) => {\n    setFieldValue('member.link_member', !option, false)\n    setFieldValue('member.become_member', option)\n  }\n\n  return (\n    <>\n      <StepHeader title={t('BECOME_MEMBER_TITLE')} />\n      <Box className=\"step-body\">\n        <Typography\n          variant=\"body1\"\n          dangerouslySetInnerHTML={{ __html: t('BECOME_MEMBER_PRESENTATION') }}\n          variantMapping={{ body1: 'div' }}\n        />\n        <Box mt={3} mb={4}>\n          <Chooser\n            question={t('BECOME_MEMBER_QUESTION')}\n            onChange={handleChange}\n            value={props.values.member.become_member}\n            options={[\n              {\n                value: true,\n                label: t('BECOME_MEMBER_YES_LABEL'),\n                description: t('BECOME_MEMBER_YES_DESCRIPTION')\n              },\n              {\n                value: false,\n                label: t('BECOME_MEMBER_NO_LABEL'),\n                description: t('BECOME_MEMBER_NO_DESCRIPTION')\n              }\n            ]}\n            canBeEmpty={false}\n          />\n        </Box>\n        <FormHelperText\n          dangerouslySetInnerHTML={{ __html: t('MEMBER_ENERGETICA_HELPER') }}\n        />\n      </Box>\n    </>\n  )\n}\n\nexport default BecomeMember\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useTranslation } from 'react-i18next'\nimport clsx from 'clsx'\n\nimport Box from '@material-ui/core/Box'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport Typography from '@material-ui/core/Typography'\n\nimport StepHeader from 'components/StepHeader'\nimport Uploader from 'components/Uploader'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  margin: {\n    marginTop: theme.spacing(3)\n  },\n  container: {\n    width: '100%'\n  },\n  chooserItem: {\n    display: 'block',\n    cursor: 'pointer',\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    paddingRight: theme.spacing(3),\n    paddingLeft: theme.spacing(3),\n    margin: '1px 1px 9px 1px',\n    border: '1px solid rgba(0, 0, 0, 0.12)',\n    '&:not(.Mui-disabled):hover': {\n      border: '1px solid rgba(0, 0, 0, 0.87)',\n      backgroundColor: 'rgba(0, 0, 0, 0.03)'\n    },\n    height: '100%'\n  },\n  chooserItemSelected: {\n    border: '2px solid #96b633',\n    backgroundColor: 'rgba(150, 182, 51, 0.08)',\n    margin: '0 0 8px 0',\n    '&:not(.Mui-disabled):hover': {\n      border: '2px solid #96b633',\n      backgroundColor: 'rgba(150, 182, 51, 0.08)'\n    },\n    '& span:last-child': {\n      fontWeight: 'bold',\n      opacity: '0.75'\n    }\n  },\n  chooserItemTitle: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  chooserItemDesc: {\n    marginTop: theme.spacing(1),\n    paddingLeft: theme.spacing(1)\n  },\n  attachmentTitle: {\n    paddingLeft: theme.spacing(1)\n  }\n}))\n\nconst SpecialCases = (props) => {\n  const classes = useStyles()\n  const { t } = useTranslation()\n  const { values, errors, touched, setFieldValue } = props\n\n  const specialHandleChange = (event) => {\n    if (event.target.name === 'especial_cases.reason_death') {\n      setFieldValue('especial_cases.reason_default', false, false)\n      if (values.especial_cases.reason_death === true) {\n        setFieldValue('especial_cases.attachments.death', [], false)\n      }\n      if (values.especial_cases.reason_merge === true) {\n        setFieldValue('especial_cases.reason_merge', false, false)\n      }\n      setFieldValue(\n        'especial_cases.reason_death',\n        !values.especial_cases.reason_death,\n        true\n      )\n    } else if (event.target.name === 'especial_cases.reason_merge') {\n      setFieldValue('especial_cases.reason_default', false, false)\n      setFieldValue('especial_cases.reason_electrodep', false, false)\n      if (values.especial_cases.reason_death === true) {\n        setFieldValue('especial_cases.reason_death', false, false)\n        setFieldValue('especial_cases.attachments.death', [], false)\n      }\n      setFieldValue(\n        'especial_cases.reason_merge',\n        !values.especial_cases.reason_merge,\n        true\n      )\n    } else if (event.target.name === 'especial_cases.reason_electrodep') {\n      setFieldValue('especial_cases.reason_default', false, false)\n      if (values.especial_cases.reason_electrodep === true) {\n        setFieldValue('especial_cases.attachments.medical', [], false)\n        setFieldValue('especial_cases.attachments.resident', [], false)\n      }\n      setFieldValue(\n        'especial_cases.reason_electrodep',\n        !values.especial_cases.reason_electrodep,\n        true\n      )\n    } else {\n      setFieldValue('especial_cases', {\n        ...values.especial_cases,\n        reason_default: true,\n        reason_death: false,\n        reason_merge: false,\n        reason_electrodep: false,\n        attachments: {\n          death: [],\n          merge: [],\n          medical: [],\n          resident: []\n        }\n      })\n    }\n  }\n\n  return (\n    <>\n      <StepHeader title={t('SPECIAL_CASES_TITLE')} />\n      <Box className=\"step-body\">\n        <FormControl component=\"fieldset\" className={classes.container}>\n          <FormGroup>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={values.especial_cases?.reason_default}\n                  onChange={specialHandleChange}\n                  name=\"especial_cases.reason_default\"\n                  color=\"primary\"\n                />\n              }\n              label={t('SPECIAL_CASES_REASON_DEFAULT')}\n              className={clsx(\n                classes.chooserItem,\n                values.especial_cases?.reason_default &&\n                  classes.chooserItemSelected\n              )}\n            />\n            <Box mt={1} mb={3}>\n              <Typography\n                variant=\"body1\"\n                dangerouslySetInnerHTML={{\n                  __html: t('SPECIAL_CASES_QUESTION')\n                }}\n              />\n            </Box>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={values.especial_cases?.reason_death}\n                  onChange={specialHandleChange}\n                  name=\"especial_cases.reason_death\"\n                  color=\"primary\"\n                />\n              }\n              label={t('SPECIAL_CASES_REASON_DEATH')}\n              className={clsx(\n                classes.chooserItem,\n                values.especial_cases?.reason_death &&\n                  classes.chooserItemSelected\n              )}\n            />\n            {values.especial_cases?.reason_death && (\n              <>\n                <Typography className={classes.attachmentTitle}>\n                  {t('CERT_ATTACH_DEATH')}\n                </Typography>\n                <Box mt={1} mb={2}>\n                  <Uploader\n                    fieldError={\n                      errors.attachments &&\n                      touched.attachments &&\n                      errors.attachments\n                    }\n                    callbackFn={(attachments) =>\n                      setFieldValue(\n                        'especial_cases.attachments.death',\n                        attachments\n                      )\n                    }\n                    values={values.especial_cases.attachments?.death}\n                  />\n                </Box>\n              </>\n            )}\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={values.especial_cases?.reason_merge}\n                  onChange={specialHandleChange}\n                  name=\"especial_cases.reason_merge\"\n                  color=\"primary\"\n                />\n              }\n              label={t('SPECIAL_CASES_REASON_MERGE')}\n              className={clsx(\n                classes.chooserItem,\n                values.especial_cases?.reason_merge &&\n                  classes.chooserItemSelected\n              )}\n            />\n            {values.especial_cases?.reason_merge && (\n              <>\n                <Typography className={classes.attachmentTitle}>\n                  {t('CERT_ATTACH_MERGE')}\n                </Typography>\n                <Box mt={1} mb={2}>\n                  <Uploader\n                    fieldError={\n                      errors.attachments &&\n                      touched.attachments &&\n                      errors.attachments\n                    }\n                    callbackFn={(attachments) =>\n                      setFieldValue(\n                        'especial_cases.attachments.merge',\n                        attachments\n                      )\n                    }\n                    values={values.especial_cases.attachments?.merge}\n                  />\n                </Box>\n              </>\n            )}\n            <FormControlLabel\n              disabled={values.especial_cases?.reason_merge}\n              control={\n                <Checkbox\n                  checked={values.especial_cases?.reason_electrodep}\n                  onChange={specialHandleChange}\n                  name=\"especial_cases.reason_electrodep\"\n                  color=\"primary\"\n                />\n              }\n              label={t('SPECIAL_CASES_REASON_ELECTRODEP')}\n              className={clsx(\n                classes.chooserItem,\n                values.especial_cases?.reason_electrodep &&\n                  classes.chooserItemSelected\n              )}\n            />\n            {values.especial_cases?.reason_electrodep && (\n              <>\n                <Typography className={classes.attachmentTitle}>\n                  {t('ELECTRODEP_ATTACH_MEDICAL')}\n                </Typography>\n                <Box mt={1} mb={1}>\n                  <Uploader\n                    fieldError={\n                      errors.attachments &&\n                      touched.attachments &&\n                      errors.attachments\n                    }\n                    callbackFn={(attachments) =>\n                      setFieldValue(\n                        'especial_cases.attachments.medical',\n                        attachments\n                      )\n                    }\n                    values={values.especial_cases.attachments?.medical}\n                  />\n                </Box>\n                <Typography className={classes.attachmentTitle}>\n                  {t('ELECTRODEP_ATTACH_RESIDENT')}\n                </Typography>\n                <Box mt={1} mb={0}>\n                  <Uploader\n                    fieldError={\n                      errors.attachments &&\n                      touched.attachments &&\n                      errors.attachments\n                    }\n                    callbackFn={(attachments) =>\n                      setFieldValue(\n                        'especial_cases.attachments.resident',\n                        attachments\n                      )\n                    }\n                    values={values.especial_cases.attachments?.resident}\n                  />\n                </Box>\n              </>\n            )}\n          </FormGroup>\n        </FormControl>\n      </Box>\n    </>\n  )\n}\n\nexport default SpecialCases\n","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Divider from '@material-ui/core/Divider'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport FormHelperText from '@material-ui/core/FormHelperText'\n\nimport StepHeader from 'components/StepHeader'\nimport TermsDialog from 'components/TermsDialog'\nimport LegalText from 'components/LegalText'\nimport { languages } from 'services/utils'\n\nconst useStyles = makeStyles((theme) => ({\n  withoutLabel: {\n    marginTop: theme.spacing(1)\n  },\n  sectionTitle: {\n    fontSize: '18px',\n    fontWeight: 500,\n    textTransform: 'uppercase',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(1.2)\n  },\n  field: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(0.8)\n  },\n  label: {\n    textTransform: 'uppercase',\n    paddingRight: '12px',\n    fontSize: '14px',\n    fontWeight: 400,\n    color: 'rgba(0, 0, 0, 0.54)'\n  },\n  value: {\n    fontSize: '16px'\n  },\n  divider: {\n    marginTop: '12px',\n    marginLeft: 0,\n    marginRight: '32px'\n  },\n  dividerBottom: {\n    marginTop: '24px',\n    marginLeft: 0,\n    marginRight: '32px'\n  }\n}))\n\nconst Review = (props) => {\n  const classes = useStyles()\n  const { t } = useTranslation()\n  const { values, setFieldValue } = props\n\n  const [open, setOpen] = useState(false)\n\n  const handleClick = (event) => {\n    event.preventDefault()\n    setOpen(true)\n  }\n\n  const handleAccept = () => {\n    setOpen(false)\n    setFieldValue('terms_accepted', true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n    setFieldValue('terms_accepted', false)\n  }\n\n  const ReviewField = ({ label, value }) => {\n    return (\n      <div className={classes.field}>\n        <div className=\"field__title\">\n          <Typography className={classes.label} variant=\"subtitle2\">\n            {label}\n          </Typography>\n        </div>\n        <div className=\"field__value\">\n          <Typography className={classes.value} variant=\"body2\">\n            {value}\n          </Typography>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <>\n      <StepHeader title={t('REVIEW_TITLE')} />\n      <Box className=\"step-body\">\n        <Typography\n          variant=\"body1\"\n          dangerouslySetInnerHTML={{ __html: t('REVIEW_DESCRIPTION') }}\n        />\n        <Grid container>\n          <Grid item xs={12} sm={6}>\n            <Typography className={classes.sectionTitle} variant=\"h6\">\n              {t('SUMMARY_GROUP_PROCESS')}\n            </Typography>\n            <ReviewField\n              label={t('PROCESS_TYPE')}\n              value={t('PROCESS_TYPE_HOLDER_CHANGE')}\n            />\n            {values?.especial_cases?.reason_death && (\n              <ReviewField\n                label={t('SPECIAL_CASES_TITLE')}\n                value={t('SPECIAL_CASES_DEATH')}\n              />\n            )}\n            {values?.especial_cases?.reason_merge && (\n              <ReviewField\n                label={t('SPECIAL_CASES_TITLE')}\n                value={t('SPECIAL_CASES_MERGE')}\n              />\n            )}\n            {values?.especial_cases?.reason_electrodep && (\n              <ReviewField\n                label={t('SPECIAL_CASES_TITLE')}\n                value={t('SPECIAL_CASES_ELECTRODEP')}\n              />\n            )}\n            <ReviewField\n              label={t('RELATED_MEMBER')}\n              value={\n                (values?.member?.become_member &&\n                  `${values?.holder?.name} ${values?.holder?.surname1} ${values?.holder?.surname2}`) ||\n                (values?.holder?.ismember && values?.holder.vat) ||\n                values?.member?.vat\n              }\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography className={classes.sectionTitle} variant=\"h6\">\n              {t('SUPPLY')}\n            </Typography>\n            <ReviewField\n              label={t('CUPS_LABEL')}\n              value={values?.supply_point?.cups}\n            />\n            <ReviewField\n              label={t('ADDRESS')}\n              value={values?.supply_point?.address}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Divider variant=\"middle\" className={classes.divider} />\n            <Typography className={classes.sectionTitle} variant=\"h6\">\n              {t('HOLDER')}\n            </Typography>\n            <ReviewField label={'NIF'} value={values?.holder?.vat} />\n            {values?.holder?.isphisical ? (\n              <>\n                <ReviewField\n                  label={t('NAME')}\n                  value={`${values?.holder?.name} ${values?.holder?.surname1} ${values?.holder?.surname2}`}\n                />\n              </>\n            ) : (\n              <>\n                <ReviewField\n                  label={t('LEGAL_NAME')}\n                  value={values?.holder?.name}\n                />\n                <ReviewField\n                  label={t('PROXY')}\n                  value={`${values?.holder.proxyname}(${values?.holder?.proxynif})`}\n                />\n              </>\n            )}\n            <ReviewField\n              label={t('ADDRESS')}\n              value={`${values?.holder?.address}, ${values?.holder?.number} ${values?.holder?.floor} ${values?.holder?.door}`}\n            />\n            <ReviewField\n              label={t('CITY')}\n              value={`${values?.holder?.city.name} (${values?.holder?.postal_code}) ${values?.holder?.state.name}`}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Divider variant=\"middle\" className={classes.divider} />\n            <Typography className={classes.sectionTitle} variant=\"h6\">\n              {t('CONTACT')}\n            </Typography>\n            <ReviewField label={t('PHONE')} value={values?.holder?.phone1} />\n            <ReviewField label={t('EMAIL')} value={values?.holder?.email} />\n            <ReviewField\n              label={t('LANGUAGE')}\n              value={languages[values?.holder?.language]}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Divider variant=\"middle\" className={classes.divider} />\n            <Typography className={classes.sectionTitle} variant=\"h6\">\n              {t('SUMMARY_GROUP_TECHNICAL')}\n            </Typography>\n            <ReviewField label={t('FARE')} value={t('FARE_SAME')} />\n            <ReviewField label={t('POWER')} value={t('POWER_SAME')} />\n            <FormHelperText\n              className={classes.withoutLabel}\n              dangerouslySetInnerHTML={{ __html: t('FARE_POWER_CHANGE_NOTE') }}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Divider variant=\"middle\" className={classes.divider} />\n            <Typography className={classes.sectionTitle} variant=\"h6\">\n              {t('SUMMARY_GROUP_PAYMENT')}\n            </Typography>\n            <ReviewField label={t('IBAN')} value={values?.payment?.iban} />\n            <ReviewField\n              label={t('VOLUNTARY_CENT')}\n              value={values?.payment?.voluntary_cent ? t('YES') : t('NO')}\n            />\n          </Grid>\n        </Grid>\n\n        <Divider variant=\"middle\" className={classes.dividerBottom} />\n\n        <TermsDialog\n          title={t('GENERAL_TERMS')}\n          open={open}\n          onAccept={handleAccept}\n          onClose={handleClose}>\n          <LegalText\n          language={values?.holder?.language}\n          documentName={\n            values?.supply_point?.tariff_type === 'index'\n            ?\"general-and-indexed-specific-terms\"\n            :\"general-contract-terms\"\n          }\n          ></LegalText>\n        </TermsDialog>\n\n        <Box mt={2}>\n          <FormControlLabel\n            control={\n              <Checkbox\n                onClick={handleClick}\n                checked={values.terms_accepted}\n                color=\"primary\"\n              />\n            }\n            label={\n              values?.supply_point?.tariff_type === 'index'\n                ? t('INDEXED_ACCEPT_CONDITIONS')\n                : t('PERIODS_ACCEPT_CONDITIONS')\n            }\n          />\n        </Box>\n      </Box>\n    </>\n  )\n}\n\nexport default Review\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\n\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\n\nimport StepHeader from 'components/StepHeader'\nimport MemberIdentifierFields from 'components/MemberIdentifierFields'\n\nfunction MemberIdentifier(props) {\n  const { t } = useTranslation()\n\n  return (\n    <>\n      <StepHeader title={t('BECOME_MEMBER_TITLE')} />\n      <Box className=\"step-body\">\n        <Typography\n          variant=\"body1\"\n          dangerouslySetInnerHTML={{\n            __html: t('HOLDER_MEMBER_IDENTIFIER_DESC')\n          }}\n        />\n        <Box mt={0} mb={1}>\n          <MemberIdentifierFields {...props} />\n        </Box>\n      </Box>\n    </>\n  )\n}\n\nexport default MemberIdentifier\n","import React, { useState, useEffect, useMemo } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { GlobalHotKeys } from 'react-hotkeys'\nimport { Formik, Form } from 'formik'\nimport * as Yup from 'yup'\nimport { useParams } from 'react-router-dom'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Container from '@material-ui/core/Container'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport Paper from '@material-ui/core/Paper'\n\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos'\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos'\nimport SendIcon from '@material-ui/icons/Send'\nimport Typography from '@material-ui/core/Typography'\nimport Alert from '@material-ui/lab/Alert'\n\nimport VAT from './HolderChange/VAT'\nimport CUPS from './HolderChange/CUPS'\nimport PersonalData from './HolderChange/PersonalData'\nimport BecomeMember from './HolderChange/BecomeMember'\nimport VoluntaryCent from './HolderChange/VoluntaryCent'\nimport SpecialCases from './HolderChange/SpecialCases'\nimport IBAN from './HolderChange/IBAN'\nimport Review from './HolderChange/Review'\nimport MemberIdentifier from './HolderChange/MemberIdentifier'\nimport Success from './Success'\nimport Failure from './Failure'\n\nimport data from 'data/HolderChange/data.json'\n\nimport DisplayFormikState from 'components/DisplayFormikState'\n\nimport { holderChange } from 'services/api'\nimport { normalizeHolderChange, isHomeOwnerCommunityNif } from 'services/utils'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: '#f2f2f2',\n    color: theme.palette.text.primary\n  },\n  form: {\n    position: 'relative'\n  },\n  stepContainer: {\n    marginTop: theme.spacing(4),\n    marginBottom: theme.spacing(4),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: 'transparent'\n  },\n  step: {\n    position: 'absolute',\n    width: '100%'\n  },\n  actionsContainer: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  }\n}))\n\nfunction HolderChange(props) {\n  const classes = useStyles()\n  const { t, i18n } = useTranslation()\n  const { language } = useParams()\n\n  // const [showAll, setShowAll] = useState(false)\n  const [showInspector, setShowInspector] = useState(false)\n  const [activeStep, setActiveStep] = useState(0)\n  const [sending, setSending] = useState(false)\n  const [completed, setCompleted] = useState(false)\n  const [error, setError] = useState(false)\n  const [result, setResult] = useState({})\n\n  const keyMap = {\n    SHOW_INSPECTOR: 'ctrl+alt+shift+d'\n  }\n\n  const handlers = {\n    SAMPLE_DATA: () => {\n      const values = { ...initialValues, ...data }\n      console.log(values)\n    },\n    SHOW_INSPECTOR: () => {\n      setShowInspector(true)\n    }\n  }\n\n  const validationSchemas = [\n    Yup.object().shape({\n      holder: Yup.object().shape({\n        vat: Yup.string().required(t('FILL_NIF')),\n        vatvalid: Yup.bool()\n          .required(t('FILL_NIF'))\n          .oneOf([true], t('FILL_NIF'))\n      })\n    }),\n    Yup.object().shape({\n      supply_point: Yup.object().shape({\n        cups: Yup.string()\n          .required(t('CUPS_INVALID'))\n          .min(18, t('CUPS_INVALID'))\n          .test('statusError', t('CUPS_INVALID'), function () {\n            return !(this.parent.status === 'error')\n          })\n          .test('statusBusy', t('CUPS_IN_PROCESS'), function () {\n            return !(this.parent.status === 'busy')\n          })\n          .test('statusNew', t('CUPS_SHOULD_BE_ACTIVE'), function () {\n            return !(this.parent.status === 'new')\n          })\n          .test('statusInactive', t('CUPS_SHOULD_BE_ACTIVE'), function () {\n            return !(this.parent.status === 'inactive')\n          })\n          .test('statusInvalid', t('INVALID_SUPPLY_POINT_CUPS'), function () {\n            return !(this.parent.status === 'invalid')\n          }),\n        verified: Yup.bool()\n          .required(t('MARK_ADDRESS_CONFIRMATION_BOX'))\n          .oneOf([true], t('MARK_ADDRESS_CONFIRMATION_BOX')),\n        supply_point_accepted: Yup.bool()\n          .required(t('CUPS_VERIFY_LABEL'))\n          .oneOf([true], t('CUPS_VERIFY_LABEL'))\n      })\n    }),\n    Yup.object().shape({\n      holder: Yup.object().shape({\n        name: Yup.string().required(t('NO_NAME')),\n        surname1: Yup.string().when('isphisical', {\n          is: true,\n          then: Yup.string().required(t('NO_SURNAME1'))\n        }),\n        proxyname: Yup.string().when('isphisical', {\n          is: false,\n          then: Yup.string().required(t('NO_PROXY_NAME'))\n        }),\n        proxynif: Yup.string().when('isphisical', {\n          is: false,\n          then: Yup.string().required(t('NO_PROXY_NIF'))\n        }),\n        proxynif_valid: Yup.bool().when('isphisical', {\n          is: false,\n          then: Yup.bool().required(t('FILL_NIF')).oneOf([true], t('FILL_NIF'))\n        }),\n        proxynif_phisical: Yup.bool().when('isphisical', {\n          is: false,\n          then: Yup.bool()\n            .required(t('PROXY_NIF_PHISICAL'))\n            .oneOf([true], t('PROXY_NIF_PHISICAL'))\n        }),\n        address: Yup.string().required(t('NO_ADDRESS')),\n        number: Yup.string().required(t('NO_NUMBER')),\n        postal_code: Yup.string()\n          .matches(/^\\d*$/, t('NO_POSTALCODE'))\n          .required(t('NO_POSTALCODE'))\n          .min(5, t('NO_POSTALCODE'))\n          .max(5, t('NO_POSTALCODE')),\n        state: Yup.object().shape({\n          id: Yup.number().required(t('NO_STATE'))\n        }),\n        city: Yup.object().shape({\n          id: Yup.number().required(t('NO_CITY'))\n        }),\n        email: Yup.string().required(t('NO_EMAIL')).email(t('NO_EMAIL')),\n        email2: Yup.string().test(\n          'repeatEmail',\n          t('NO_REPEATED_EMAIL'),\n          function () {\n            return this.parent.email === this.parent.email2\n          }\n        ),\n        phone1: Yup.string().min(9, t('NO_PHONE')).required(t('NO_PHONE')),\n        phone2: Yup.string().min(9, t('NO_PHONE')),\n        language: Yup.string().required(t('NO_LANGUAGE'))\n      }),\n      legal_person_accepted: Yup.bool().test({\n        name: 'isTheMemberVat',\n        message: t('ACCEPT_LEGAL_PERSON'),\n        test: function () {\n          return !(\n            this.parent.holder.isphisical === false &&\n            this.parent.legal_person_accepted !== true\n          )\n        }\n      }),\n      privacy_policy_accepted: Yup.bool()\n        .required(t('UNACCEPTED_PRIVACY_POLICY'))\n        .oneOf([true], t('UNACCEPTED_PRIVACY_POLICY'))\n    }),\n    Yup.object().shape({\n      member: Yup.object().shape({\n        become_member: Yup.bool()\n          .required(t('UNACCEPTED_PRIVACY_POLICY'))\n          .oneOf([true, false], t('UNACCEPTED_PRIVACY_POLICY'))\n      })\n    }),\n    Yup.object().shape({\n      member: Yup.object().shape({\n        checked: Yup.bool()\n          .required(t('UNACCEPTED_PRIVACY_POLICY'))\n          .oneOf([true], t('UNACCEPTED_PRIVACY_POLICY'))\n      })\n    }),\n    Yup.object().shape({\n      payment: Yup.object().shape({\n        voluntary_cent: Yup.bool()\n          .required(t('NO_VOLUNTARY_DONATION_CHOICE_TAKEN'))\n          .oneOf([false, true], t('NO_VOLUNTARY_DONATION_CHOICE_TAKEN'))\n      })\n    }),\n    Yup.object().shape({\n      especial_cases: Yup.object().shape({\n        attachments: Yup.object()\n          .when('reason_death', {\n            is: true,\n            then: Yup.object().shape({\n              death: Yup.array()\n                .min(1, t('ELECTRODEP_ATTACH_REQUIRED'))\n                .max(1, t('ELECTRODEP_ATTACH_REQUIRED'))\n                .required(t('ELECTRODEP_ATTACH_REQUIRED'))\n            })\n          })\n          .when('reason_electrodep', {\n            is: true,\n            then: Yup.object().shape({\n              medical: Yup.array()\n                .min(1, t('ELECTRODEP_ATTACH_REQUIRED'))\n                .max(1, t('ELECTRODEP_ATTACH_REQUIRED'))\n                .required(t('ELECTRODEP_ATTACH_REQUIRED')),\n              resident: Yup.array()\n                .min(1, t('ELECTRODEP_ATTACH_REQUIRED'))\n                .max(1, t('ELECTRODEP_ATTACH_REQUIRED'))\n                .required(t('ELECTRODEP_ATTACH_REQUIRED'))\n            })\n          })\n          .when('reason_merge', {\n            is: true,\n            then: Yup.object().shape({\n              merge: Yup.array()\n                .min(1, t('ELECTRODEP_ATTACH_REQUIRED'))\n                .max(1, t('ELECTRODEP_ATTACH_REQUIRED'))\n                .required(t('ELECTRODEP_ATTACH_REQUIRED'))\n            })\n          })\n      })\n    }),\n    Yup.object().shape({\n      payment: Yup.object().shape({\n        iban: Yup.string().required(t('IBAN_ERROR')),\n        iban_valid: Yup.bool()\n          .required(t('IBAN_ERROR'))\n          .oneOf([true], t('IBAN_ERROR')),\n        sepa_accepted: Yup.bool()\n          .required(t('IBAN_ERROR'))\n          .oneOf([true], t('IBAN_ERROR'))\n      })\n    }),\n    Yup.object().shape({\n      terms_accepted: Yup.bool()\n        .required(t('UNACCEPTED_TERMS'))\n        .oneOf([true], t('UNACCEPTED_TERMS'))\n    })\n  ]\n\n  const MAX_STEP_NUMBER = 9\n\n  const getActiveStep = (props) => {\n    const url = t('DATA_PROTECTION_HOLDERCHANGE_URL')\n    return (\n      <>\n        {activeStep === 0 && <VAT {...props} />}\n        {activeStep === 1 && <CUPS {...props} />}\n        {activeStep === 2 && <PersonalData url={url} {...props} />}\n        {activeStep === 3 && <BecomeMember {...props} />}\n        {activeStep === 4 && <MemberIdentifier {...props} />}\n        {activeStep === 5 && <VoluntaryCent {...props} />}\n        {activeStep === 6 && <SpecialCases {...props} />}\n        {activeStep === 7 && <IBAN {...props} />}\n        {activeStep === 8 && <Review {...props} />}\n      </>\n    )\n  }\n\n  useEffect(() => {\n    i18n.changeLanguage(language)\n  }, [language, i18n])\n\n  /// True if the step has to be skipped according to the values\n  function skipStep(step, values, isBackwards = false) {\n    // TODO: backwards ismember was checked with \"=== true\", check it still works\n    // without\n    switch (step) {\n      case 3: // BecomeMember\n        if (values?.holder?.ismember) return true\n        if (isHomeOwnerCommunityNif(values?.holder?.vat)) return true\n        return false\n      case 4: // MemberIdentifier\n        if (values?.holder?.ismember) return true\n        if (values?.member?.become_member === true) return true\n        return false\n    }\n    return false\n  }\n\n  const nextStep = (values, actions) => {\n    let next = activeStep + 1\n\n    while (skipStep(next, values, false)) next++\n\n    const last = MAX_STEP_NUMBER\n    setActiveStep(Math.min(next, last))\n    actions.setTouched({})\n    actions.setSubmitting(false)\n  }\n\n  const prevStep = (values, actions) => {\n    let prev = activeStep - 1\n\n    while (skipStep(prev, values, true)) prev--\n\n    setActiveStep(Math.max(0, prev))\n    actions.setTouched({})\n    actions.setSubmitting(false)\n\n    if (completed) {\n      setCompleted(false)\n      setError(false)\n    }\n  }\n\n  const isLastStep = activeStep >= MAX_STEP_NUMBER - 1\n\n  const handleError = async (error) => {\n    let errorCode = error?.response?.data?.error?.code || 'UNEXPECTED'\n    const errorResp = error?.response?.data?.data || {}\n\n    if (error?.response?.data?.data?.invalid_fields) {\n      errorCode =\n        Object.keys(\n          error?.response?.data?.data?.invalid_fields[0]\n        )[0].toUpperCase() +\n        '_' +\n        errorCode\n    }\n\n    errorResp.code = errorCode\n    console.error(errorResp)\n    setError(errorResp)\n    setCompleted(true)\n  }\n\n  const handleSubmit = (values, actions) => {\n    isLastStep ? handlePost(values) : nextStep(values, actions)\n  }\n\n  const handlePost = async (values) => {\n    setSending(true)\n    const data = normalizeHolderChange(values)\n    await holderChange(data)\n      .then((response) => {\n        const responseData = response?.data ? response.data : {}\n        setResult(responseData)\n        setError(false)\n        setCompleted(true)\n      })\n      .catch((error) => {\n        console.error(error?.response)\n        handleError(error)\n      })\n    setActiveStep(MAX_STEP_NUMBER)\n    setSending(false)\n  }\n\n  const initialValues = {\n    holder: {\n      vat: '',\n      vatvalid: false,\n      isphisical: true,\n      proxynif_valid: false,\n      proxynif_phisical: true,\n      state: { id: '' },\n      city: { id: '' },\n      proxynif: '',\n      proxyname: '',\n      name: '',\n      address: '',\n      number: '',\n      floor: '',\n      door: '',\n      postal_code: '',\n      surname1: '',\n      surname2: '',\n      email: '',\n      email2: '',\n      phone1: '',\n      phone2: '',\n      language: `${i18n.language}_ES`\n    },\n    supply_point: {\n      cups: '',\n      status: false,\n      address: '',\n      verified: false,\n      supply_point_accepted: false,\n      tariff_type: ''\n    },\n    member: {\n      become_member: '',\n      invite_token: false,\n      checked: false\n    },\n    payment: {\n      iban: '',\n      sepa_accepted: false,\n      voluntary_cent: ''\n    },\n    especial_cases: {\n      reason_default: true,\n      reason_death: false,\n      reason_merge: false,\n      reason_electrodep: false,\n      attachments: {}\n    },\n    privacy_policy_accepted: false,\n    terms_accepted: false,\n    legal_person_accepted: false\n  }\n\n  return (\n    <GlobalHotKeys handlers={handlers} keyMap={keyMap}>\n      <Box className={classes.root}>\n        <Container maxWidth=\"md\">\n          <Formik\n            enableReinitialize\n            initialValues={initialValues}\n            validationSchema={validationSchemas[activeStep]}\n            validateOnMount\n            onSubmit={handleSubmit}>\n            {(props) => (\n              <>\n                <div className=\"ov-theme\">\n                  <Form className={classes.form} noValidate autoComplete=\"off\">\n                    {\n                      <Paper elevation={0} className={classes.stepContainer}>\n                        <LinearProgress\n                          variant={sending ? 'indeterminate' : 'determinate'}\n                          value={(activeStep / MAX_STEP_NUMBER) * 100}\n                        />\n                        <>\n                          {completed ? (\n                            <Box className=\"step-body\">\n                              {error ? (\n                                <Failure error={error} />\n                              ) : (\n                                <Success result={result} />\n                              )}\n                            </Box>\n                          ) : (\n                            getActiveStep(props)\n                          )}\n                        </>\n                        <Box mx={0} mt={2} mb={3}>\n                          <div className={classes.actionsContainer}>\n                            {result?.contract_number === undefined && (\n                              <Button\n                                data-cy=\"prev\"\n                                className={classes.button}\n                                startIcon={<ArrowBackIosIcon />}\n                                disabled={activeStep === 0 || sending}\n                                onClick={() => prevStep(props.values, props)}>\n                                {t('PAS_ANTERIOR')}\n                              </Button>\n                            )}\n                            {!completed && (\n                              <Button\n                                type=\"submit\"\n                                data-cy=\"next\"\n                                className={classes.button}\n                                variant=\"contained\"\n                                color=\"primary\"\n                                startIcon={\n                                  isLastStep &&\n                                  (sending ? (\n                                    <CircularProgress size={24} />\n                                  ) : (\n                                    <SendIcon />\n                                  ))\n                                }\n                                endIcon={!isLastStep && <ArrowForwardIosIcon />}\n                                disabled={sending || !props.isValid}>\n                                {!isLastStep ? t('SEGUENT_PAS') : t('SEND')}\n                              </Button>\n                            )}\n                          </div>\n                        </Box>\n                        <Box mx={0} mt={2} mb={3}>\n                          <div className={classes.actionsContainer}>\n                            {activeStep === 4 &&\n                              isHomeOwnerCommunityNif(\n                                props.values?.holder?.vat\n                              ) && (\n                                <>\n                                  <Box mt={3}>\n                                    <Alert severity=\"warning\">\n                                      <Typography\n                                        variant=\"body1\"\n                                        dangerouslySetInnerHTML={{\n                                          __html: t('CIF_COMMUNITY_OWNERS')\n                                        }}\n                                      />\n                                    </Alert>\n                                  </Box>\n                                </>\n                              )}\n                          </div>\n                        </Box>\n                      </Paper>\n                    }\n                  </Form>\n                </div>\n                {showInspector && <DisplayFormikState {...props} />}\n              </>\n            )}\n          </Formik>\n        </Container>\n      </Box>\n    </GlobalHotKeys>\n  )\n}\n\nexport default HolderChange\n"],"names":["props","values","setFieldValue","setFieldTouched","handleBlur","touched","errors","t","useTranslation","StepHeader","title","Box","className","dangerouslySetInnerHTML","__html","mt","mb","VATField","id","name","label","variant","fullWidth","required","autoFocus","value","holder","vat","onChange","isPhisical","valid","isMember","onBlur","error","vatvalid","helperText","FormHelperText","setTouched","handleChange","validateForm","useState","isLoading","setIsLoading","open","setOpen","isActiveCups","supply_point","status","useEffect","cups","length","checkCups","then","response","data","address","tariff_type","catch","console","errorStatus","CupsHelperText","href","target","rel","Typography","TextField","event","verified","match","toUpperCase","InputProps","endAdornment","InputAdornment","position","CircularProgress","size","CheckOutlined","color","disabled","mx","FormControlLabel","control","Checkbox","onClick","preventDefault","checked","supply_point_accepted","ml","TermsDialog","onAccept","onClose","maxWidth","variantMapping","body1","Chooser","question","option","member","become_member","options","description","canBeEmpty","useStyles","makeStyles","theme","root","display","flexWrap","margin","marginTop","spacing","container","width","chooserItem","cursor","paddingTop","paddingBottom","paddingRight","paddingLeft","border","backgroundColor","height","chooserItemSelected","fontWeight","opacity","chooserItemTitle","alignItems","chooserItemDesc","attachmentTitle","classes","specialHandleChange","especial_cases","reason_death","reason_merge","reason_electrodep","reason_default","attachments","death","merge","medical","resident","FormControl","component","FormGroup","clsx","Uploader","fieldError","callbackFn","withoutLabel","sectionTitle","fontSize","textTransform","marginBottom","field","divider","marginLeft","marginRight","dividerBottom","ReviewField","Grid","item","xs","sm","surname1","surname2","ismember","Divider","isphisical","proxyname","proxynif","number","floor","door","city","postal_code","state","phone1","email","languages","language","payment","iban","voluntary_cent","LegalText","documentName","terms_accepted","MemberIdentifierFields","palette","text","primary","form","stepContainer","flexDirection","step","actionsContainer","justifyContent","i18n","useParams","showInspector","setShowInspector","activeStep","setActiveStep","sending","setSending","completed","setCompleted","setError","result","setResult","handlers","SAMPLE_DATA","initialValues","log","SHOW_INSPECTOR","validationSchemas","Yup","shape","oneOf","min","test","this","parent","when","is","proxynif_valid","proxynif_phisical","matches","max","email2","phone2","legal_person_accepted","message","privacy_policy_accepted","iban_valid","sepa_accepted","getActiveStep","url","PersonalData","VoluntaryCent","IBAN","skipStep","isHomeOwnerCommunityNif","changeLanguage","isLastStep","MAX_STEP_NUMBER","handleError","errorCode","code","errorResp","invalid_fields","Object","keys","handlePost","normalizeHolderChange","holderChange","responseData","invite_token","GlobalHotKeys","keyMap","Container","enableReinitialize","validationSchema","validateOnMount","onSubmit","actions","next","Math","setSubmitting","nextStep","noValidate","autoComplete","Paper","elevation","LinearProgress","Failure","Success","undefined","contract_number","Button","button","startIcon","ArrowBackIos","prev","prevStep","type","Send","endIcon","ArrowForwardIos","isValid","Alert","severity","DisplayFormikState"],"sourceRoot":""}