"use strict";(self.webpackChunkwebforms_ui=self.webpackChunkwebforms_ui||[]).push([[150],{8952:function(e,n,t){var a=t(9439),i=t(2791),r=t(8596),o=t(8182),s=t(6782),l=t(1288),c=t(8912),d=t(4266),u=t(8302),m=t(184),v=(0,r.Z)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{marginTop:e.spacing(3)},title:{fontSize:"1rem",marginTop:e.spacing(2)},chooserItem:{cursor:"pointer",minHeight:"100px",height:"100%",paddingTop:e.spacing(2),paddingBottom:e.spacing(2),paddingRight:e.spacing(3),paddingLeft:e.spacing(3),border:"1px solid rgba(0, 0, 0, 0.12)",margin:"0 0 8px 0","&:hover":{border:"1px solid rgba(0, 0, 0, 0.87)",backgroundColor:"rgba(0, 0, 0, 0.03)"},display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"top"},chooserItemCondensed:{minHeight:"40px",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},chooserItemSelected:{margin:"0 0 8px 0",border:"1px solid #96b633",backgroundColor:"rgba(150, 182, 51, 0.08)","&:hover":{border:"1px solid #96b633",backgroundColor:"rgba(150, 182, 51, 0.08)"}},chooserItemDisabled:{cursor:"not-allowed",color:"rgba(0, 0, 0, 0.54)","&:hover":{border:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:"inherit"}},chooserItemTitle:{display:"flex",alignItems:"center"},chooserItemDesc:{marginTop:e.spacing(1),paddingLeft:e.spacing(1)}}})),h=function(e){var n=v(),t=e.question,r=e.options,h=e.onChange,p=e.value,x=e.disabled,f=e.name,g=e.condensed,Z=void 0!==g&&g,b=e.canBeEmpty,j=void 0===b||b,C=(0,i.useState)(p),S=(0,a.Z)(C,2),E=S[0],T=S[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.Z,{variant:"h6",className:n.title,dangerouslySetInnerHTML:{__html:t}}),(0,m.jsx)(d.Z,{className:n.margin,defaultValue:"",name:f,"data-cy":f,children:(0,m.jsx)(l.Z,{container:!0,spacing:3,children:r.map((function(e,t){return(0,m.jsxs)(l.Z,{item:!0,xs:12,sm:6,children:[(0,m.jsxs)("label",{"data-value":e.value,id:e.id||e.value,onClick:function(n){return!x&&function(e,n){"A"!==e.target.tagName&&(e.preventDefault(),j&&E===n?(T(void 0),h({option:void 0})):(T(n),h({option:n})))}(n,e.value)},className:(0,o.Z)(n.chooserItem,Z&&n.chooserItemCondensed,E===e.value&&n.chooserItemSelected,x&&n.chooserItemDisabled),children:[(0,m.jsxs)("div",{className:n.chooserItemTitle,children:[(0,m.jsx)(c.Z,{disabled:x,value:e.value,color:"primary",checked:E===e.value}),(0,m.jsx)(u.Z,{children:e.label})]}),e.description&&(0,m.jsx)(s.Z,{className:n.chooserItemDesc,dangerouslySetInnerHTML:{__html:e.description}})]}),e.helper]},t)}))})})]})};h.defaultProps={onChange:function(e){return console.log("change",e.value)}},n.Z=h},5815:function(e,n,t){var a=t(4165),i=t(5861),r=t(3433),o=t(9439),s=t(2791),l=t(3168),c=t(8596),d=t(7025),u=t(4279),m=t(5720),v=t(9626),h=t(2067),p=t(8096),x=t(1969),f=t(4212),g=t(159),Z=t(320),b=t(1519),j=t(7303),C=t(3777),S=t(9299),E=t(184),T=(0,c.Z)((function(e){return{input:{"& input":{color:"rgba(0, 0, 0, 0.54)"},"& path":{color:"rgba(0, 0, 0, 0.54)"}}}})),_=function(e){var n=e.name,t=e.callbackFn,c=e.fieldError,_=e.values,y=e.maxFiles,A=(0,l.$)().t,N=T(),I=(0,s.useState)((0,r.Z)(_)),R=(0,o.Z)(I,2),O=R[0],k=R[1],D=(0,s.useState)(Date.now()),w=(0,o.Z)(D,2),P=w[0],L=w[1],B=(0,s.useState)(!1),F=(0,o.Z)(B,2),U=F[0],M=F[1],V=(0,s.useState)(!1),H=(0,o.Z)(V,2),z=H[0],G=H[1];(0,s.useEffect)((function(){t(O)}),[O]);var Y=(0,s.useCallback)(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,S.cT)(n,t).then((function(e){var n;if("UPLOAD_OK"===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.code)){var t;k([].concat((0,r.Z)(O),[null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.file_hash])),L(Date.now())}else{var a,i,o=null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.code?null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.code:"MODIFY_POTTAR_UNEXPECTED";G(o)}})).catch((function(e){var n,t,a=null!==e&&void 0!==e&&null!==(n=e.response)&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.code?e.response.data.code:"MODIFY_POTTAR_UNEXPECTED";G(a)})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[O]),q=(0,s.useCallback)(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),t=n.target.name,i=n.target.files[0],e.next=5,Y(t,i);case 5:M(!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[Y]),W=(0,s.useCallback)((function(e,n){var t=O;t.splice(n,1),k((0,r.Z)(t))}),[O]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(v.Z,{type:"file",label:"",className:N.input,required:!0,name:n,variant:"outlined",onChange:q,disabled:y<=O.length,fullWidth:!0,InputProps:{endAdornment:(0,E.jsx)(u.Z,{position:"end",children:U?(0,E.jsx)(m.Z,{size:24}):z?(0,E.jsx)(d.Z,{onClick:function(e){e.preventDefault(),G(!1),L(Date.now())},children:(0,E.jsx)(b.Z,{})}):(0,E.jsx)(Z.Z,{})})},error:(z||c)&&!0,helperText:A(z||(c||"INSTALL_TYPE_ATTACHMENTS_INFO"))},P),(0,E.jsx)(h.Z,{children:O.map((function(e,n){return(0,E.jsxs)(p.Z,{children:[(0,E.jsx)(x.Z,{children:(0,E.jsx)(j.Z,{})}),(0,E.jsx)(g.Z,{children:e}),(0,E.jsx)(f.Z,{children:(0,E.jsx)(d.Z,{edge:"end","aria-label":"delete",onClick:function(e){return W(e,n)},children:(0,E.jsx)(C.Z,{})})})]},e)}))})]})};_.defaultProps={name:"uploads",values:[],maxFiles:1},n.Z=s.memo(_)},7150:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var a=t(4165),i=t(5861),r=t(1413),o=t(9439),s=t(2791),l=t(7689),c=t(3168),d=t(8596),u=t(1070),m=t(9299),v=t(2130),h=t(8788),p=t(3032),x=t(4910),f=t(968),g=t(5119),Z=t(464),b=t(5173),j=t(2797),C=t(4265),S=t(6513),E=t(7447),T=t(1288),_=t(9526),y=t(8302),A=t(8952),N=t(9329),I=t(184),R=(0,d.Z)((function(e){return{root:{flexGrow:1,width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(1),display:"flex",justifyContent:"flex-end"},paperContainer:{marginTop:e.spacing(2),padding:e.spacing(2)},sectionTitle:{fontSize:"1rem",fontWeight:500,textTransform:"uppercase",marginTop:e.spacing(2),marginBottom:e.spacing(2)},label:{textTransform:"uppercase",paddingRight:"12px",fontSize:"14px",fontWeight:400,color:"rgba(0, 0, 0, 0.54)"},chooserLabelBox:{"& label":{minHeight:"auto"}}}}));var O=function(e){var n=e.handleAcceptClick,t=e.handleStepChanges,a=e.params,i=R(),o=(0,c.$)().t,s=j.Ry().shape({validate:j.O7().required(o("CHOOSER_REQUIRED")).oneOf([!0,!1],o("INVALID_CHOOSER_OPTION"))});return(0,I.jsx)(_.Z,{className:i.paperContainer,elevation:0,children:(0,I.jsx)(b.J9,{enableReinitialize:!0,initialValues:(0,r.Z)({validate:""},a),validateOnMount:!0,validationSchema:s,onSubmit:function(e){t({validate:null===e||void 0===e?void 0:e.validate}),n()},children:function(e){var n=e.values,t=(e.errors,e.touched,e.isValid),a=e.handleSubmit,r=e.setFieldValue;return(0,I.jsxs)(b.l0,{onSubmit:a,noValidate:!0,autoComplete:"off",children:[(null===n||void 0===n?void 0:n.to_validate)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.Z,{mt:1,mx:1,mb:2,children:(0,I.jsx)(y.Z,{variant:"body1",dangerouslySetInnerHTML:{__html:o("REVIEW_DATA_D1")}})}),(0,I.jsx)(C.Z,{mx:1,mb:3,children:(0,I.jsx)(E.Z,{})})]}),(0,I.jsxs)(C.Z,{mx:1,mb:2,children:[(0,I.jsx)(y.Z,{className:i.sectionTitle,variant:"h6",children:o("DATOS_AUTOCONSUMO")}),(0,I.jsx)(C.Z,{mb:0,children:(0,I.jsxs)(T.Z,{container:!0,spacing:1,children:[(0,I.jsxs)(T.Z,{item:!0,xs:12,sm:6,children:[(0,I.jsx)(y.Z,{className:i.label,variant:"subtitle2",gutterBottom:!0,children:o("REGISTER_SECTION")}),(0,I.jsx)(y.Z,{"data-cy":"register_section",variant:"body1",gutterBottom:!0,children:null===n||void 0===n?void 0:n.register_section})]}),(0,I.jsxs)(T.Z,{item:!0,xs:12,sm:6,children:[(0,I.jsx)(y.Z,{className:i.label,variant:"subtitle2",gutterBottom:!0,children:o("SUBSECTION")}),(0,I.jsx)(y.Z,{"data-cy":"subsection",variant:"body1",gutterBottom:!0,children:null===n||void 0===n?void 0:n.subsection})]}),(0,I.jsxs)(T.Z,{item:!0,xs:12,sm:6,children:[(0,I.jsx)(y.Z,{className:i.label,variant:"subtitle2",gutterBottom:!0,children:o("CIL")}),(0,I.jsx)(y.Z,{"data-cy":"cil",variant:"body1",gutterBottom:!0,children:null===n||void 0===n?void 0:n.cil})]}),(0,I.jsxs)(T.Z,{item:!0,xs:12,sm:6,children:[(0,I.jsx)(y.Z,{className:i.label,variant:"subtitle2",gutterBottom:!0,children:o("CAU")}),(0,I.jsx)(y.Z,{"data-cy":"cau",variant:"body1",gutterBottom:!0,children:null===n||void 0===n?void 0:n.cau})]}),(0,I.jsxs)(T.Z,{item:!0,xs:12,sm:6,children:[(0,I.jsx)(y.Z,{className:i.label,variant:"subtitle2",gutterBottom:!0,children:o("COLLECTIVE")}),(0,I.jsx)(y.Z,{"data-cy":"collective",variant:"body1",gutterBottom:!0,children:null!==n&&void 0!==n&&n.collective?o("SI"):o("NO")})]})]})}),(0,I.jsx)(y.Z,{className:i.sectionTitle,variant:"h6",children:o("DATOS_GENERADORES")}),(0,I.jsx)(C.Z,{mb:0,children:(0,I.jsxs)(T.Z,{container:!0,spacing:1,children:[(0,I.jsxs)(T.Z,{item:!0,xs:12,sm:6,children:[(0,I.jsx)(y.Z,{className:i.label,variant:"subtitle2",gutterBottom:!0,children:o("INSTALLATION_TYPE")}),(0,I.jsx)(y.Z,{"data-cy":"installation_type",variant:"body1",gutterBottom:!0,children:null===n||void 0===n?void 0:n.installation_type})]}),(0,I.jsxs)(T.Z,{item:!0,xs:12,sm:6,children:[(0,I.jsx)(y.Z,{className:i.label,variant:"subtitle2",gutterBottom:!0,children:o("GENERATOR_TECHNOLOGY")}),(0,I.jsx)(y.Z,{"data-cy":"generator_technology",variant:"body1",gutterBottom:!0,children:null===n||void 0===n?void 0:n.generator_technology})]}),(0,I.jsxs)(T.Z,{item:!0,xs:12,sm:6,children:[(0,I.jsx)(y.Z,{className:i.label,variant:"subtitle2",gutterBottom:!0,children:o("SSAA")}),(0,I.jsx)(y.Z,{"data-cy":"ssaa",variant:"body1",gutterBottom:!0,children:null!==n&&void 0!==n&&n.ssaa?o("SI"):o("NO")})]}),(0,I.jsxs)(T.Z,{item:!0,xs:12,sm:6,children:[(0,I.jsx)(y.Z,{className:i.label,variant:"subtitle2",gutterBottom:!0,children:o("INSTALLED_POWER")}),(0,I.jsxs)(y.Z,{"data-cy":"installed_power",variant:"body1",gutterBottom:!0,children:[null===n||void 0===n?void 0:n.installed_power," kW"]})]})]})})]}),(null===n||void 0===n?void 0:n.to_validate)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(C.Z,{mx:1,mb:3,children:(0,I.jsx)(E.Z,{})}),(0,I.jsx)(C.Z,{mx:1,mb:2,className:i.chooserLabelBox,children:(0,I.jsx)(A.Z,{canBeEmpty:!1,question:o("ACCEPTACIO_AUTO"),onChange:function(e){return function(e,n,t){e("validate",t)}(r,0,null===e||void 0===e?void 0:e.option)},value:null===n||void 0===n?void 0:n.validate,options:[{value:!0,label:o("AVIS_ACCEPTACIO_AUTO")},{value:!1,label:o("AVIS_REBUIG_AUTO")}]})}),(0,I.jsx)("div",{className:i.actionsContainer,children:(0,I.jsx)(S.Z,{type:"submit",className:i.button,variant:"contained",color:"primary",disabled:!t,endIcon:(0,I.jsx)(N.Z,{}),children:o("SEGUENT_PAS")})})]})]})}})})},k=t(5720),D=t(9626),w=t(6716),P=t(2439),L=t(5815),B=(0,d.Z)((function(e){return{root:{flexGrow:1,width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(1),display:"flex",justifyContent:"space-between"},resetContainer:{padding:e.spacing(3)},paperContainer:{marginTop:e.spacing(2),padding:e.spacing(2)}}}));var F=function(e){var n=e.prevStep,t=e.handlePost,l=(e.handleRefuseClick,e.handleStepChanges),d=e.params,u=B(),m=(0,c.$)().t,v=(0,s.useState)(!1),h=(0,o.Z)(v,2),p=h[0],x=h[1],f=j.Ry().shape({refuseReason:j.Z_().required(m("NO_REFUSE_REASON")).max(500,m("REFUSE_REASON_TOO_LONG"))});return(0,I.jsx)(_.Z,{className:u.paperContainer,elevation:0,children:(0,I.jsx)(b.J9,{initialValues:(0,r.Z)({d1Attachments:[],refuseReason:""},d),validationSchema:f,onSubmit:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({refuseReason:null===n||void 0===n?void 0:n.refuseReason,d1Attachments:null===n||void 0===n?void 0:n.d1Attachments});case 2:return x(!0),e.next=5,t(n);case 5:x(!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,a=e.errors,i=e.touched,r=e.isValid,o=e.handleChange,s=e.handleBlur,l=e.handleSubmit,c=e.setFieldValue;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(b.l0,{onSubmit:l,noValidate:!0,children:[(0,I.jsx)(C.Z,{mt:1,mx:1,mb:2,children:(0,I.jsx)(y.Z,{component:"div",variant:"body1",dangerouslySetInnerHTML:{__html:m("ATTACHMENTS_D1_INTRO_REFUSE")}})}),(0,I.jsx)(C.Z,{mx:1,mb:2,children:(0,I.jsx)(D.Z,{id:"refuseReason",name:"refuseReason",label:m("REFUSE_REASON"),error:(null===a||void 0===a?void 0:a.refuseReason)&&(null===i||void 0===i?void 0:i.refuseReason),helperText:(null===i||void 0===i?void 0:i.refuseReason)&&(null===a||void 0===a?void 0:a.refuseReason),onChange:o,onBlur:s,value:t.refuseReason,fullWidth:!0,variant:"outlined",margin:"normal",required:!0,inputProps:{maxLength:500}})}),(0,I.jsxs)(C.Z,{mt:2,mb:1,children:[(0,I.jsx)(C.Z,{mt:3,mx:1,mb:1,children:(0,I.jsx)(y.Z,{children:m("D1_ATTACHMENTS_REFUSE")})}),(0,I.jsx)(C.Z,{mx:1,mt:1,mb:1,children:(0,I.jsx)(L.Z,{maxFiles:5,fieldError:(null===a||void 0===a?void 0:a.d1Attachments)&&(null===i||void 0===i?void 0:i.d1Attachments)&&(null===a||void 0===a?void 0:a.d1Attachments),callbackFn:function(e){return c("d1Attachments",e)},values:t.d1Attachments})})]}),(0,I.jsxs)("div",{className:u.actionsContainer,children:[(0,I.jsx)(S.Z,{"data-cy":"prev",className:u.button,startIcon:(0,I.jsx)(w.Z,{}),disabled:null===d||void 0===d?void 0:d.sending,onClick:function(){return n(d)},children:m("PAS_ANTERIOR")}),(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(S.Z,{type:"submit",className:u.button,color:"primary",variant:"contained",disabled:!r||p,startIcon:p?(0,I.jsx)(k.Z,{size:24}):(0,I.jsx)(P.Z,{}),children:m("ENVIAR")})})]})]})})}})})},U=!1,M=(0,d.Z)((function(e){return{root:{flexGrow:1,width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(1),display:"flex",justifyContent:"space-between"},resetContainer:{padding:e.spacing(3)},paperContainer:{marginTop:e.spacing(2),padding:e.spacing(2)},chooserLabelBox:{"& label":{minHeight:"110px"}}}}));var V=function(e){var n=e.prevStep,t=e.handlePost,l=e.handleStepChanges,d=e.nextStep,u=e.params,m=M(),v=(0,c.$)().t,h=(0,s.useState)(!1),p=(0,o.Z)(h,2),x=p[0],f=p[1],g=j.Ry().shape({m1:j.Xg().required(v("UNACCEPTED_PRIVACY_POLICY")).oneOf([!0,!1],v("UNACCEPTED_PRIVACY_POLICY"))});return(0,I.jsx)(_.Z,{className:m.paperContainer,elevation:0,children:(0,I.jsx)(b.J9,{initialValues:(0,r.Z)((0,r.Z)({},{d1Attachments:[],m1:!1}),u),validationSchema:g,onSubmit:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l({d1Attachments:null===n||void 0===n?void 0:n.d1Attachments,m1:null===n||void 0===n?void 0:n.m1}),null===n||void 0===n||!n.m1){e.next=5;break}d(),e.next=9;break;case 5:return f(!0),e.next=8,t(n);case 8:f(!1);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:function(e){var t=e.values,a=e.errors,i=e.touched,r=(e.isValid,e.handleSubmit),o=e.setFieldValue;return(0,I.jsxs)(b.l0,{onSubmit:r,noValidate:!0,children:[(0,I.jsx)(C.Z,{mt:1,mx:1,mb:2,children:(0,I.jsx)(y.Z,{variant:"body1",dangerouslySetInnerHTML:{__html:v("ATTACHMENTS_D1_INTRO_ACCEPT")}})}),(0,I.jsxs)(C.Z,{mt:3,mb:1,children:[(0,I.jsx)(C.Z,{mt:3,mx:1,mb:1,children:(0,I.jsx)(y.Z,{variant:"body1",component:"div",dangerouslySetInnerHTML:{__html:v("D1_ATTACHMENTS_ACCEPT")}})}),(0,I.jsx)(C.Z,{mx:1,mt:3,mb:1,children:(0,I.jsx)(L.Z,{maxFiles:5,fieldError:(null===a||void 0===a?void 0:a.d1Attachments)&&((null===i||void 0===i?void 0:i.d1Attachments)||""!==(null===t||void 0===t?void 0:t.m1))&&(null===a||void 0===a?void 0:a.d1Attachments),callbackFn:function(e){return o("d1Attachments",e)},values:t.d1Attachments})})]}),U,(0,I.jsxs)("div",{className:m.actionsContainer,children:[(0,I.jsx)(S.Z,{"data-cy":"prev",className:m.button,startIcon:(0,I.jsx)(w.Z,{}),disabled:x,onClick:function(){return n(u)},children:v("PAS_ANTERIOR")}),(0,I.jsx)(S.Z,{type:"submit",className:m.button,color:"primary",variant:"contained",disabled:x,endIcon:x&&(0,I.jsx)(k.Z,{size:24})||!1===(null===t||void 0===t?void 0:t.m1)&&(0,I.jsx)(P.Z,{})||(0,I.jsx)(N.Z,{}),children:!1===(null===t||void 0===t?void 0:t.m1)&&v("ENVIAR")||v("SEGUENT_PAS")})]})]})}})})},H=(0,d.Z)((function(e){return{root:{width:"100%",backgroundColor:"#f2f2f2"},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(2)},responseContainer:{padding:e.spacing(1)},stepper:{backgroundColor:"#f2f2f2",paddingLeft:e.spacing(1),paddingRight:e.spacing(1),paddingBottom:e.spacing(1)},stepLabel:{fontSize:"1.15rem"}}})),z=["DETAIL_D1_TITLE","ACCEPT_OR_REFUSE_TITLE","REVISIO_CONFIRMACIO_DADES"];var G=function(e){var n,t=H(),d=(0,c.$)(),b=d.t,j=d.i18n,C=(0,l.UO)().language,S=(0,l.TH)().state,E=e.templateProps,T=void 0===E?u._2:E;(0,s.useEffect)((function(){j.changeLanguage(C)}),[C,j]);var _=(0,s.useState)(null!==S&&void 0!==S&&S.d1CaseData?1:0),y=(0,o.Z)(_,2),A=y[0],N=y[1],R=(0,s.useState)((null===S||void 0===S?void 0:S.d1CaseData)||T),k=(0,o.Z)(R,2),D=k[0],w=k[1],P=(0,s.useCallback)((function(e){w((0,r.Z)((0,r.Z)({},D),e))}),[D]),L=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,u.JU)(n),e.next=3,(0,m.kk)(t,null===n||void 0===n?void 0:n.case_id,null===n||void 0===n?void 0:n.token).then((function(e){P({response:e.data}),U()})).catch((function(e){var n,t,a={error:null!==e&&void 0!==e&&null!==(n=e.response)&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.error?e.response.data.error:{code:"MODIFY_POTTAR_UNEXPECTED"}};P(a),U()}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(e){switch(e){case 0:return(0,I.jsx)(O,{handleAcceptClick:function(){return U(1)},handleStepChanges:P,params:D});case 1:return null!==D&&void 0!==D&&D.validate?(0,I.jsx)(V,{prevStep:function(){return M()},nextStep:function(){return U(2)},handlePost:L,handleStepChanges:P,params:D}):(0,I.jsx)(F,{handlePost:L,prevStep:function(){return M()},handleStepChanges:P,params:D});default:return(0,I.jsx)(l.Fg,{to:{pathname:"/".concat(C,"/contract/modification")},state:{d1CaseData:D}})}},U=function(e){N(e)},M=function(){N((function(e){return e-1}))};return(0,I.jsx)("div",{className:t.root,children:(null===D||void 0===D?void 0:D.to_validate)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(x.Z,{className:t.stepper,activeStep:A,orientation:"vertical",children:z.map((function(e,n){return(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(g.Z,{error:n===z.length-1&&void 0!==(null===D||void 0===D?void 0:D.error),children:(0,I.jsx)("span",{className:t.stepLabel,children:b(e)})}),(0,I.jsx)(Z.Z,{children:void 0===(null===D||void 0===D?void 0:D.error)&&void 0===(null===D||void 0===D?void 0:D.response)&&B(n)})]},e)}))}),(null===D||void 0===D?void 0:D.error)&&(0,I.jsx)(p.Z,{in:void 0!==(null===D||void 0===D?void 0:D.error),children:(0,I.jsx)("div",{className:t.responseContainer,children:(0,I.jsxs)(v.Z,{severity:"error",children:[(0,I.jsx)(h.Z,{children:b("ERROR_POST_MODIFY")}),b(null===D||void 0===D||null===(n=D.error)||void 0===n?void 0:n.code)]})})}),(null===D||void 0===D?void 0:D.response)&&(0,I.jsx)(p.Z,{in:void 0!==(null===D||void 0===D?void 0:D.response),children:(0,I.jsx)("div",{className:t.responseContainer,children:(0,I.jsxs)(v.Z,{severity:"success",children:[(null===D||void 0===D?void 0:D.validate)&&(0,I.jsx)(h.Z,{children:b("MODIFY_POTTAR_SUCCESS_TITTLE")})||(0,I.jsx)(h.Z,{children:b("REFUSE_SUCCESS_TITTLE")}),b("MODIFY_POTTAR_SUCCESS_MESSAGE")]})})})]})||(0,I.jsx)(O,{nextStep:function(){return U(1)},handleStepChanges:P,params:D})})}},7447:function(e,n,t){var a=t(7462),i=t(5987),r=t(2791),o=t(8182),s=t(5936),l=t(3108),c=r.forwardRef((function(e,n){var t=e.absolute,s=void 0!==t&&t,l=e.classes,c=e.className,d=e.component,u=void 0===d?"hr":d,m=e.flexItem,v=void 0!==m&&m,h=e.light,p=void 0!==h&&h,x=e.orientation,f=void 0===x?"horizontal":x,g=e.role,Z=void 0===g?"hr"!==u?"separator":void 0:g,b=e.variant,j=void 0===b?"fullWidth":b,C=(0,i.Z)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return r.createElement(u,(0,a.Z)({className:(0,o.Z)(l.root,c,"fullWidth"!==j&&l[j],s&&l.absolute,v&&l.flexItem,p&&l.light,"vertical"===f&&l.vertical),role:Z,ref:n},C))}));n.Z=(0,s.Z)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,l.Fq)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(c)},9861:function(e,n,t){var a=t(7462),i=t(5987),r=t(2791),o=t(8182),s=t(5936),l=r.forwardRef((function(e,n){var t=e.classes,s=e.className,l=e.row,c=void 0!==l&&l,d=(0,i.Z)(e,["classes","className","row"]);return r.createElement("div",(0,a.Z)({className:(0,o.Z)(t.root,s,c&&t.row),ref:n},d))}));n.Z=(0,s.Z)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(l)},8912:function(e,n,t){t.d(n,{Z:function(){return b}});var a=t(7462),i=t(5987),r=t(2791),o=t(8182),s=t(839),l=t(4327),c=(0,l.Z)(r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),d=(0,l.Z)(r.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),u=t(5936);var m=(0,u.Z)((function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function(e){var n=e.checked,t=e.classes,a=e.fontSize;return r.createElement("div",{className:(0,o.Z)(t.root,n&&t.checked)},r.createElement(c,{fontSize:a}),r.createElement(d,{fontSize:a,className:t.layer}))})),v=t(3108),h=t(1122),p=t(7545),x=t(3139);var f=r.createElement(m,{checked:!0}),g=r.createElement(m,null),Z=r.forwardRef((function(e,n){var t=e.checked,l=e.classes,c=e.color,d=void 0===c?"secondary":c,u=e.name,m=e.onChange,v=e.size,Z=void 0===v?"medium":v,b=(0,i.Z)(e,["checked","classes","color","name","onChange","size"]),j=r.useContext(x.Z),C=t,S=(0,p.Z)(m,j&&j.onChange),E=u;return j&&("undefined"===typeof C&&(C=j.value===e.value),"undefined"===typeof E&&(E=j.name)),r.createElement(s.Z,(0,a.Z)({color:d,type:"radio",icon:r.cloneElement(g,{fontSize:"small"===Z?"small":"medium"}),checkedIcon:r.cloneElement(f,{fontSize:"small"===Z?"small":"medium"}),classes:{root:(0,o.Z)(l.root,l["color".concat((0,h.Z)(d))]),checked:l.checked,disabled:l.disabled},name:E,checked:C,onChange:S,ref:n},b))})),b=(0,u.Z)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,v.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,v.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiRadio"})(Z)},4266:function(e,n,t){var a=t(7462),i=t(9439),r=t(5987),o=t(2791),s=t(9861),l=t(9806),c=t(2497),d=t(3139),u=t(2939),m=o.forwardRef((function(e,n){var t=e.actions,m=e.children,v=e.name,h=e.value,p=e.onChange,x=(0,r.Z)(e,["actions","children","name","value","onChange"]),f=o.useRef(null),g=(0,c.Z)({controlled:h,default:e.defaultValue,name:"RadioGroup"}),Z=(0,i.Z)(g,2),b=Z[0],j=Z[1];o.useImperativeHandle(t,(function(){return{focus:function(){var e=f.current.querySelector("input:not(:disabled):checked");e||(e=f.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var C=(0,l.Z)(n,f),S=(0,u.Z)(v);return o.createElement(d.Z.Provider,{value:{name:S,onChange:function(e){j(e.target.value),p&&p(e,e.target.value)},value:b}},o.createElement(s.Z,(0,a.Z)({role:"radiogroup",ref:C},x),m))}));n.Z=m},3139:function(e,n,t){var a=t(2791).createContext();n.Z=a},2439:function(e,n,t){var a=t(4836),i=t(5263);n.Z=void 0;var r=i(t(2791)),o=(0,a(t(4894)).default)(r.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");n.Z=o}}]);
//# sourceMappingURL=150.be319418.chunk.js.map