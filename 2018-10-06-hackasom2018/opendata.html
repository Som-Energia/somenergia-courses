<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="David García Garzón">
  <title>Open Data</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link href="data:text/css;charset=utf-8,%0A%0Ahtml%2C%20body%2C%20%2Ereveal%20div%2C%20%2Ereveal%20span%2C%20%2Ereveal%20applet%2C%20%2Ereveal%20object%2C%20%2Ereveal%20iframe%2C%0A%2Ereveal%20h1%2C%20%2Ereveal%20h2%2C%20%2Ereveal%20h3%2C%20%2Ereveal%20h4%2C%20%2Ereveal%20h5%2C%20%2Ereveal%20h6%2C%20%2Ereveal%20p%2C%20%2Ereveal%20blockquote%2C%20%2Ereveal%20pre%2C%0A%2Ereveal%20a%2C%20%2Ereveal%20abbr%2C%20%2Ereveal%20acronym%2C%20%2Ereveal%20address%2C%20%2Ereveal%20big%2C%20%2Ereveal%20cite%2C%20%2Ereveal%20code%2C%0A%2Ereveal%20del%2C%20%2Ereveal%20dfn%2C%20%2Ereveal%20em%2C%20%2Ereveal%20img%2C%20%2Ereveal%20ins%2C%20%2Ereveal%20kbd%2C%20%2Ereveal%20q%2C%20%2Ereveal%20s%2C%20%2Ereveal%20samp%2C%0A%2Ereveal%20small%2C%20%2Ereveal%20strike%2C%20%2Ereveal%20strong%2C%20%2Ereveal%20sub%2C%20%2Ereveal%20sup%2C%20%2Ereveal%20tt%2C%20%2Ereveal%20var%2C%0A%2Ereveal%20b%2C%20%2Ereveal%20u%2C%20%2Ereveal%20center%2C%0A%2Ereveal%20dl%2C%20%2Ereveal%20dt%2C%20%2Ereveal%20dd%2C%20%2Ereveal%20ol%2C%20%2Ereveal%20ul%2C%20%2Ereveal%20li%2C%0A%2Ereveal%20fieldset%2C%20%2Ereveal%20form%2C%20%2Ereveal%20label%2C%20%2Ereveal%20legend%2C%0A%2Ereveal%20table%2C%20%2Ereveal%20caption%2C%20%2Ereveal%20tbody%2C%20%2Ereveal%20tfoot%2C%20%2Ereveal%20thead%2C%20%2Ereveal%20tr%2C%20%2Ereveal%20th%2C%20%2Ereveal%20td%2C%0A%2Ereveal%20article%2C%20%2Ereveal%20aside%2C%20%2Ereveal%20canvas%2C%20%2Ereveal%20details%2C%20%2Ereveal%20embed%2C%0A%2Ereveal%20figure%2C%20%2Ereveal%20figcaption%2C%20%2Ereveal%20footer%2C%20%2Ereveal%20header%2C%20%2Ereveal%20hgroup%2C%0A%2Ereveal%20menu%2C%20%2Ereveal%20nav%2C%20%2Ereveal%20output%2C%20%2Ereveal%20ruby%2C%20%2Ereveal%20section%2C%20%2Ereveal%20summary%2C%0A%2Ereveal%20time%2C%20%2Ereveal%20mark%2C%20%2Ereveal%20audio%2C%20%2Ereveal%20video%20%7B%0Amargin%3A%200%3B%0Apadding%3A%200%3B%0Aborder%3A%200%3B%0Afont%2Dsize%3A%20100%25%3B%0Afont%3A%20inherit%3B%0Avertical%2Dalign%3A%20baseline%3B%20%7D%0A%2Ereveal%20article%2C%20%2Ereveal%20aside%2C%20%2Ereveal%20details%2C%20%2Ereveal%20figcaption%2C%20%2Ereveal%20figure%2C%0A%2Ereveal%20footer%2C%20%2Ereveal%20header%2C%20%2Ereveal%20hgroup%2C%20%2Ereveal%20menu%2C%20%2Ereveal%20nav%2C%20%2Ereveal%20section%20%7B%0Adisplay%3A%20block%3B%20%7D%0A%0Ahtml%2C%0Abody%20%7B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Aoverflow%3A%20hidden%3B%20%7D%0Abody%20%7B%0Aposition%3A%20relative%3B%0Aline%2Dheight%3A%201%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0Acolor%3A%20%23000%3B%20%7D%0A%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%20%7B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%0Atransition%3A%20all%20%2E2s%20ease%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Evisible%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20inherit%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Egrow%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20inherit%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Egrow%2Evisible%20%7B%0A%2Dwebkit%2Dtransform%3A%20scale%281%2E3%29%3B%0Atransform%3A%20scale%281%2E3%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Eshrink%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20inherit%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Eshrink%2Evisible%20%7B%0A%2Dwebkit%2Dtransform%3A%20scale%280%2E7%29%3B%0Atransform%3A%20scale%280%2E7%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ezoom%2Din%20%7B%0A%2Dwebkit%2Dtransform%3A%20scale%280%2E1%29%3B%0Atransform%3A%20scale%280%2E1%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ezoom%2Din%2Evisible%20%7B%0A%2Dwebkit%2Dtransform%3A%20none%3B%0Atransform%3A%20none%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Dout%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20inherit%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Dout%2Evisible%20%7B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Esemi%2Dfade%2Dout%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20inherit%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Esemi%2Dfade%2Dout%2Evisible%20%7B%0Aopacity%3A%200%2E5%3B%0Avisibility%3A%20inherit%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Estrike%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20inherit%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Estrike%2Evisible%20%7B%0Atext%2Ddecoration%3A%20line%2Dthrough%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Dup%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%2020%25%29%3B%0Atransform%3A%20translate%280%2C%2020%25%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Dup%2Evisible%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%200%29%3B%0Atransform%3A%20translate%280%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Ddown%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%20%2D20%25%29%3B%0Atransform%3A%20translate%280%2C%20%2D20%25%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Ddown%2Evisible%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%200%29%3B%0Atransform%3A%20translate%280%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Dright%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%28%2D20%25%2C%200%29%3B%0Atransform%3A%20translate%28%2D20%25%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Dright%2Evisible%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%200%29%3B%0Atransform%3A%20translate%280%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Dleft%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%2820%25%2C%200%29%3B%0Atransform%3A%20translate%2820%25%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Dleft%2Evisible%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%200%29%3B%0Atransform%3A%20translate%280%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Din%2Dthen%2Dout%2C%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ecurrent%2Dvisible%20%7B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Din%2Dthen%2Dout%2Ecurrent%2Dfragment%2C%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ecurrent%2Dvisible%2Ecurrent%2Dfragment%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20inherit%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Din%2Dthen%2Dsemi%2Dout%20%7B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Din%2Dthen%2Dsemi%2Dout%2Evisible%20%7B%0Aopacity%3A%200%2E5%3B%0Avisibility%3A%20inherit%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Efade%2Din%2Dthen%2Dsemi%2Dout%2Ecurrent%2Dfragment%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20inherit%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dred%2C%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dcurrent%2Dred%2C%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dgreen%2C%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dcurrent%2Dgreen%2C%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dblue%2C%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dcurrent%2Dblue%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20inherit%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dred%2Evisible%20%7B%0Acolor%3A%20%23ff2c2d%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dgreen%2Evisible%20%7B%0Acolor%3A%20%2317ff2e%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dblue%2Evisible%20%7B%0Acolor%3A%20%231b91ff%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dcurrent%2Dred%2Ecurrent%2Dfragment%20%7B%0Acolor%3A%20%23ff2c2d%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dcurrent%2Dgreen%2Ecurrent%2Dfragment%20%7B%0Acolor%3A%20%2317ff2e%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%20%2Efragment%2Ehighlight%2Dcurrent%2Dblue%2Ecurrent%2Dfragment%20%7B%0Acolor%3A%20%231b91ff%3B%20%7D%0A%0A%0A%2Ereveal%3Aafter%20%7B%0Acontent%3A%20%27%27%3B%0Afont%2Dstyle%3A%20italic%3B%20%7D%0A%2Ereveal%20iframe%20%7B%0Az%2Dindex%3A%201%3B%20%7D%0A%0A%2Ereveal%20a%20%7B%0Aposition%3A%20relative%3B%20%7D%0A%2Ereveal%20%2Estretch%20%7B%0Amax%2Dwidth%3A%20none%3B%0Amax%2Dheight%3A%20none%3B%20%7D%0A%2Ereveal%20pre%2Estretch%20code%20%7B%0Aheight%3A%20100%25%3B%0Amax%2Dheight%3A%20100%25%3B%0Abox%2Dsizing%3A%20border%2Dbox%3B%20%7D%0A%0A%40%2Dwebkit%2Dkeyframes%20bounce%2Dright%20%7B%0A0%25%2C%2010%25%2C%2025%25%2C%2040%25%2C%2050%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%280%29%3B%0Atransform%3A%20translateX%280%29%3B%20%7D%0A20%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%2810px%29%3B%0Atransform%3A%20translateX%2810px%29%3B%20%7D%0A30%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%28%2D5px%29%3B%0Atransform%3A%20translateX%28%2D5px%29%3B%20%7D%20%7D%0A%40keyframes%20bounce%2Dright%20%7B%0A0%25%2C%2010%25%2C%2025%25%2C%2040%25%2C%2050%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%280%29%3B%0Atransform%3A%20translateX%280%29%3B%20%7D%0A20%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%2810px%29%3B%0Atransform%3A%20translateX%2810px%29%3B%20%7D%0A30%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%28%2D5px%29%3B%0Atransform%3A%20translateX%28%2D5px%29%3B%20%7D%20%7D%0A%40%2Dwebkit%2Dkeyframes%20bounce%2Ddown%20%7B%0A0%25%2C%2010%25%2C%2025%25%2C%2040%25%2C%2050%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateY%280%29%3B%0Atransform%3A%20translateY%280%29%3B%20%7D%0A20%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateY%2810px%29%3B%0Atransform%3A%20translateY%2810px%29%3B%20%7D%0A30%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateY%28%2D5px%29%3B%0Atransform%3A%20translateY%28%2D5px%29%3B%20%7D%20%7D%0A%40keyframes%20bounce%2Ddown%20%7B%0A0%25%2C%2010%25%2C%2025%25%2C%2040%25%2C%2050%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateY%280%29%3B%0Atransform%3A%20translateY%280%29%3B%20%7D%0A20%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateY%2810px%29%3B%0Atransform%3A%20translateY%2810px%29%3B%20%7D%0A30%25%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateY%28%2D5px%29%3B%0Atransform%3A%20translateY%28%2D5px%29%3B%20%7D%20%7D%0A%2Ereveal%20%2Econtrols%20%7B%0Adisplay%3A%20none%3B%0Aposition%3A%20absolute%3B%0Atop%3A%20auto%3B%0Abottom%3A%2012px%3B%0Aright%3A%2012px%3B%0Aleft%3A%20auto%3B%0Az%2Dindex%3A%201%3B%0Acolor%3A%20%23000%3B%0Apointer%2Devents%3A%20none%3B%0Afont%2Dsize%3A%2010px%3B%20%7D%0A%2Ereveal%20%2Econtrols%20button%20%7B%0Aposition%3A%20absolute%3B%0Apadding%3A%200%3B%0Abackground%2Dcolor%3A%20transparent%3B%0Aborder%3A%200%3B%0Aoutline%3A%200%3B%0Acursor%3A%20pointer%3B%0Acolor%3A%20currentColor%3B%0A%2Dwebkit%2Dtransform%3A%20scale%280%2E9999%29%3B%0Atransform%3A%20scale%280%2E9999%29%3B%0Atransition%3A%20color%200%2E2s%20ease%2C%20opacity%200%2E2s%20ease%2C%20%2Dwebkit%2Dtransform%200%2E2s%20ease%3B%0Atransition%3A%20color%200%2E2s%20ease%2C%20opacity%200%2E2s%20ease%2C%20transform%200%2E2s%20ease%3B%0Az%2Dindex%3A%202%3B%0Apointer%2Devents%3A%20auto%3B%0Afont%2Dsize%3A%20inherit%3B%0Avisibility%3A%20hidden%3B%0Aopacity%3A%200%3B%0A%2Dwebkit%2Dappearance%3A%20none%3B%0A%2Dwebkit%2Dtap%2Dhighlight%2Dcolor%3A%20transparent%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Econtrols%2Darrow%3Abefore%2C%0A%2Ereveal%20%2Econtrols%20%2Econtrols%2Darrow%3Aafter%20%7B%0Acontent%3A%20%27%27%3B%0Aposition%3A%20absolute%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0Awidth%3A%202%2E6em%3B%0Aheight%3A%200%2E5em%3B%0Aborder%2Dradius%3A%200%2E25em%3B%0Abackground%2Dcolor%3A%20currentColor%3B%0Atransition%3A%20all%200%2E15s%20ease%2C%20background%2Dcolor%200%2E8s%20ease%3B%0A%2Dwebkit%2Dtransform%2Dorigin%3A%200%2E2em%2050%25%3B%0Atransform%2Dorigin%3A%200%2E2em%2050%25%3B%0Awill%2Dchange%3A%20transform%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Econtrols%2Darrow%20%7B%0Aposition%3A%20relative%3B%0Awidth%3A%203%2E6em%3B%0Aheight%3A%203%2E6em%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Econtrols%2Darrow%3Abefore%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%2845deg%29%3B%0Atransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%2845deg%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Econtrols%2Darrow%3Aafter%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%28%2D45deg%29%3B%0Atransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%28%2D45deg%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Econtrols%2Darrow%3Ahover%3Abefore%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%2840deg%29%3B%0Atransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%2840deg%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Econtrols%2Darrow%3Ahover%3Aafter%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%28%2D40deg%29%3B%0Atransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%28%2D40deg%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Econtrols%2Darrow%3Aactive%3Abefore%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%2836deg%29%3B%0Atransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%2836deg%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Econtrols%2Darrow%3Aactive%3Aafter%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%28%2D36deg%29%3B%0Atransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%28%2D36deg%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Enavigate%2Dleft%20%7B%0Aright%3A%206%2E4em%3B%0Abottom%3A%203%2E2em%3B%0A%2Dwebkit%2Dtransform%3A%20translateX%28%2D10px%29%3B%0Atransform%3A%20translateX%28%2D10px%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Enavigate%2Dright%20%7B%0Aright%3A%200%3B%0Abottom%3A%203%2E2em%3B%0A%2Dwebkit%2Dtransform%3A%20translateX%2810px%29%3B%0Atransform%3A%20translateX%2810px%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Enavigate%2Dright%20%2Econtrols%2Darrow%20%7B%0A%2Dwebkit%2Dtransform%3A%20rotate%28180deg%29%3B%0Atransform%3A%20rotate%28180deg%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Enavigate%2Dright%2Ehighlight%20%7B%0A%2Dwebkit%2Danimation%3A%20bounce%2Dright%202s%2050%20both%20ease%2Dout%3B%0Aanimation%3A%20bounce%2Dright%202s%2050%20both%20ease%2Dout%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Enavigate%2Dup%20%7B%0Aright%3A%203%2E2em%3B%0Abottom%3A%206%2E4em%3B%0A%2Dwebkit%2Dtransform%3A%20translateY%28%2D10px%29%3B%0Atransform%3A%20translateY%28%2D10px%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Enavigate%2Dup%20%2Econtrols%2Darrow%20%7B%0A%2Dwebkit%2Dtransform%3A%20rotate%2890deg%29%3B%0Atransform%3A%20rotate%2890deg%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Enavigate%2Ddown%20%7B%0Aright%3A%203%2E2em%3B%0Abottom%3A%200%3B%0A%2Dwebkit%2Dtransform%3A%20translateY%2810px%29%3B%0Atransform%3A%20translateY%2810px%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Enavigate%2Ddown%20%2Econtrols%2Darrow%20%7B%0A%2Dwebkit%2Dtransform%3A%20rotate%28%2D90deg%29%3B%0Atransform%3A%20rotate%28%2D90deg%29%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Enavigate%2Ddown%2Ehighlight%20%7B%0A%2Dwebkit%2Danimation%3A%20bounce%2Ddown%202s%2050%20both%20ease%2Dout%3B%0Aanimation%3A%20bounce%2Ddown%202s%2050%20both%20ease%2Dout%3B%20%7D%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dback%2Darrows%3D%22faded%22%5D%20%2Enavigate%2Dleft%2Eenabled%2C%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dback%2Darrows%3D%22faded%22%5D%20%2Enavigate%2Dup%2Eenabled%20%7B%0Aopacity%3A%200%2E3%3B%20%7D%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dback%2Darrows%3D%22faded%22%5D%20%2Enavigate%2Dleft%2Eenabled%3Ahover%2C%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dback%2Darrows%3D%22faded%22%5D%20%2Enavigate%2Dup%2Eenabled%3Ahover%20%7B%0Aopacity%3A%201%3B%20%7D%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dback%2Darrows%3D%22hidden%22%5D%20%2Enavigate%2Dleft%2Eenabled%2C%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dback%2Darrows%3D%22hidden%22%5D%20%2Enavigate%2Dup%2Eenabled%20%7B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Eenabled%20%7B%0Avisibility%3A%20visible%3B%0Aopacity%3A%200%2E9%3B%0Acursor%3A%20pointer%3B%0A%2Dwebkit%2Dtransform%3A%20none%3B%0Atransform%3A%20none%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Eenabled%2Efragmented%20%7B%0Aopacity%3A%200%2E5%3B%20%7D%0A%2Ereveal%20%2Econtrols%20%2Eenabled%3Ahover%2C%0A%2Ereveal%20%2Econtrols%20%2Eenabled%2Efragmented%3Ahover%20%7B%0Aopacity%3A%201%3B%20%7D%0A%2Ereveal%3Anot%28%2Ehas%2Dvertical%2Dslides%29%20%2Econtrols%20%2Enavigate%2Dleft%20%7B%0Abottom%3A%201%2E4em%3B%0Aright%3A%205%2E5em%3B%20%7D%0A%2Ereveal%3Anot%28%2Ehas%2Dvertical%2Dslides%29%20%2Econtrols%20%2Enavigate%2Dright%20%7B%0Abottom%3A%201%2E4em%3B%0Aright%3A%200%2E5em%3B%20%7D%0A%2Ereveal%3Anot%28%2Ehas%2Dhorizontal%2Dslides%29%20%2Econtrols%20%2Enavigate%2Dup%20%7B%0Aright%3A%201%2E4em%3B%0Abottom%3A%205em%3B%20%7D%0A%2Ereveal%3Anot%28%2Ehas%2Dhorizontal%2Dslides%29%20%2Econtrols%20%2Enavigate%2Ddown%20%7B%0Aright%3A%201%2E4em%3B%0Abottom%3A%200%2E5em%3B%20%7D%0A%2Ereveal%2Ehas%2Ddark%2Dbackground%20%2Econtrols%20%7B%0Acolor%3A%20%23fff%3B%20%7D%0A%2Ereveal%2Ehas%2Dlight%2Dbackground%20%2Econtrols%20%7B%0Acolor%3A%20%23000%3B%20%7D%0A%2Ereveal%2Eno%2Dhover%20%2Econtrols%20%2Econtrols%2Darrow%3Ahover%3Abefore%2C%0A%2Ereveal%2Eno%2Dhover%20%2Econtrols%20%2Econtrols%2Darrow%3Aactive%3Abefore%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%2845deg%29%3B%0Atransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%2845deg%29%3B%20%7D%0A%2Ereveal%2Eno%2Dhover%20%2Econtrols%20%2Econtrols%2Darrow%3Ahover%3Aafter%2C%0A%2Ereveal%2Eno%2Dhover%20%2Econtrols%20%2Econtrols%2Darrow%3Aactive%3Aafter%20%7B%0A%2Dwebkit%2Dtransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%28%2D45deg%29%3B%0Atransform%3A%20translateX%280%2E5em%29%20translateY%281%2E55em%29%20rotate%28%2D45deg%29%3B%20%7D%0A%40media%20screen%20and%20%28min%2Dwidth%3A%20500px%29%20%7B%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dlayout%3D%22edges%22%5D%20%7B%0Atop%3A%200%3B%0Aright%3A%200%3B%0Abottom%3A%200%3B%0Aleft%3A%200%3B%20%7D%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dlayout%3D%22edges%22%5D%20%2Enavigate%2Dleft%2C%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dlayout%3D%22edges%22%5D%20%2Enavigate%2Dright%2C%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dlayout%3D%22edges%22%5D%20%2Enavigate%2Dup%2C%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dlayout%3D%22edges%22%5D%20%2Enavigate%2Ddown%20%7B%0Abottom%3A%20auto%3B%0Aright%3A%20auto%3B%20%7D%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dlayout%3D%22edges%22%5D%20%2Enavigate%2Dleft%20%7B%0Atop%3A%2050%25%3B%0Aleft%3A%208px%3B%0Amargin%2Dtop%3A%20%2D1%2E8em%3B%20%7D%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dlayout%3D%22edges%22%5D%20%2Enavigate%2Dright%20%7B%0Atop%3A%2050%25%3B%0Aright%3A%208px%3B%0Amargin%2Dtop%3A%20%2D1%2E8em%3B%20%7D%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dlayout%3D%22edges%22%5D%20%2Enavigate%2Dup%20%7B%0Atop%3A%208px%3B%0Aleft%3A%2050%25%3B%0Amargin%2Dleft%3A%20%2D1%2E8em%3B%20%7D%0A%2Ereveal%20%2Econtrols%5Bdata%2Dcontrols%2Dlayout%3D%22edges%22%5D%20%2Enavigate%2Ddown%20%7B%0Abottom%3A%208px%3B%0Aleft%3A%2050%25%3B%0Amargin%2Dleft%3A%20%2D1%2E8em%3B%20%7D%20%7D%0A%0A%2Ereveal%20%2Eprogress%20%7B%0Aposition%3A%20absolute%3B%0Adisplay%3A%20none%3B%0Aheight%3A%203px%3B%0Awidth%3A%20100%25%3B%0Abottom%3A%200%3B%0Aleft%3A%200%3B%0Az%2Dindex%3A%2010%3B%0Abackground%2Dcolor%3A%20rgba%280%2C%200%2C%200%2C%200%2E2%29%3B%0Acolor%3A%20%23fff%3B%20%7D%0A%2Ereveal%20%2Eprogress%3Aafter%20%7B%0Acontent%3A%20%27%27%3B%0Adisplay%3A%20block%3B%0Aposition%3A%20absolute%3B%0Aheight%3A%2010px%3B%0Awidth%3A%20100%25%3B%0Atop%3A%20%2D10px%3B%20%7D%0A%2Ereveal%20%2Eprogress%20span%20%7B%0Adisplay%3A%20block%3B%0Aheight%3A%20100%25%3B%0Awidth%3A%200px%3B%0Abackground%2Dcolor%3A%20currentColor%3B%0Atransition%3A%20width%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%3B%20%7D%0A%0A%2Ereveal%20%2Eslide%2Dnumber%20%7B%0Aposition%3A%20absolute%3B%0Adisplay%3A%20block%3B%0Aright%3A%208px%3B%0Abottom%3A%208px%3B%0Az%2Dindex%3A%2031%3B%0Afont%2Dfamily%3A%20Helvetica%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2012px%3B%0Aline%2Dheight%3A%201%3B%0Acolor%3A%20%23fff%3B%0Abackground%2Dcolor%3A%20rgba%280%2C%200%2C%200%2C%200%2E4%29%3B%0Apadding%3A%205px%3B%20%7D%0A%2Ereveal%20%2Eslide%2Dnumber%20a%20%7B%0Acolor%3A%20currentColor%3B%20%7D%0A%2Ereveal%20%2Eslide%2Dnumber%2Ddelimiter%20%7B%0Amargin%3A%200%203px%3B%20%7D%0A%0A%2Ereveal%20%7B%0Aposition%3A%20relative%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Aoverflow%3A%20hidden%3B%0A%2Dms%2Dtouch%2Daction%3A%20none%3B%0Atouch%2Daction%3A%20none%3B%20%7D%0A%40media%20only%20screen%20and%20%28orientation%3A%20landscape%29%20%7B%0A%2Ereveal%2Eua%2Diphone%20%7B%0Aposition%3A%20fixed%3B%20%7D%20%7D%0A%2Ereveal%20%2Eslides%20%7B%0Aposition%3A%20absolute%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Atop%3A%200%3B%0Aright%3A%200%3B%0Abottom%3A%200%3B%0Aleft%3A%200%3B%0Amargin%3A%20auto%3B%0Apointer%2Devents%3A%20none%3B%0Aoverflow%3A%20visible%3B%0Az%2Dindex%3A%201%3B%0Atext%2Dalign%3A%20center%3B%0A%2Dwebkit%2Dperspective%3A%20600px%3B%0Aperspective%3A%20600px%3B%0A%2Dwebkit%2Dperspective%2Dorigin%3A%2050%25%2040%25%3B%0Aperspective%2Dorigin%3A%2050%25%2040%25%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%7B%0A%2Dms%2Dperspective%3A%20600px%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%20%7B%0Adisplay%3A%20none%3B%0Aposition%3A%20absolute%3B%0Awidth%3A%20100%25%3B%0Apadding%3A%2020px%200px%3B%0Apointer%2Devents%3A%20auto%3B%0Az%2Dindex%3A%2010%3B%0A%2Dwebkit%2Dtransform%2Dstyle%3A%20flat%3B%0Atransform%2Dstyle%3A%20flat%3B%0Atransition%3A%20%2Dwebkit%2Dtransform%2Dorigin%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%2C%20%2Dwebkit%2Dtransform%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%2C%20visibility%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%2C%20opacity%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%3B%0Atransition%3A%20transform%2Dorigin%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%2C%20transform%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%2C%20visibility%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%2C%20opacity%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%3B%20%7D%0A%0A%2Ereveal%5Bdata%2Dtransition%2Dspeed%3D%22fast%22%5D%20%2Eslides%20section%20%7B%0Atransition%2Dduration%3A%20400ms%3B%20%7D%0A%2Ereveal%5Bdata%2Dtransition%2Dspeed%3D%22slow%22%5D%20%2Eslides%20section%20%7B%0Atransition%2Dduration%3A%201200ms%3B%20%7D%0A%0A%2Ereveal%20%2Eslides%20section%5Bdata%2Dtransition%2Dspeed%3D%22fast%22%5D%20%7B%0Atransition%2Dduration%3A%20400ms%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%5Bdata%2Dtransition%2Dspeed%3D%22slow%22%5D%20%7B%0Atransition%2Dduration%3A%201200ms%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%2Estack%20%7B%0Apadding%2Dtop%3A%200%3B%0Apadding%2Dbottom%3A%200%3B%0Apointer%2Devents%3A%20none%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%2Epresent%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%2Epresent%20%7B%0Adisplay%3A%20block%3B%0Az%2Dindex%3A%2011%3B%0Aopacity%3A%201%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%3Aempty%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%3Aempty%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dbackground%2Dinteractive%5D%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dbackground%2Dinteractive%5D%20%7B%0Apointer%2Devents%3A%20none%3B%20%7D%0A%2Ereveal%2Ecenter%2C%0A%2Ereveal%2Ecenter%20%2Eslides%2C%0A%2Ereveal%2Ecenter%20%2Eslides%20section%20%7B%0Amin%2Dheight%3A%200%20%21important%3B%20%7D%0A%0A%2Ereveal%20%2Eslides%20%3E%20section%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%2Epast%20%7B%0Apointer%2Devents%3A%20none%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Eslides%20%3E%20section%2C%0A%2Ereveal%2Eoverview%20%2Eslides%20%3E%20section%20%3E%20section%20%7B%0Apointer%2Devents%3A%20auto%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%2Efuture%20%7B%0Aopacity%3A%200%3B%20%7D%0A%0A%0A%2Ereveal%2Eslide%20section%20%7B%0A%2Dwebkit%2Dbackface%2Dvisibility%3A%20hidden%3B%0Abackface%2Dvisibility%3A%20hidden%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Dslide%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Dslide%2Dout%5D%2Epast%2C%0A%2Ereveal%2Eslide%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%28%2D150%25%2C%200%29%3B%0Atransform%3A%20translate%28%2D150%25%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Dslide%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Dslide%2Din%5D%2Efuture%2C%0A%2Ereveal%2Eslide%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%28150%25%2C%200%29%3B%0Atransform%3A%20translate%28150%25%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Dslide%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Dslide%2Dout%5D%2Epast%2C%0A%2Ereveal%2Eslide%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%20%2D150%25%29%3B%0Atransform%3A%20translate%280%2C%20%2D150%25%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Dslide%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Dslide%2Din%5D%2Efuture%2C%0A%2Ereveal%2Eslide%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%20150%25%29%3B%0Atransform%3A%20translate%280%2C%20150%25%29%3B%20%7D%0A%2Ereveal%2Elinear%20section%20%7B%0A%2Dwebkit%2Dbackface%2Dvisibility%3A%20hidden%3B%0Abackface%2Dvisibility%3A%20hidden%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Dlinear%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Dlinear%2Dout%5D%2Epast%2C%0A%2Ereveal%2Elinear%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%28%2D150%25%2C%200%29%3B%0Atransform%3A%20translate%28%2D150%25%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Dlinear%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Dlinear%2Din%5D%2Efuture%2C%0A%2Ereveal%2Elinear%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%28150%25%2C%200%29%3B%0Atransform%3A%20translate%28150%25%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Dlinear%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Dlinear%2Dout%5D%2Epast%2C%0A%2Ereveal%2Elinear%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%20%2D150%25%29%3B%0Atransform%3A%20translate%280%2C%20%2D150%25%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Dlinear%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Dlinear%2Din%5D%2Efuture%2C%0A%2Ereveal%2Elinear%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%20150%25%29%3B%0Atransform%3A%20translate%280%2C%20150%25%29%3B%20%7D%0A%0A%2Ereveal%20%2Eslides%20section%5Bdata%2Dtransition%3Ddefault%5D%2Estack%2C%0A%2Ereveal%2Edefault%20%2Eslides%20section%2Estack%20%7B%0A%2Dwebkit%2Dtransform%2Dstyle%3A%20preserve%2D3d%3B%0Atransform%2Dstyle%3A%20preserve%2D3d%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Ddefault%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Ddefault%2Dout%5D%2Epast%2C%0A%2Ereveal%2Edefault%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%20translate3d%28%2D100%25%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%20translate3d%28%2D100%25%2C%200%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Ddefault%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Ddefault%2Din%5D%2Efuture%2C%0A%2Ereveal%2Edefault%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%2890deg%29%20translate3d%28100%25%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%2890deg%29%20translate3d%28100%25%2C%200%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Ddefault%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Ddefault%2Dout%5D%2Epast%2C%0A%2Ereveal%2Edefault%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20%2D300px%2C%200%29%20rotateX%2870deg%29%20translate3d%280%2C%20%2D300px%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%20%2D300px%2C%200%29%20rotateX%2870deg%29%20translate3d%280%2C%20%2D300px%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Ddefault%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Ddefault%2Din%5D%2Efuture%2C%0A%2Ereveal%2Edefault%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20300px%2C%200%29%20rotateX%28%2D70deg%29%20translate3d%280%2C%20300px%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%20300px%2C%200%29%20rotateX%28%2D70deg%29%20translate3d%280%2C%20300px%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%5Bdata%2Dtransition%3Dconvex%5D%2Estack%2C%0A%2Ereveal%2Econvex%20%2Eslides%20section%2Estack%20%7B%0A%2Dwebkit%2Dtransform%2Dstyle%3A%20preserve%2D3d%3B%0Atransform%2Dstyle%3A%20preserve%2D3d%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Dconvex%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Dconvex%2Dout%5D%2Epast%2C%0A%2Ereveal%2Econvex%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%20translate3d%28%2D100%25%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%20translate3d%28%2D100%25%2C%200%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Dconvex%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Dconvex%2Din%5D%2Efuture%2C%0A%2Ereveal%2Econvex%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%2890deg%29%20translate3d%28100%25%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%2890deg%29%20translate3d%28100%25%2C%200%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Dconvex%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Dconvex%2Dout%5D%2Epast%2C%0A%2Ereveal%2Econvex%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20%2D300px%2C%200%29%20rotateX%2870deg%29%20translate3d%280%2C%20%2D300px%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%20%2D300px%2C%200%29%20rotateX%2870deg%29%20translate3d%280%2C%20%2D300px%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Dconvex%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Dconvex%2Din%5D%2Efuture%2C%0A%2Ereveal%2Econvex%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20300px%2C%200%29%20rotateX%28%2D70deg%29%20translate3d%280%2C%20300px%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%20300px%2C%200%29%20rotateX%28%2D70deg%29%20translate3d%280%2C%20300px%2C%200%29%3B%20%7D%0A%0A%2Ereveal%20%2Eslides%20section%5Bdata%2Dtransition%3Dconcave%5D%2Estack%2C%0A%2Ereveal%2Econcave%20%2Eslides%20section%2Estack%20%7B%0A%2Dwebkit%2Dtransform%2Dstyle%3A%20preserve%2D3d%3B%0Atransform%2Dstyle%3A%20preserve%2D3d%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Dconcave%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Dconcave%2Dout%5D%2Epast%2C%0A%2Ereveal%2Econcave%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%2890deg%29%20translate3d%28%2D100%25%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%2890deg%29%20translate3d%28%2D100%25%2C%200%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Dconcave%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Dconcave%2Din%5D%2Efuture%2C%0A%2Ereveal%2Econcave%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%20translate3d%28100%25%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%20translate3d%28100%25%2C%200%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Dconcave%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Dconcave%2Dout%5D%2Epast%2C%0A%2Ereveal%2Econcave%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20%2D80%25%2C%200%29%20rotateX%28%2D70deg%29%20translate3d%280%2C%20%2D80%25%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%20%2D80%25%2C%200%29%20rotateX%28%2D70deg%29%20translate3d%280%2C%20%2D80%25%2C%200%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Dconcave%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Dconcave%2Din%5D%2Efuture%2C%0A%2Ereveal%2Econcave%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%2080%25%2C%200%29%20rotateX%2870deg%29%20translate3d%280%2C%2080%25%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%2080%25%2C%200%29%20rotateX%2870deg%29%20translate3d%280%2C%2080%25%2C%200%29%3B%20%7D%0A%0A%2Ereveal%20%2Eslides%20section%5Bdata%2Dtransition%3Dzoom%5D%2C%0A%2Ereveal%2Ezoom%20%2Eslides%20section%3Anot%28%5Bdata%2Dtransition%5D%29%20%7B%0Atransition%2Dtiming%2Dfunction%3A%20ease%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Dzoom%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Dzoom%2Dout%5D%2Epast%2C%0A%2Ereveal%2Ezoom%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0Avisibility%3A%20hidden%3B%0A%2Dwebkit%2Dtransform%3A%20scale%2816%29%3B%0Atransform%3A%20scale%2816%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%3Dzoom%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%5Bdata%2Dtransition%7E%3Dzoom%2Din%5D%2Efuture%2C%0A%2Ereveal%2Ezoom%20%2Eslides%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0Avisibility%3A%20hidden%3B%0A%2Dwebkit%2Dtransform%3A%20scale%280%2E2%29%3B%0Atransform%3A%20scale%280%2E2%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Dzoom%5D%2Epast%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Dzoom%2Dout%5D%2Epast%2C%0A%2Ereveal%2Ezoom%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Epast%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%20%2D150%25%29%3B%0Atransform%3A%20translate%280%2C%20%2D150%25%29%3B%20%7D%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%3Dzoom%5D%2Efuture%2C%0A%2Ereveal%20%2Eslides%20%3E%20section%20%3E%20section%5Bdata%2Dtransition%7E%3Dzoom%2Din%5D%2Efuture%2C%0A%2Ereveal%2Ezoom%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%20150%25%29%3B%0Atransform%3A%20translate%280%2C%20150%25%29%3B%20%7D%0A%0A%2Ereveal%2Ecube%20%2Eslides%20%7B%0A%2Dwebkit%2Dperspective%3A%201300px%3B%0Aperspective%3A%201300px%3B%20%7D%0A%2Ereveal%2Ecube%20%2Eslides%20section%20%7B%0Apadding%3A%2030px%3B%0Amin%2Dheight%3A%20700px%3B%0A%2Dwebkit%2Dbackface%2Dvisibility%3A%20hidden%3B%0Abackface%2Dvisibility%3A%20hidden%3B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0A%2Dwebkit%2Dtransform%2Dstyle%3A%20preserve%2D3d%3B%0Atransform%2Dstyle%3A%20preserve%2D3d%3B%20%7D%0A%2Ereveal%2Ecenter%2Ecube%20%2Eslides%20section%20%7B%0Amin%2Dheight%3A%200%3B%20%7D%0A%2Ereveal%2Ecube%20%2Eslides%20section%3Anot%28%2Estack%29%3Abefore%20%7B%0Acontent%3A%20%27%27%3B%0Aposition%3A%20absolute%3B%0Adisplay%3A%20block%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Aleft%3A%200%3B%0Atop%3A%200%3B%0Abackground%3A%20rgba%280%2C%200%2C%200%2C%200%2E1%29%3B%0Aborder%2Dradius%3A%204px%3B%0A%2Dwebkit%2Dtransform%3A%20translateZ%28%2D20px%29%3B%0Atransform%3A%20translateZ%28%2D20px%29%3B%20%7D%0A%2Ereveal%2Ecube%20%2Eslides%20section%3Anot%28%2Estack%29%3Aafter%20%7B%0Acontent%3A%20%27%27%3B%0Aposition%3A%20absolute%3B%0Adisplay%3A%20block%3B%0Awidth%3A%2090%25%3B%0Aheight%3A%2030px%3B%0Aleft%3A%205%25%3B%0Abottom%3A%200%3B%0Abackground%3A%20none%3B%0Az%2Dindex%3A%201%3B%0Aborder%2Dradius%3A%204px%3B%0Abox%2Dshadow%3A%200px%2095px%2025px%20rgba%280%2C%200%2C%200%2C%200%2E2%29%3B%0A%2Dwebkit%2Dtransform%3A%20translateZ%28%2D90px%29%20rotateX%2865deg%29%3B%0Atransform%3A%20translateZ%28%2D90px%29%20rotateX%2865deg%29%3B%20%7D%0A%2Ereveal%2Ecube%20%2Eslides%20%3E%20section%2Estack%20%7B%0Apadding%3A%200%3B%0Abackground%3A%20none%3B%20%7D%0A%2Ereveal%2Ecube%20%2Eslides%20%3E%20section%2Epast%20%7B%0A%2Dwebkit%2Dtransform%2Dorigin%3A%20100%25%200%25%3B%0Atransform%2Dorigin%3A%20100%25%200%25%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%3B%0Atransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%3B%20%7D%0A%2Ereveal%2Ecube%20%2Eslides%20%3E%20section%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%2Dorigin%3A%200%25%200%25%3B%0Atransform%2Dorigin%3A%200%25%200%25%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%2890deg%29%3B%0Atransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%2890deg%29%3B%20%7D%0A%2Ereveal%2Ecube%20%2Eslides%20%3E%20section%20%3E%20section%2Epast%20%7B%0A%2Dwebkit%2Dtransform%2Dorigin%3A%200%25%20100%25%3B%0Atransform%2Dorigin%3A%200%25%20100%25%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20%2D100%25%2C%200%29%20rotateX%2890deg%29%3B%0Atransform%3A%20translate3d%280%2C%20%2D100%25%2C%200%29%20rotateX%2890deg%29%3B%20%7D%0A%2Ereveal%2Ecube%20%2Eslides%20%3E%20section%20%3E%20section%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%2Dorigin%3A%200%25%200%25%3B%0Atransform%2Dorigin%3A%200%25%200%25%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20100%25%2C%200%29%20rotateX%28%2D90deg%29%3B%0Atransform%3A%20translate3d%280%2C%20100%25%2C%200%29%20rotateX%28%2D90deg%29%3B%20%7D%0A%0A%2Ereveal%2Epage%20%2Eslides%20%7B%0A%2Dwebkit%2Dperspective%2Dorigin%3A%200%25%2050%25%3B%0Aperspective%2Dorigin%3A%200%25%2050%25%3B%0A%2Dwebkit%2Dperspective%3A%203000px%3B%0Aperspective%3A%203000px%3B%20%7D%0A%2Ereveal%2Epage%20%2Eslides%20section%20%7B%0Apadding%3A%2030px%3B%0Amin%2Dheight%3A%20700px%3B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0A%2Dwebkit%2Dtransform%2Dstyle%3A%20preserve%2D3d%3B%0Atransform%2Dstyle%3A%20preserve%2D3d%3B%20%7D%0A%2Ereveal%2Epage%20%2Eslides%20section%2Epast%20%7B%0Az%2Dindex%3A%2012%3B%20%7D%0A%2Ereveal%2Epage%20%2Eslides%20section%3Anot%28%2Estack%29%3Abefore%20%7B%0Acontent%3A%20%27%27%3B%0Aposition%3A%20absolute%3B%0Adisplay%3A%20block%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Aleft%3A%200%3B%0Atop%3A%200%3B%0Abackground%3A%20rgba%280%2C%200%2C%200%2C%200%2E1%29%3B%0A%2Dwebkit%2Dtransform%3A%20translateZ%28%2D20px%29%3B%0Atransform%3A%20translateZ%28%2D20px%29%3B%20%7D%0A%2Ereveal%2Epage%20%2Eslides%20section%3Anot%28%2Estack%29%3Aafter%20%7B%0Acontent%3A%20%27%27%3B%0Aposition%3A%20absolute%3B%0Adisplay%3A%20block%3B%0Awidth%3A%2090%25%3B%0Aheight%3A%2030px%3B%0Aleft%3A%205%25%3B%0Abottom%3A%200%3B%0Abackground%3A%20none%3B%0Az%2Dindex%3A%201%3B%0Aborder%2Dradius%3A%204px%3B%0Abox%2Dshadow%3A%200px%2095px%2025px%20rgba%280%2C%200%2C%200%2C%200%2E2%29%3B%0A%2Dwebkit%2Dtransform%3A%20translateZ%28%2D90px%29%20rotateX%2865deg%29%3B%20%7D%0A%2Ereveal%2Epage%20%2Eslides%20%3E%20section%2Estack%20%7B%0Apadding%3A%200%3B%0Abackground%3A%20none%3B%20%7D%0A%2Ereveal%2Epage%20%2Eslides%20%3E%20section%2Epast%20%7B%0A%2Dwebkit%2Dtransform%2Dorigin%3A%200%25%200%25%3B%0Atransform%2Dorigin%3A%200%25%200%25%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28%2D40%25%2C%200%2C%200%29%20rotateY%28%2D80deg%29%3B%0Atransform%3A%20translate3d%28%2D40%25%2C%200%2C%200%29%20rotateY%28%2D80deg%29%3B%20%7D%0A%2Ereveal%2Epage%20%2Eslides%20%3E%20section%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%2Dorigin%3A%20100%25%200%25%3B%0Atransform%2Dorigin%3A%20100%25%200%25%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%200%2C%200%29%3B%20%7D%0A%2Ereveal%2Epage%20%2Eslides%20%3E%20section%20%3E%20section%2Epast%20%7B%0A%2Dwebkit%2Dtransform%2Dorigin%3A%200%25%200%25%3B%0Atransform%2Dorigin%3A%200%25%200%25%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20%2D40%25%2C%200%29%20rotateX%2880deg%29%3B%0Atransform%3A%20translate3d%280%2C%20%2D40%25%2C%200%29%20rotateX%2880deg%29%3B%20%7D%0A%2Ereveal%2Epage%20%2Eslides%20%3E%20section%20%3E%20section%2Efuture%20%7B%0A%2Dwebkit%2Dtransform%2Dorigin%3A%200%25%20100%25%3B%0Atransform%2Dorigin%3A%200%25%20100%25%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%200%2C%200%29%3B%20%7D%0A%0A%2Ereveal%20%2Eslides%20section%5Bdata%2Dtransition%3Dfade%5D%2C%0A%2Ereveal%2Efade%20%2Eslides%20section%3Anot%28%5Bdata%2Dtransition%5D%29%2C%0A%2Ereveal%2Efade%20%2Eslides%20%3E%20section%20%3E%20section%3Anot%28%5Bdata%2Dtransition%5D%29%20%7B%0A%2Dwebkit%2Dtransform%3A%20none%3B%0Atransform%3A%20none%3B%0Atransition%3A%20opacity%200%2E5s%3B%20%7D%0A%2Ereveal%2Efade%2Eoverview%20%2Eslides%20section%2C%0A%2Ereveal%2Efade%2Eoverview%20%2Eslides%20%3E%20section%20%3E%20section%20%7B%0Atransition%3A%20none%3B%20%7D%0A%0A%2Ereveal%20%2Eslides%20section%5Bdata%2Dtransition%3Dnone%5D%2C%0A%2Ereveal%2Enone%20%2Eslides%20section%3Anot%28%5Bdata%2Dtransition%5D%29%20%7B%0A%2Dwebkit%2Dtransform%3A%20none%3B%0Atransform%3A%20none%3B%0Atransition%3A%20none%3B%20%7D%0A%0A%2Ereveal%20%2Epause%2Doverlay%20%7B%0Aposition%3A%20absolute%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Abackground%3A%20black%3B%0Avisibility%3A%20hidden%3B%0Aopacity%3A%200%3B%0Az%2Dindex%3A%20100%3B%0Atransition%3A%20all%201s%20ease%3B%20%7D%0A%2Ereveal%20%2Epause%2Doverlay%20%2Eresume%2Dbutton%20%7B%0Aposition%3A%20absolute%3B%0Abottom%3A%2020px%3B%0Aright%3A%2020px%3B%0Acolor%3A%20%23ccc%3B%0Aborder%2Dradius%3A%202px%3B%0Apadding%3A%206px%2014px%3B%0Aborder%3A%202px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%2016px%3B%0Abackground%3A%20transparent%3B%0Acursor%3A%20pointer%3B%20%7D%0A%2Ereveal%20%2Epause%2Doverlay%20%2Eresume%2Dbutton%3Ahover%20%7B%0Acolor%3A%20%23fff%3B%0Aborder%2Dcolor%3A%20%23fff%3B%20%7D%0A%2Ereveal%2Epaused%20%2Epause%2Doverlay%20%7B%0Avisibility%3A%20visible%3B%0Aopacity%3A%201%3B%20%7D%0A%0A%2Eno%2Dtransforms%20%7B%0Aoverflow%2Dy%3A%20auto%3B%20%7D%0A%2Eno%2Dtransforms%20%2Ereveal%20%2Eslides%20%7B%0Aposition%3A%20relative%3B%0Awidth%3A%2080%25%3B%0Aheight%3A%20auto%20%21important%3B%0Atop%3A%200%3B%0Aleft%3A%2050%25%3B%0Amargin%3A%200%3B%0Atext%2Dalign%3A%20center%3B%20%7D%0A%2Eno%2Dtransforms%20%2Ereveal%20%2Econtrols%2C%0A%2Eno%2Dtransforms%20%2Ereveal%20%2Eprogress%20%7B%0Adisplay%3A%20none%20%21important%3B%20%7D%0A%2Eno%2Dtransforms%20%2Ereveal%20%2Eslides%20section%20%7B%0Adisplay%3A%20block%20%21important%3B%0Aopacity%3A%201%20%21important%3B%0Aposition%3A%20relative%20%21important%3B%0Aheight%3A%20auto%3B%0Amin%2Dheight%3A%200%3B%0Atop%3A%200%3B%0Aleft%3A%20%2D50%25%3B%0Amargin%3A%2070px%200%3B%0A%2Dwebkit%2Dtransform%3A%20none%3B%0Atransform%3A%20none%3B%20%7D%0A%2Eno%2Dtransforms%20%2Ereveal%20%2Eslides%20section%20section%20%7B%0Aleft%3A%200%3B%20%7D%0A%2Ereveal%20%2Eno%2Dtransition%2C%0A%2Ereveal%20%2Eno%2Dtransition%20%2A%20%7B%0Atransition%3A%20none%20%21important%3B%20%7D%0A%0A%2Ereveal%20%2Ebackgrounds%20%7B%0Aposition%3A%20absolute%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0A%2Dwebkit%2Dperspective%3A%20600px%3B%0Aperspective%3A%20600px%3B%20%7D%0A%2Ereveal%20%2Eslide%2Dbackground%20%7B%0Adisplay%3A%20none%3B%0Aposition%3A%20absolute%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%0Aoverflow%3A%20hidden%3B%0Abackground%2Dcolor%3A%20transparent%3B%0Atransition%3A%20all%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%3B%20%7D%0A%2Ereveal%20%2Eslide%2Dbackground%2Dcontent%20%7B%0Aposition%3A%20absolute%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Abackground%2Dposition%3A%2050%25%2050%25%3B%0Abackground%2Drepeat%3A%20no%2Drepeat%3B%0Abackground%2Dsize%3A%20cover%3B%20%7D%0A%2Ereveal%20%2Eslide%2Dbackground%2Estack%20%7B%0Adisplay%3A%20block%3B%20%7D%0A%2Ereveal%20%2Eslide%2Dbackground%2Epresent%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20visible%3B%0Az%2Dindex%3A%202%3B%20%7D%0A%2Eprint%2Dpdf%20%2Ereveal%20%2Eslide%2Dbackground%20%7B%0Aopacity%3A%201%20%21important%3B%0Avisibility%3A%20visible%20%21important%3B%20%7D%0A%0A%2Ereveal%20%2Eslide%2Dbackground%20video%20%7B%0Aposition%3A%20absolute%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Amax%2Dwidth%3A%20none%3B%0Amax%2Dheight%3A%20none%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0A%2Do%2Dobject%2Dfit%3A%20cover%3B%0Aobject%2Dfit%3A%20cover%3B%20%7D%0A%2Ereveal%20%2Eslide%2Dbackground%5Bdata%2Dbackground%2Dsize%3D%22contain%22%5D%20video%20%7B%0A%2Do%2Dobject%2Dfit%3A%20contain%3B%0Aobject%2Dfit%3A%20contain%3B%20%7D%0A%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dnone%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%5Bdata%2Dbackground%2Dtransition%3Dnone%5D%20%7B%0Atransition%3A%20none%3B%20%7D%0A%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dslide%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%5Bdata%2Dbackground%2Dtransition%3Dslide%5D%20%7B%0Aopacity%3A%201%3B%0A%2Dwebkit%2Dbackface%2Dvisibility%3A%20hidden%3B%0Abackface%2Dvisibility%3A%20hidden%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dslide%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Epast%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Epast%5Bdata%2Dbackground%2Dtransition%3Dslide%5D%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%28%2D100%25%2C%200%29%3B%0Atransform%3A%20translate%28%2D100%25%2C%200%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dslide%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Efuture%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Efuture%5Bdata%2Dbackground%2Dtransition%3Dslide%5D%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%28100%25%2C%200%29%3B%0Atransform%3A%20translate%28100%25%2C%200%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dslide%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Epast%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Epast%5Bdata%2Dbackground%2Dtransition%3Dslide%5D%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%20%2D100%25%29%3B%0Atransform%3A%20translate%280%2C%20%2D100%25%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dslide%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Efuture%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Efuture%5Bdata%2Dbackground%2Dtransition%3Dslide%5D%20%7B%0A%2Dwebkit%2Dtransform%3A%20translate%280%2C%20100%25%29%3B%0Atransform%3A%20translate%280%2C%20100%25%29%3B%20%7D%0A%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dconvex%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Epast%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Epast%5Bdata%2Dbackground%2Dtransition%3Dconvex%5D%20%7B%0Aopacity%3A%200%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%20translate3d%28%2D100%25%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%20translate3d%28%2D100%25%2C%200%2C%200%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dconvex%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Efuture%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Efuture%5Bdata%2Dbackground%2Dtransition%3Dconvex%5D%20%7B%0Aopacity%3A%200%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%2890deg%29%20translate3d%28100%25%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%2890deg%29%20translate3d%28100%25%2C%200%2C%200%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dconvex%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Epast%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Epast%5Bdata%2Dbackground%2Dtransition%3Dconvex%5D%20%7B%0Aopacity%3A%200%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20%2D100%25%2C%200%29%20rotateX%2890deg%29%20translate3d%280%2C%20%2D100%25%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%20%2D100%25%2C%200%29%20rotateX%2890deg%29%20translate3d%280%2C%20%2D100%25%2C%200%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dconvex%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Efuture%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Efuture%5Bdata%2Dbackground%2Dtransition%3Dconvex%5D%20%7B%0Aopacity%3A%200%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20100%25%2C%200%29%20rotateX%28%2D90deg%29%20translate3d%280%2C%20100%25%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%20100%25%2C%200%29%20rotateX%28%2D90deg%29%20translate3d%280%2C%20100%25%2C%200%29%3B%20%7D%0A%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dconcave%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Epast%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Epast%5Bdata%2Dbackground%2Dtransition%3Dconcave%5D%20%7B%0Aopacity%3A%200%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%2890deg%29%20translate3d%28%2D100%25%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%28%2D100%25%2C%200%2C%200%29%20rotateY%2890deg%29%20translate3d%28%2D100%25%2C%200%2C%200%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dconcave%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Efuture%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Efuture%5Bdata%2Dbackground%2Dtransition%3Dconcave%5D%20%7B%0Aopacity%3A%200%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%20translate3d%28100%25%2C%200%2C%200%29%3B%0Atransform%3A%20translate3d%28100%25%2C%200%2C%200%29%20rotateY%28%2D90deg%29%20translate3d%28100%25%2C%200%2C%200%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dconcave%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Epast%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Epast%5Bdata%2Dbackground%2Dtransition%3Dconcave%5D%20%7B%0Aopacity%3A%200%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20%2D100%25%2C%200%29%20rotateX%28%2D90deg%29%20translate3d%280%2C%20%2D100%25%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%20%2D100%25%2C%200%29%20rotateX%28%2D90deg%29%20translate3d%280%2C%20%2D100%25%2C%200%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dconcave%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Efuture%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Efuture%5Bdata%2Dbackground%2Dtransition%3Dconcave%5D%20%7B%0Aopacity%3A%200%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280%2C%20100%25%2C%200%29%20rotateX%2890deg%29%20translate3d%280%2C%20100%25%2C%200%29%3B%0Atransform%3A%20translate3d%280%2C%20100%25%2C%200%29%20rotateX%2890deg%29%20translate3d%280%2C%20100%25%2C%200%29%3B%20%7D%0A%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dzoom%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%5Bdata%2Dbackground%2Dtransition%3Dzoom%5D%20%7B%0Atransition%2Dtiming%2Dfunction%3A%20ease%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dzoom%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Epast%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Epast%5Bdata%2Dbackground%2Dtransition%3Dzoom%5D%20%7B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%0A%2Dwebkit%2Dtransform%3A%20scale%2816%29%3B%0Atransform%3A%20scale%2816%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dzoom%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Efuture%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Efuture%5Bdata%2Dbackground%2Dtransition%3Dzoom%5D%20%7B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%0A%2Dwebkit%2Dtransform%3A%20scale%280%2E2%29%3B%0Atransform%3A%20scale%280%2E2%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dzoom%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Epast%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Epast%5Bdata%2Dbackground%2Dtransition%3Dzoom%5D%20%7B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%0A%2Dwebkit%2Dtransform%3A%20scale%2816%29%3B%0Atransform%3A%20scale%2816%29%3B%20%7D%0A%2Ereveal%5Bdata%2Dbackground%2Dtransition%3Dzoom%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Efuture%2C%0A%2Ereveal%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%3E%20%2Eslide%2Dbackground%2Efuture%5Bdata%2Dbackground%2Dtransition%3Dzoom%5D%20%7B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%0A%2Dwebkit%2Dtransform%3A%20scale%280%2E2%29%3B%0Atransform%3A%20scale%280%2E2%29%3B%20%7D%0A%0A%2Ereveal%5Bdata%2Dtransition%2Dspeed%3D%22fast%22%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%7B%0Atransition%2Dduration%3A%20400ms%3B%20%7D%0A%2Ereveal%5Bdata%2Dtransition%2Dspeed%3D%22slow%22%5D%20%3E%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%7B%0Atransition%2Dduration%3A%201200ms%3B%20%7D%0A%0A%2Ereveal%2Eoverview%20%7B%0A%2Dwebkit%2Dperspective%2Dorigin%3A%2050%25%2050%25%3B%0Aperspective%2Dorigin%3A%2050%25%2050%25%3B%0A%2Dwebkit%2Dperspective%3A%20700px%3B%0Aperspective%3A%20700px%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Eslides%20%7B%0A%2Dmoz%2Dtransform%2Dstyle%3A%20preserve%2D3d%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Eslides%20section%20%7B%0Aheight%3A%20100%25%3B%0Atop%3A%200%20%21important%3B%0Aopacity%3A%201%20%21important%3B%0Aoverflow%3A%20hidden%3B%0Avisibility%3A%20visible%20%21important%3B%0Acursor%3A%20pointer%3B%0Abox%2Dsizing%3A%20border%2Dbox%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Eslides%20section%3Ahover%2C%0A%2Ereveal%2Eoverview%20%2Eslides%20section%2Epresent%20%7B%0Aoutline%3A%2010px%20solid%20rgba%28150%2C%20150%2C%20150%2C%200%2E4%29%3B%0Aoutline%2Doffset%3A%2010px%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Eslides%20section%20%2Efragment%20%7B%0Aopacity%3A%201%3B%0Atransition%3A%20none%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Eslides%20section%3Aafter%2C%0A%2Ereveal%2Eoverview%20%2Eslides%20section%3Abefore%20%7B%0Adisplay%3A%20none%20%21important%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Eslides%20%3E%20section%2Estack%20%7B%0Apadding%3A%200%3B%0Atop%3A%200%20%21important%3B%0Abackground%3A%20none%3B%0Aoutline%3A%20none%3B%0Aoverflow%3A%20visible%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Ebackgrounds%20%7B%0A%2Dwebkit%2Dperspective%3A%20inherit%3B%0Aperspective%3A%20inherit%3B%0A%2Dmoz%2Dtransform%2Dstyle%3A%20preserve%2D3d%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20visible%3B%0Aoutline%3A%2010px%20solid%20rgba%28150%2C%20150%2C%20150%2C%200%2E1%29%3B%0Aoutline%2Doffset%3A%2010px%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Ebackgrounds%20%2Eslide%2Dbackground%2Estack%20%7B%0Aoverflow%3A%20visible%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Eslides%20section%2C%0A%2Ereveal%2Eoverview%2Ddeactivating%20%2Eslides%20section%20%7B%0Atransition%3A%20none%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Ebackgrounds%20%2Eslide%2Dbackground%2C%0A%2Ereveal%2Eoverview%2Ddeactivating%20%2Ebackgrounds%20%2Eslide%2Dbackground%20%7B%0Atransition%3A%20none%3B%20%7D%0A%0A%2Ereveal%2Ertl%20%2Eslides%2C%0A%2Ereveal%2Ertl%20%2Eslides%20h1%2C%0A%2Ereveal%2Ertl%20%2Eslides%20h2%2C%0A%2Ereveal%2Ertl%20%2Eslides%20h3%2C%0A%2Ereveal%2Ertl%20%2Eslides%20h4%2C%0A%2Ereveal%2Ertl%20%2Eslides%20h5%2C%0A%2Ereveal%2Ertl%20%2Eslides%20h6%20%7B%0Adirection%3A%20rtl%3B%0Afont%2Dfamily%3A%20sans%2Dserif%3B%20%7D%0A%2Ereveal%2Ertl%20pre%2C%0A%2Ereveal%2Ertl%20code%20%7B%0Adirection%3A%20ltr%3B%20%7D%0A%2Ereveal%2Ertl%20ol%2C%0A%2Ereveal%2Ertl%20ul%20%7B%0Atext%2Dalign%3A%20right%3B%20%7D%0A%2Ereveal%2Ertl%20%2Eprogress%20span%20%7B%0Afloat%3A%20right%3B%20%7D%0A%0A%2Ereveal%2Ehas%2Dparallax%2Dbackground%20%2Ebackgrounds%20%7B%0Atransition%3A%20all%200%2E8s%20ease%3B%20%7D%0A%0A%2Ereveal%2Ehas%2Dparallax%2Dbackground%5Bdata%2Dtransition%2Dspeed%3D%22fast%22%5D%20%2Ebackgrounds%20%7B%0Atransition%2Dduration%3A%20400ms%3B%20%7D%0A%2Ereveal%2Ehas%2Dparallax%2Dbackground%5Bdata%2Dtransition%2Dspeed%3D%22slow%22%5D%20%2Ebackgrounds%20%7B%0Atransition%2Dduration%3A%201200ms%3B%20%7D%0A%0A%2Ereveal%20%2Eoverlay%20%7B%0Aposition%3A%20absolute%3B%0Atop%3A%200%3B%0Aleft%3A%200%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Az%2Dindex%3A%201000%3B%0Abackground%3A%20rgba%280%2C%200%2C%200%2C%200%2E9%29%3B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%0Atransition%3A%20all%200%2E3s%20ease%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Evisible%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20visible%3B%20%7D%0A%2Ereveal%20%2Eoverlay%20%2Espinner%20%7B%0Aposition%3A%20absolute%3B%0Adisplay%3A%20block%3B%0Atop%3A%2050%25%3B%0Aleft%3A%2050%25%3B%0Awidth%3A%2032px%3B%0Aheight%3A%2032px%3B%0Amargin%3A%20%2D16px%200%200%20%2D16px%3B%0Az%2Dindex%3A%2010%3B%0Abackground%2Dimage%3A%20url%28data%3Aimage%2Fgif%3Bbase64%2CR0lGODlhIAAgAPMAAJmZmf%252F%252F%252F6%252Bvr8nJybW1tcDAwOjo6Nvb26ioqKOjo7Ozs%252FLy8vz8%252FAAAAAAAAAAAACH%252FC05FVFNDQVBFMi4wAwEAAAAh%252FhpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh%252BQQJCgAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1ZBApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ%252FV%252FnmOM82XiHRLYKhKP1oZmADdEAAAh%252BQQJCgAAACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDUolIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY%252FCZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB%252BA4k8gTwJhFuiW4dokXiloUepBAp5qaKpp6%252BHo7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx61WiSR92E4lbFoq%252BB6QDtuetcaBPnW6%252BO7wDHpIiK9SaVK5GgV543tzjgGcghAgAh%252BQQJCgAAACwAAAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZKYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCEWBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK%252B%252BG%252Bw48edZPK%252BM6hLJpQg484enXIdQFSS1u6UhksENEQAAIfkECQoAAAAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg1aBSh2GUVEIQ2aQOE%252BG%252BcD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFhlQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWMPaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm%252BFNRPIhjBJxKZteWuIBMN4zRMIVIhffcgojwCF117i4nlLnY5ztRLsnOk%252BaV%252BoJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkECQoAAAAsAAAAACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQkWyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0%252FVNB0AlcvcAYHRyZPdEQFYV8ccwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIGwAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhkPJMgTwKCdFjyPHEnKxFCDhEAACH5BAkKAAAALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBShpkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuHjYB1kYc1mwruwXKC9gmsJXliGxc%252BXiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOUqjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQCdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%252BE71SRQeyqUToLA7VxF0JDyIQh%252FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiRMDjI0Fd30%252FiI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQULXAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3xEgfLpBtzE%252FjiuL04RGEBgwWhShRgQExHBAAh%252BQQJCgAAACwAAAAAIAAgAAAE7xDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTESJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR%252BipslWIRLAgMDOR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIAACH5BAkKAAAALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%252BE71SRQeyqUToLA7VxF0JDyIQh%252FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwIDaH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLrROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq%252BE71SRQeyqUToLA7VxF0JDyIQh%252FMVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOUjY%252BYip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgGBqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd%252BMFCN6HAAIKgNggY0KtEBAAh%252BQQJCgAAACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCXaiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgevr0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1%252BvsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfLzOlD4WvzAHaoG9nxPi5d%252BjYUqfAhhykOFwJWiAAAIfkECQoAAAAsAAAAACAAIAAABPAQyElpUqnqzaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLKF0tYGKYSg%252BygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0%252Bbm4g5VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h%252BKr0SJ8MFihpNbx%252B4Erq7BYBuzsdiH1jCAzoSfl0rVirNbRXlBBlLX%252BBP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaLCwg1RAAAOwAAAAAAAAAAAA%253D%253D%29%3B%0Avisibility%3A%20visible%3B%0Aopacity%3A%200%2E6%3B%0Atransition%3A%20all%200%2E3s%20ease%3B%20%7D%0A%2Ereveal%20%2Eoverlay%20header%20%7B%0Aposition%3A%20absolute%3B%0Aleft%3A%200%3B%0Atop%3A%200%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%2040px%3B%0Az%2Dindex%3A%202%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23222%3B%20%7D%0A%2Ereveal%20%2Eoverlay%20header%20a%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Awidth%3A%2040px%3B%0Aheight%3A%2040px%3B%0Aline%2Dheight%3A%2036px%3B%0Apadding%3A%200%2010px%3B%0Afloat%3A%20right%3B%0Aopacity%3A%200%2E6%3B%0Abox%2Dsizing%3A%20border%2Dbox%3B%20%7D%0A%2Ereveal%20%2Eoverlay%20header%20a%3Ahover%20%7B%0Aopacity%3A%201%3B%20%7D%0A%2Ereveal%20%2Eoverlay%20header%20a%20%2Eicon%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Awidth%3A%2020px%3B%0Aheight%3A%2020px%3B%0Abackground%2Dposition%3A%2050%25%2050%25%3B%0Abackground%2Dsize%3A%20100%25%3B%0Abackground%2Drepeat%3A%20no%2Drepeat%3B%20%7D%0A%2Ereveal%20%2Eoverlay%20header%20a%2Eclose%20%2Eicon%20%7B%0Abackground%2Dimage%3A%20url%28data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABkklEQVRYR8WX4VHDMAxG6wnoJrABZQPYBCaBTWAD2g1gE5gg6OOsXuxIlr40d81dfrSJ9V4c2VLK7spHuTJ%2F5wpM07QXuXc5X0opX2tEJcadjHuV80li%2FFgxTIEK%2F5QBCICBD6xEhSMGHgQPgBgLiYVAB1dpSqKDawxTohFw4JSEA3clzgIBPCURwE2JucBR7rhPJJv5OpJwDX%2BSfDjgx1wACQeJG1aChP9K%2FIMmdZ8DtESV1WyP3Bt4MwM6sj4NMxMYiqUWHQu4KYA%2FSYkIjOsm3BXYWMKFDwU2khjCQ4ELJUJ4SmClRArOCmSXGuKma0fYD5CbzHxFpCSGAhfAVSSUGDUk2BWZaff2g6GE15BsBQ9nwmpIGDiyHQddwNTMKkbZaf9fajXQca1EX44puJZUsnY0ObGmITE3GVLCbEhQUjGVt146j6oasWN%2B49Vph2w1pZ5EansNZqKBm1txbU57iRRcZ86RWMDdWtBJUHBHwoQPi1GV%2BJCbntmvok7iTX4%2FUp9mgyTc%2FFJYDTcndgH%2FAA5A%2FCHsyEkVAAAAAElFTkSuQmCC%29%3B%20%7D%0A%2Ereveal%20%2Eoverlay%20header%20a%2Eexternal%20%2Eicon%20%7B%0Abackground%2Dimage%3A%20url%28data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAcElEQVRYR%2B2WSQoAIQwEzf8f7XiOMkUQxUPlGkM3hVmiQfQR9GYnH1SsAQlI4DiBqkCMoNb9y2e90IAEJPAcgdznU9%2BengMaeJ7Azh5Y1U67gAho4DqBqmB1buAf0MB1AlVBek83ZPkmJMGc1wAR%2BAAqod%2FB97TRpQAAAABJRU5ErkJggg%3D%3D%29%3B%20%7D%0A%2Ereveal%20%2Eoverlay%20%2Eviewport%20%7B%0Aposition%3A%20absolute%3B%0Adisplay%3A%20%2Dwebkit%2Dbox%3B%0Adisplay%3A%20%2Dms%2Dflexbox%3B%0Adisplay%3A%20flex%3B%0Atop%3A%2040px%3B%0Aright%3A%200%3B%0Abottom%3A%200%3B%0Aleft%3A%200%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dpreview%20%2Eviewport%20iframe%20%7B%0Awidth%3A%20100%25%3B%0Aheight%3A%20100%25%3B%0Amax%2Dwidth%3A%20100%25%3B%0Amax%2Dheight%3A%20100%25%3B%0Aborder%3A%200%3B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%0Atransition%3A%20all%200%2E3s%20ease%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dpreview%2Eloaded%20%2Eviewport%20iframe%20%7B%0Aopacity%3A%201%3B%0Avisibility%3A%20visible%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dpreview%2Eloaded%20%2Eviewport%2Dinner%20%7B%0Aposition%3A%20absolute%3B%0Az%2Dindex%3A%20%2D1%3B%0Aleft%3A%200%3B%0Atop%3A%2045%25%3B%0Awidth%3A%20100%25%3B%0Atext%2Dalign%3A%20center%3B%0Aletter%2Dspacing%3A%20normal%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dpreview%20%2Ex%2Dframe%2Derror%20%7B%0Aopacity%3A%200%3B%0Atransition%3A%20opacity%200%2E3s%20ease%200%2E3s%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dpreview%2Eloaded%20%2Ex%2Dframe%2Derror%20%7B%0Aopacity%3A%201%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dpreview%2Eloaded%20%2Espinner%20%7B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%0A%2Dwebkit%2Dtransform%3A%20scale%280%2E2%29%3B%0Atransform%3A%20scale%280%2E2%29%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dhelp%20%2Eviewport%20%7B%0Aoverflow%3A%20auto%3B%0Acolor%3A%20%23fff%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dhelp%20%2Eviewport%20%2Eviewport%2Dinner%20%7B%0Awidth%3A%20600px%3B%0Amargin%3A%20auto%3B%0Apadding%3A%2020px%2020px%2080px%2020px%3B%0Atext%2Dalign%3A%20center%3B%0Aletter%2Dspacing%3A%20normal%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dhelp%20%2Eviewport%20%2Eviewport%2Dinner%20%2Etitle%20%7B%0Afont%2Dsize%3A%2020px%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dhelp%20%2Eviewport%20%2Eviewport%2Dinner%20table%20%7B%0Aborder%3A%201px%20solid%20%23fff%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0Afont%2Dsize%3A%2016px%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dhelp%20%2Eviewport%20%2Eviewport%2Dinner%20table%20th%2C%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dhelp%20%2Eviewport%20%2Eviewport%2Dinner%20table%20td%20%7B%0Awidth%3A%20200px%3B%0Apadding%3A%2014px%3B%0Aborder%3A%201px%20solid%20%23fff%3B%0Avertical%2Dalign%3A%20middle%3B%20%7D%0A%2Ereveal%20%2Eoverlay%2Eoverlay%2Dhelp%20%2Eviewport%20%2Eviewport%2Dinner%20table%20th%20%7B%0Apadding%2Dtop%3A%2020px%3B%0Apadding%2Dbottom%3A%2020px%3B%20%7D%0A%0A%2Ereveal%20%2Eplayback%20%7B%0Aposition%3A%20absolute%3B%0Aleft%3A%2015px%3B%0Abottom%3A%2020px%3B%0Az%2Dindex%3A%2030%3B%0Acursor%3A%20pointer%3B%0Atransition%3A%20all%20400ms%20ease%3B%0A%2Dwebkit%2Dtap%2Dhighlight%2Dcolor%3A%20transparent%3B%20%7D%0A%2Ereveal%2Eoverview%20%2Eplayback%20%7B%0Aopacity%3A%200%3B%0Avisibility%3A%20hidden%3B%20%7D%0A%0A%2Ereveal%20%2Eroll%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Aline%2Dheight%3A%201%2E2%3B%0Aoverflow%3A%20hidden%3B%0Avertical%2Dalign%3A%20top%3B%0A%2Dwebkit%2Dperspective%3A%20400px%3B%0Aperspective%3A%20400px%3B%0A%2Dwebkit%2Dperspective%2Dorigin%3A%2050%25%2050%25%3B%0Aperspective%2Dorigin%3A%2050%25%2050%25%3B%20%7D%0A%2Ereveal%20%2Eroll%3Ahover%20%7B%0Abackground%3A%20none%3B%0Atext%2Dshadow%3A%20none%3B%20%7D%0A%2Ereveal%20%2Eroll%20span%20%7B%0Adisplay%3A%20block%3B%0Aposition%3A%20relative%3B%0Apadding%3A%200%202px%3B%0Apointer%2Devents%3A%20none%3B%0Atransition%3A%20all%20400ms%20ease%3B%0A%2Dwebkit%2Dtransform%2Dorigin%3A%2050%25%200%25%3B%0Atransform%2Dorigin%3A%2050%25%200%25%3B%0A%2Dwebkit%2Dtransform%2Dstyle%3A%20preserve%2D3d%3B%0Atransform%2Dstyle%3A%20preserve%2D3d%3B%0A%2Dwebkit%2Dbackface%2Dvisibility%3A%20hidden%3B%0Abackface%2Dvisibility%3A%20hidden%3B%20%7D%0A%2Ereveal%20%2Eroll%3Ahover%20span%20%7B%0Abackground%3A%20rgba%280%2C%200%2C%200%2C%200%2E5%29%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280px%2C%200px%2C%20%2D45px%29%20rotateX%2890deg%29%3B%0Atransform%3A%20translate3d%280px%2C%200px%2C%20%2D45px%29%20rotateX%2890deg%29%3B%20%7D%0A%2Ereveal%20%2Eroll%20span%3Aafter%20%7B%0Acontent%3A%20attr%28data%2Dtitle%29%3B%0Adisplay%3A%20block%3B%0Aposition%3A%20absolute%3B%0Aleft%3A%200%3B%0Atop%3A%200%3B%0Apadding%3A%200%202px%3B%0A%2Dwebkit%2Dbackface%2Dvisibility%3A%20hidden%3B%0Abackface%2Dvisibility%3A%20hidden%3B%0A%2Dwebkit%2Dtransform%2Dorigin%3A%2050%25%200%25%3B%0Atransform%2Dorigin%3A%2050%25%200%25%3B%0A%2Dwebkit%2Dtransform%3A%20translate3d%280px%2C%20110%25%2C%200px%29%20rotateX%28%2D90deg%29%3B%0Atransform%3A%20translate3d%280px%2C%20110%25%2C%200px%29%20rotateX%28%2D90deg%29%3B%20%7D%0A%0A%2Ereveal%20aside%2Enotes%20%7B%0Adisplay%3A%20none%3B%20%7D%0A%2Ereveal%20%2Espeaker%2Dnotes%20%7B%0Adisplay%3A%20none%3B%0Aposition%3A%20absolute%3B%0Awidth%3A%2025vw%3B%0Aheight%3A%20100%25%3B%0Atop%3A%200%3B%0Aleft%3A%20100%25%3B%0Apadding%3A%2014px%2018px%2014px%2018px%3B%0Az%2Dindex%3A%201%3B%0Afont%2Dsize%3A%2018px%3B%0Aline%2Dheight%3A%201%2E4%3B%0Aborder%3A%201px%20solid%20rgba%280%2C%200%2C%200%2C%200%2E05%29%3B%0Acolor%3A%20%23222%3B%0Abackground%2Dcolor%3A%20%23f5f5f5%3B%0Aoverflow%3A%20auto%3B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0Atext%2Dalign%3A%20left%3B%0Afont%2Dfamily%3A%20Helvetica%2C%20sans%2Dserif%3B%0A%2Dwebkit%2Doverflow%2Dscrolling%3A%20touch%3B%20%7D%0A%2Ereveal%20%2Espeaker%2Dnotes%20%2Enotes%2Dplaceholder%20%7B%0Acolor%3A%20%23ccc%3B%0Afont%2Dstyle%3A%20italic%3B%20%7D%0A%2Ereveal%20%2Espeaker%2Dnotes%3Afocus%20%7B%0Aoutline%3A%20none%3B%20%7D%0A%2Ereveal%20%2Espeaker%2Dnotes%3Abefore%20%7B%0Acontent%3A%20%27Speaker%20notes%27%3B%0Adisplay%3A%20block%3B%0Amargin%2Dbottom%3A%2010px%3B%0Aopacity%3A%200%2E5%3B%20%7D%0A%2Ereveal%2Eshow%2Dnotes%20%7B%0Amax%2Dwidth%3A%2075vw%3B%0Aoverflow%3A%20visible%3B%20%7D%0A%2Ereveal%2Eshow%2Dnotes%20%2Espeaker%2Dnotes%20%7B%0Adisplay%3A%20block%3B%20%7D%0A%40media%20screen%20and%20%28min%2Dwidth%3A%201600px%29%20%7B%0A%2Ereveal%20%2Espeaker%2Dnotes%20%7B%0Afont%2Dsize%3A%2020px%3B%20%7D%20%7D%0A%40media%20screen%20and%20%28max%2Dwidth%3A%201024px%29%20%7B%0A%2Ereveal%2Eshow%2Dnotes%20%7B%0Aborder%2Dleft%3A%200%3B%0Amax%2Dwidth%3A%20none%3B%0Amax%2Dheight%3A%2070%25%3B%0Aoverflow%3A%20visible%3B%20%7D%0A%2Ereveal%2Eshow%2Dnotes%20%2Espeaker%2Dnotes%20%7B%0Atop%3A%20100%25%3B%0Aleft%3A%200%3B%0Awidth%3A%20100%25%3B%0Aheight%3A%2042%2E8571428571%25%3B%20%7D%20%7D%0A%40media%20screen%20and%20%28max%2Dwidth%3A%20600px%29%20%7B%0A%2Ereveal%2Eshow%2Dnotes%20%7B%0Amax%2Dheight%3A%2060%25%3B%20%7D%0A%2Ereveal%2Eshow%2Dnotes%20%2Espeaker%2Dnotes%20%7B%0Atop%3A%20100%25%3B%0Aheight%3A%2066%2E6666666667%25%3B%20%7D%0A%2Ereveal%20%2Espeaker%2Dnotes%20%7B%0Afont%2Dsize%3A%2014px%3B%20%7D%20%7D%0A%0A%2Ezoomed%20%2Ereveal%20%2A%2C%0A%2Ezoomed%20%2Ereveal%20%2A%3Abefore%2C%0A%2Ezoomed%20%2Ereveal%20%2A%3Aafter%20%7B%0A%2Dwebkit%2Dbackface%2Dvisibility%3A%20visible%20%21important%3B%0Abackface%2Dvisibility%3A%20visible%20%21important%3B%20%7D%0A%2Ezoomed%20%2Ereveal%20%2Eprogress%2C%0A%2Ezoomed%20%2Ereveal%20%2Econtrols%20%7B%0Aopacity%3A%200%3B%20%7D%0A%2Ezoomed%20%2Ereveal%20%2Eroll%20span%20%7B%0Abackground%3A%20none%3B%20%7D%0A%2Ezoomed%20%2Ereveal%20%2Eroll%20span%3Aafter%20%7B%0Avisibility%3A%20hidden%3B%20%7D%0A" rel="stylesheet">
  <style type="text/css">code{white-space: pre;}</style>
  <link href="data:text/css;charset=utf-8,%0A%2Ereveal%20a%20%7B%0Aline%2Dheight%3A%201%2E3em%3B%20%7D%0A%0Abody%20%7B%0Abackground%3A%20%23F0F1EB%3B%0Abackground%2Dcolor%3A%20%23F0F1EB%3B%20%7D%0A%2Ereveal%20%7B%0Afont%2Dfamily%3A%20%22Palatino%20Linotype%22%2C%20%22Book%20Antiqua%22%2C%20Palatino%2C%20FreeSerif%2C%20serif%3B%0Afont%2Dsize%3A%2040px%3B%0Afont%2Dweight%3A%20normal%3B%0Acolor%3A%20%23000%3B%20%7D%0A%3A%3Aselection%20%7B%0Acolor%3A%20%23fff%3B%0Abackground%3A%20%2326351C%3B%0Atext%2Dshadow%3A%20none%3B%20%7D%0A%3A%3A%2Dmoz%2Dselection%20%7B%0Acolor%3A%20%23fff%3B%0Abackground%3A%20%2326351C%3B%0Atext%2Dshadow%3A%20none%3B%20%7D%0A%2Ereveal%20%2Eslides%20section%2C%0A%2Ereveal%20%2Eslides%20section%20%3E%20section%20%7B%0Aline%2Dheight%3A%201%2E3%3B%0Afont%2Dweight%3A%20inherit%3B%20%7D%0A%0A%2Ereveal%20h1%2C%0A%2Ereveal%20h2%2C%0A%2Ereveal%20h3%2C%0A%2Ereveal%20h4%2C%0A%2Ereveal%20h5%2C%0A%2Ereveal%20h6%20%7B%0Amargin%3A%200%200%2020px%200%3B%0Acolor%3A%20%23383D3D%3B%0Afont%2Dfamily%3A%20%22Palatino%20Linotype%22%2C%20%22Book%20Antiqua%22%2C%20Palatino%2C%20FreeSerif%2C%20serif%3B%0Afont%2Dweight%3A%20normal%3B%0Aline%2Dheight%3A%201%2E2%3B%0Aletter%2Dspacing%3A%20normal%3B%0Atext%2Dtransform%3A%20none%3B%0Atext%2Dshadow%3A%20none%3B%0Aword%2Dwrap%3A%20break%2Dword%3B%20%7D%0A%2Ereveal%20h1%20%7B%0Afont%2Dsize%3A%203%2E77em%3B%20%7D%0A%2Ereveal%20h2%20%7B%0Afont%2Dsize%3A%202%2E11em%3B%20%7D%0A%2Ereveal%20h3%20%7B%0Afont%2Dsize%3A%201%2E55em%3B%20%7D%0A%2Ereveal%20h4%20%7B%0Afont%2Dsize%3A%201em%3B%20%7D%0A%2Ereveal%20h1%20%7B%0Atext%2Dshadow%3A%20none%3B%20%7D%0A%0A%2Ereveal%20p%20%7B%0Amargin%3A%2020px%200%3B%0Aline%2Dheight%3A%201%2E3%3B%20%7D%0A%0A%2Ereveal%20img%2C%0A%2Ereveal%20video%2C%0A%2Ereveal%20iframe%20%7B%0Amax%2Dwidth%3A%2095%25%3B%0Amax%2Dheight%3A%2095%25%3B%20%7D%0A%2Ereveal%20strong%2C%0A%2Ereveal%20b%20%7B%0Afont%2Dweight%3A%20bold%3B%20%7D%0A%2Ereveal%20em%20%7B%0Afont%2Dstyle%3A%20italic%3B%20%7D%0A%2Ereveal%20ol%2C%0A%2Ereveal%20dl%2C%0A%2Ereveal%20ul%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Atext%2Dalign%3A%20left%3B%0Amargin%3A%200%200%200%201em%3B%20%7D%0A%2Ereveal%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20decimal%3B%20%7D%0A%2Ereveal%20ul%20%7B%0Alist%2Dstyle%2Dtype%3A%20disc%3B%20%7D%0A%2Ereveal%20ul%20ul%20%7B%0Alist%2Dstyle%2Dtype%3A%20square%3B%20%7D%0A%2Ereveal%20ul%20ul%20ul%20%7B%0Alist%2Dstyle%2Dtype%3A%20circle%3B%20%7D%0A%2Ereveal%20ul%20ul%2C%0A%2Ereveal%20ul%20ol%2C%0A%2Ereveal%20ol%20ol%2C%0A%2Ereveal%20ol%20ul%20%7B%0Adisplay%3A%20block%3B%0Amargin%2Dleft%3A%2040px%3B%20%7D%0A%2Ereveal%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%20%7D%0A%2Ereveal%20dd%20%7B%0Amargin%2Dleft%3A%2040px%3B%20%7D%0A%2Ereveal%20blockquote%20%7B%0Adisplay%3A%20block%3B%0Aposition%3A%20relative%3B%0Awidth%3A%2070%25%3B%0Amargin%3A%2020px%20auto%3B%0Apadding%3A%205px%3B%0Afont%2Dstyle%3A%20italic%3B%0Abackground%3A%20rgba%28255%2C%20255%2C%20255%2C%200%2E05%29%3B%0Abox%2Dshadow%3A%200px%200px%202px%20rgba%280%2C%200%2C%200%2C%200%2E2%29%3B%20%7D%0A%2Ereveal%20blockquote%20p%3Afirst%2Dchild%2C%0A%2Ereveal%20blockquote%20p%3Alast%2Dchild%20%7B%0Adisplay%3A%20inline%2Dblock%3B%20%7D%0A%2Ereveal%20q%20%7B%0Afont%2Dstyle%3A%20italic%3B%20%7D%0A%2Ereveal%20pre%20%7B%0Adisplay%3A%20block%3B%0Aposition%3A%20relative%3B%0Awidth%3A%2090%25%3B%0Amargin%3A%2020px%20auto%3B%0Atext%2Dalign%3A%20left%3B%0Afont%2Dsize%3A%200%2E55em%3B%0Afont%2Dfamily%3A%20monospace%3B%0Aline%2Dheight%3A%201%2E2em%3B%0Aword%2Dwrap%3A%20break%2Dword%3B%0Abox%2Dshadow%3A%200px%200px%206px%20rgba%280%2C%200%2C%200%2C%200%2E3%29%3B%20%7D%0A%2Ereveal%20code%20%7B%0Afont%2Dfamily%3A%20monospace%3B%0Atext%2Dtransform%3A%20none%3B%20%7D%0A%2Ereveal%20pre%20code%20%7B%0Adisplay%3A%20block%3B%0Apadding%3A%205px%3B%0Aoverflow%3A%20auto%3B%0Amax%2Dheight%3A%20400px%3B%0Aword%2Dwrap%3A%20normal%3B%20%7D%0A%2Ereveal%20table%20%7B%0Amargin%3A%20auto%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0Aborder%2Dspacing%3A%200%3B%20%7D%0A%2Ereveal%20table%20th%20%7B%0Afont%2Dweight%3A%20bold%3B%20%7D%0A%2Ereveal%20table%20th%2C%0A%2Ereveal%20table%20td%20%7B%0Atext%2Dalign%3A%20left%3B%0Apadding%3A%200%2E2em%200%2E5em%200%2E2em%200%2E5em%3B%0Aborder%2Dbottom%3A%201px%20solid%3B%20%7D%0A%2Ereveal%20table%20th%5Balign%3D%22center%22%5D%2C%0A%2Ereveal%20table%20td%5Balign%3D%22center%22%5D%20%7B%0Atext%2Dalign%3A%20center%3B%20%7D%0A%2Ereveal%20table%20th%5Balign%3D%22right%22%5D%2C%0A%2Ereveal%20table%20td%5Balign%3D%22right%22%5D%20%7B%0Atext%2Dalign%3A%20right%3B%20%7D%0A%2Ereveal%20table%20tbody%20tr%3Alast%2Dchild%20th%2C%0A%2Ereveal%20table%20tbody%20tr%3Alast%2Dchild%20td%20%7B%0Aborder%2Dbottom%3A%20none%3B%20%7D%0A%2Ereveal%20sup%20%7B%0Avertical%2Dalign%3A%20super%3B%0Afont%2Dsize%3A%20smaller%3B%20%7D%0A%2Ereveal%20sub%20%7B%0Avertical%2Dalign%3A%20sub%3B%0Afont%2Dsize%3A%20smaller%3B%20%7D%0A%2Ereveal%20small%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Afont%2Dsize%3A%200%2E6em%3B%0Aline%2Dheight%3A%201%2E2em%3B%0Avertical%2Dalign%3A%20top%3B%20%7D%0A%2Ereveal%20small%20%2A%20%7B%0Avertical%2Dalign%3A%20top%3B%20%7D%0A%0A%2Ereveal%20a%20%7B%0Acolor%3A%20%2351483D%3B%0Atext%2Ddecoration%3A%20none%3B%0A%2Dwebkit%2Dtransition%3A%20color%20%2E15s%20ease%3B%0A%2Dmoz%2Dtransition%3A%20color%20%2E15s%20ease%3B%0Atransition%3A%20color%20%2E15s%20ease%3B%20%7D%0A%2Ereveal%20a%3Ahover%20%7B%0Acolor%3A%20%238b7c69%3B%0Atext%2Dshadow%3A%20none%3B%0Aborder%3A%20none%3B%20%7D%0A%2Ereveal%20%2Eroll%20span%3Aafter%20%7B%0Acolor%3A%20%23fff%3B%0Abackground%3A%20%2325211c%3B%20%7D%0A%0A%2Ereveal%20section%20img%20%7B%0Amargin%3A%2015px%200px%3B%0Abackground%3A%20rgba%28255%2C%20255%2C%20255%2C%200%2E12%29%3B%0Aborder%3A%204px%20solid%20%23000%3B%0Abox%2Dshadow%3A%200%200%2010px%20rgba%280%2C%200%2C%200%2C%200%2E15%29%3B%20%7D%0A%2Ereveal%20section%20img%2Eplain%20%7B%0Aborder%3A%200%3B%0Abox%2Dshadow%3A%20none%3B%20%7D%0A%2Ereveal%20a%20img%20%7B%0A%2Dwebkit%2Dtransition%3A%20all%20%2E15s%20linear%3B%0A%2Dmoz%2Dtransition%3A%20all%20%2E15s%20linear%3B%0Atransition%3A%20all%20%2E15s%20linear%3B%20%7D%0A%2Ereveal%20a%3Ahover%20img%20%7B%0Abackground%3A%20rgba%28255%2C%20255%2C%20255%2C%200%2E2%29%3B%0Aborder%2Dcolor%3A%20%2351483D%3B%0Abox%2Dshadow%3A%200%200%2020px%20rgba%280%2C%200%2C%200%2C%200%2E55%29%3B%20%7D%0A%0A%2Ereveal%20%2Econtrols%20%7B%0Acolor%3A%20%2351483D%3B%20%7D%0A%0A%2Ereveal%20%2Eprogress%20%7B%0Abackground%3A%20rgba%280%2C%200%2C%200%2C%200%2E2%29%3B%0Acolor%3A%20%2351483D%3B%20%7D%0A%2Ereveal%20%2Eprogress%20span%20%7B%0A%2Dwebkit%2Dtransition%3A%20width%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%3B%0A%2Dmoz%2Dtransition%3A%20width%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%3B%0Atransition%3A%20width%20800ms%20cubic%2Dbezier%280%2E26%2C%200%2E86%2C%200%2E44%2C%200%2E985%29%3B%20%7D%0A%0A%40media%20print%20%7B%0A%2Ebackgrounds%20%7B%0Abackground%2Dcolor%3A%20%23F0F1EB%3B%20%7D%20%7D%0A" rel="stylesheet" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
<style>
    .reveal {
        background: #d5e20f88;
        background-image: url('../images/logo-somit.svg');
        background-repeat: no-repeat;
        background-size: 20%;
        background-position: bottom left;
        opacity: 50%;
    }
    .reveal .slides {
        background: #ffffffee;
    }
    .reveal .slides .titleslide {
        background-color: #86bc25ff;
    }
    .reveal .slides .titleslide h1 {
        color: white;
    }
    .reveal .slides .slide.level2 h2 {
        color: #86bc25ff;
        //color: #480;
    }
    code {
        background: #ffe;
        border-radius: 0.5ex;
        padding: 3px;
        color: #500;
    }
    .slide strong {
        color: #060;
    }
    .columns {
        display: flex;
    }
    .columns .column {
        margin-left: auto;
        margin-right: auto;
    }
</style>
  <div class="reveal">
    <div class="slides">

<section>
  <h1 class="title">Open Data</h1>
  <p class="subtitle">HACKASOM 2018</p>
  <p class="author">David García Garzón</p>
</section>

<section><section id="api" class="titleslide slide level1"><h1>API</h1></section><section id="open-data" class="slide level2">
<h2>Open Data</h2>
<p>Acceso a datos anonimizados por agregación</p>
<p><a href="http://opendata.somenergia.coop" target="_blank"><code>http://opendata.somenergia.coop</code></a></p>
<p>En la raiz está la documentación</p>
<p><strong>Da pie a proyectos para voluntarios y estudiantes</strong></p>
<ul>
<li>Explotar los datos</li>
<li>Ampliar funcionalidades</li>
</ul>
</section><section id="métricas-y-detalle" class="slide level2">
<h2>Métricas y detalle</h2>
<p><strong>Métricas:</strong></p>
<p><code>/v0.2/members</code> (socias)</p>
<p><code>/v0.2/contracts</code> (contratos)</p>
<p><strong>Detalle geográfico:</strong> Por defecto global.</p>
<p><code>/by/&lt;level&gt;</code> (<code>country</code>, <code>state</code>, <code>ccaa</code>, <code>city</code>)</p>
</section><section id="serie-temporal" class="slide level2">
<h2>Serie temporal</h2>
<p><strong>Por defecto:</strong> la última fecha disponible</p>
<p><strong>A fecha dada:</strong> <code>/on/&lt;date&gt;</code></p>
<p>(solo primeros de mes, de momento)</p>
<p><strong>Serie anual:</strong> <code>/yearly[/from/&lt;date&gt;][/to/&lt;date&gt;]</code></p>
<p><strong>Serie mensual:</strong> <code>/monthly[/from/&lt;date&gt;][/to/&lt;date&gt;]</code></p>
</section><section id="filtros-geográficos" class="slide level2">
<h2>Filtros geográficos</h2>
<p>En la query string.</p>
<p><code>?ccaa=01&amp;city=38017&amp;city=38019</code></p>
<p>Incluiría Andalucía (01) y los municipios Tinerfeños de <em>Granadilla de Abona</em> (38017) y <em>Guía Isora</em> (38019)</p>
<p>Se usan los códigos del INE (<a href="http://www.ine.es/daco/daco42/codmun/codmunmapa.htm" target="_blank">web</a>)</p>
</section></section>
<section><section id="interfaz-para-humanos" class="titleslide slide level1"><h1>Interfaz para humanos</h1></section><section id="section" class="slide level2">
<h2></h2>
<figure>
<img src="data:image/png;base64,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tbX1b16EEELhJPhncqWlpVqttuvjli1buj1VTCQSXb169bbbbuv4+NVXX124cIE8gVQqfffddzkcTl9XvWPHjp9++olKpZpMpo8//rhfyUcIIRQ+gh/kEhMT33nnnY7/rVbriRMnxowZ0/Xr/v37U1JSRCLRzJkzdTrdyJEjVSrVn/70p+eee+7kyZOxsbFTpkwZOXLkypUru2bZsWPH6NGjeTzelClT6urqAGDXrl1SqVQgEEyZMqWxsbFrygsXLsydO7epqWn8+PH5+flB3zSEEELDS/CD3OLFi/fs2dPx/9atW4VC4ciRIzs+NjU1Pfzww2vXrq2rq7PZbGvXrr1x40ZcXNxrr73297//HQDa2toWLFhw5MiRrqVdv379mWeeeemll5RKpUgkevjhh2trax9//PFt27bV19ebTKYXXniha+LNmzc/8MADHA7n3nvvPXz4cNA3DSGE0PAS/CC3dOnSxsbGjstsn332WV5eXtejMz///HOBQLB27dro6Oh169Z9//333eaNior685//zOVyu7754osvpFLpww8/HBUV9d5779155518Pn///v333ntvVFRUbm7utWvXuia+cePGp59++r///e/EiRM//vhj0DcNIYTQ8NLL++T6wW63z5w5c/Pmza+99trVq1cPHDjw61//uuOnuro6pVLJ5/M7PrJYrF6XptFohEJhx/+JiYkvv/wyAPzvf//73e9+ZzabCYIYO3Zs18QjR448fvx4cnLy/v37MzIygrtdCCGEhp3gn8k5HI61a9ceO3bszTffnDRp0ogRI7re15OQkJCamqpzaWho6HVpo0aN6hrGotVq9+7de/jw4XfffXffvn01NTXLli3rNn1qaioAYIRDCCEEIbpP7s477+TxeLt27VqzZg35+yVLltTV1b333ntWq/Xjjz9+/PHHAYDJZFZVVZnNZq+LWrp0aX19/eeff26z2R577LHNmzffuHHD6XTa7faSkpKDBw86HI5QbAJCCKEwEKqbwfPy8mJiYhYvXkz+cuTIkVu3bt28eXNsbOzrr7++aNEiAFi2bNn27dvXrVvndTlxcXHvv//+xo0bR4wYUV9fv2/fvhUrVmRlZd15552/+c1vJkyYgC+9Qwgh5EuEn3d/4y3VCCGEhoWoqCiv3+OzKxFCCIUtDHIIIYTCFgY5hBBCYQuDHEIIobCF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J+KZeCSSzFDOEt6iES0RU3Ui0pJxlSkOyTrIvPEcwHWdiHPO9XQqpVGRV2EFOmKMjFpTcMfmgy0YTKENzFNadNJIi4fDMZUTMSYwRpxIEAU9rWY4cS2VMq1aTQbb5mQCALRdm6crJbffF4/FQ/6MTkyUnF6fSyQSvT4tGg36o8RExe11NtuFKSZrmeL1ZqLRgL/hYTyFMWq5hFLNG9GNRgTJ4fG5802mmfaYS3Z5pWgsGOCC7FRkQeONFz1FM+tIdsrxWCDEAwGndYwmwxcLBFMwWtOUFp80yeNzRKMBf5RIkN1el0hMdLvUaNifJElWRLPMsCaDbXMyAQDarKK+vr69YwAAACgLfHclAADYFoocAADYFoocAADYFoocAADYFoocAADYFoocAADYFoocAADYFoocAADYFoocAADYFoocAADYFoocAADYVoEvaK6vr9+9e/e+ffsOTTQAAADF69y5c9euXSsqKqw2KPAFzbt27cI3OAMAQIdVUVHRrVs3q7X5pit3796NCgcAAB2ZMeNotTZfkdu7d28Z4gEAACilPNUKD54AAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtocgBAIBtdWnvAODg7dq1a9++fUTUo0eP1u67c+fO/fv3H9y+AACHC1zJHQp5/jR7W4wYMaK6urq6uvrjjz9u7b7HHnusse/27dvLERsAQEeAIldeiURi2LBhgiDMmDGjHO2PGTPmb3/72+DBg1u749NPP33OOeeUIyQAgI6jxEXu1FNP7dmz51tvvdV04S233FJVVaVpGhGdcsopZ5999kG3X1NTc+qpp7Y1yvJYuXJlr169Zs2alV1SX19/5ZVXEtFf/vKXG2+8kdo8/FzHHHPM1KlTKysr+/XrN23atOJ3dLlckiSVMBIAgA6o9Pfk9u/ff/XVV7/33numa08++eQ+ffqUvNN2t3379hkzZlx++eUPPPBAduGHH3749ddf33XXXUapI/sOHwCgYyp9kevUqdN///vfO++88ze/+U3u2gcffLDkPbaX+vp6IqqoqCCiqqqqDz74oHv37k03MC5eq6urs0vsNHwAgI6v9Pfk+vbtO2rUqDlz5nz22We5a7Pzjeeff74oikadIKI33nijqqrqscceM368//77hw4devTRRw8dOvTRRx8t2OnevXunT5/et29fQRAmTpw4ffp0URSza61au/fee4cNG3b00UcPGjTohhtuyAaTv7V+/fqdeeaZ3/3ud48++uilS5du2bLF7XaLoiiK4rBhw+bMmWNsNn369PPOO4+IZs2alZ2tbTHdGggEjjvuuF69eg0bNiwcDhcMLL8dO3acccYZvXv3PuaYYy644II9e/YQ0aRJk/r3759tIRwOV1VVJRKJYhoEADjcleXBk3nz5u3Zs2fmzJl5tvnpT3+6bdu2l19+2fjx6aefZoxdeumlRBQKhe64446TTjrpvvvukyTpF7/4xdKlS/P3eO21177wwgs/+MEPfve73/Xu3fvFF1/MrrJqLRgMBoPB0aNH33fffT/60Y8ef/zxyy+/vGBrhpUrV9bU1Pzud78bPXr02WefvWrVql/84hcPP/zw2LFjb7/9dqP9P/zhD3fddRcR3XLLLS+//HL//v1bNHLDDTf89a9/nThx4l/+8hdFUW6//XajAOcJLL/ly5czxoLB4Gmnnfbqq69eddVVRHTppZfu2LHj73//u7HNyy+/3KdPH5fLVUyDAACHu4o8Vwk7d+5sbXOnnnrqF1988cknn/h8vqeeeurxxx+/6KKLbrnlloceeujjjz8WRbGmpqZv374rV66sr68fOHDgaaed9vTTTxNRTU3N0KFDE4lEfX39gAEDRowYsWLFCiLav3+/JEmyLL/22mvGZsbuTTutq6sbOHDgiSee+I9//MNYMmnSpHXr1mmaZtXayy+/PGDAgNGjRyeTSWOXGTNmvPDCC++//74oilatGT/269ev6Y7z58+vqakZN26c8WOfPn08Hs9DDz1ERK+//vrUqVMfffTRSy65xFibjb+urm7AgAGTJk3Klp+TTz65c+fOK1eutApsyJAhLbI9ePBgRVEWL15sRFVTU/Pmm28aq84555xVq1Z98cUXnTp1GjBgwOmnn75gwYL6+vr+/fu7XK6nnnqKiIzjUltbi4/KAcDhrsXdoqxyfYRg9uzZ/fv3v/XWW+vq6kw3qKiomDhxovGm/NFHH3322Wcej4eIVq5cuW3btvPOO2/79u3bt2/fuXOnLMsfffRRnr7ef/99zrnb7c4uOeaYY4z/WLX2xhtv7Ny58+KLL87ucu211+7fv//FF1/M01pWv379sv//yU9+8re//a2mpqZfv369e/euq6vTdb1gfpYtW1ZXV3f++ednlzz//PMPP/xwnsAKtjlgwIDs/88//3zO+YcffnjUUUf94Ac/MH4tWLx48c6dO5s+/wkAYG/lKnKVlZX33Xff5s2bjUfnTXm93i1btqxcufLxxx/v1q2bMVf56aefElEwGKxutHLlyvzXlMbNP9PPilm19vnnnxPR0KFDs1sOGzaMiDZv3pynNVM/+clP5s+fP2PGjOeff/6NN97o1q1bMXtt2rSJiAYNGpRdMmTIEEVR8gRWZDwG4ybihg0biGjmzJnffPPNP/7xj4ULF/bv33/SpEmtagoA4PBVxq/1uuCCC+bOnfvMM8+ceeaZphucffbZvXv3fuKJJ955553x48cfddRRRCQIAhHdcMMN3//+97NbMsbydGSUgdra2txVVq116tSJiL744ovsQuNLQ6qrq/O0lmvnzp0rVqy44YYb7rjjDmOJ8bBlQcbV4ZdfftliuXE1ZhpYMc1mGcXy2GOPJaKpU6f26dPnqaeeWrly5emnn96qdgAADmvl/caTefPmHXXUUXme5Zs0adKSJUvWr18/ffr07JKuXbt+8sknUxudcsopEyZMyNPL8ccf37179xdeeCG7JHvdY9XaxIkTu3XrtmDBguwujz76aKdOnaZOnZqntVxbtmzZv39/trC9/fbbnPN8GWky8K5duzbtZcqUKT/84Q/zBFawTaOwGRYvXswY++53v2v8ePrppycSCU3TfD5fMeEBANhDeYvcoEGD/H6/8UXApq644opNmzZVVlYaN+SIqHv37j/72c9eeumladOmzZ8//9577x03blz+20hdunTxeDwrVqy44IILZs+efd55573zzjv5W6usrLzqqqvefPPNadOmPfnkk7NmzXruuefcbvfgwYPztJbruOOOGzhw4COPPHLbbbfddNNN55577v79+4v5NsgePXpceOGFiUTiiiuumD9//uWXX75s2bJp06blCaxgm++9994555wzZ86ciy++eNmyZeeff35lZaWx6rrrrvv2228HDhx48sknF2wHAMA2yv5XCH79618/++yzVt8gfPrpp/ft23fMmDFduhyI5P777+/Zs2c0Gk0kElVVVaeddtrcuXPz9zJ79uxvvvnmlVdeWbp06Qkn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RpuC5PD43GbbFIq8aWumB6uRlkqqusbC/iQREQnOQNBdKO1cTURTSsCf7xmY1o4of8AHcSCY6PVmotGAv+HpPsWYr2tydllElYkFY4IvewFu9oouPKLih1zwDM8NgInFHv3W9sUUjzdtvExkJWfe0npQTBCZGvVHNRJkj/HBwYJ9tfYsAjMV9fX17R1DG2jxYIQ3fIQASqgdE6vFQxHuwTHtyNRoICUH23AXwCYysWCUecv8SUdooyPla70AoFTSakZ2KEdqhcvEw1FVJyI9lVC5JEvtHRDk10G+8QQADhuyN3gEPwkoORwUDfujOgmyy+c5gjNxmDjMpysBAACsYboSAABsC0UOAABsC0UOAABsC0UOAABsC0UOAABsC0UOAABsC0UOAABsC0UOAABsq8A3ntTX1+/evXvfvn2HJhoAAIDide7cuWvXrhUVFVYbFPjGk127duErUQAAoMOqqKjo1q2b1dp805W7d+9GhQMAgI7MmHG0WpuvyO3du7cM8QAAAJRSnmqFB08AAMC2UOQAAMC2UOQAAMC2UOQAAMC2UOQAAMC2UOQAAMC2UOQO2LhxY1VVVXtHAQAAJVPKIrdnz56q5u6+++41a9YMGTKk4L633377qlWrShhMCQ0ZMmTnzp3tHQUAALRage+uPAhr1qwZNWpU9se6uro5c+YU3OvZZ5899thjTznllJLHY2r//v2dOhUu8NFodPz48Z07d+acx2KxK6644hDEBgAApVL26cr33nvP6/Ua/1+0aNGwYcN69+7tdDq/+eab7DaDBg3SNO2222675ZZbcjd7/fXXBwwYMGXKlD59+hx33HHxePyUU045+uija2pqPvjgAyJ64403BgwYMGHChAEDBowcOTJ7RRiPx4cPH967d++TTjrp/fffN7bs16/fKaecMnjw4L/97W/HHntsnz59TjnllM2bN5sG/+6777pcri1btowePXrBggXlzBMAAJTeobsnt2XLliuuuOLGG2/cuHHj3r17b7zxxuyqzz//XBTFu++++9577zXd7Ntvv50wYcL69euPP/74yy677JprrslkMv369fvtb39rtLB9+/Ybb7zxyy+/nDhx4s9+9jMi+vLLL2fOnHndddd9+umniqKcf/75xvdw7ty5c8qUKa+88sp111336KOPfvbZZ5zzX/3qV6Yxz549e8aMGT169DjrrLNeffXVsucIAABKqvRFbty4ccYNuWHDhjVdPn/+/D59+tx44409e/a86aabVq5cabq76Wbdu3e/9dZb+/bte/755/fr18/r9fbp0+e000779NNPjb0YYxdeeCER/eUvf9m4cWNtbe0TTzzRv3//m266qUePHnPnzv3mm29WrFhhNPXrX/9akqRFixadddZZ3bt3nzhx4scff2wazOeff/7kk0+++eabyWRyzZo1JcwSAAAcAmW/J5e1cePGL774onfv3saPjDHT3fNv1rVr186dOxv/79Kly/79+1vs3rNnz65du27cuFHTtP79+2e37NWr13/+85/hw4cbS3r16vXmm29eeeWVdXV1O3bsqKmpMQ1m0KBBy5YtGzZs2KJFi0444YSCYwcAgA7l0E1XDh48eMSIEd80+vLLL9uymZXNmzfX1dUdd9xxkiRl77Tt3bt369atgwYNym726quvzpkz5+9///t///vf6dOn52lwxIgRRIQKBwBwODp0Re7iiy/euHHjAw88sGfPnscee+y6665ruraysvKjjz6qq6vLv5mVXbt2Pfjgg7t27brmmmuGDBlSXV09Y8aMzZs3z549u66u7vrrr+/Zs+eZZ56Z3f7zzz+vr6/ft29fKpV6+eWXc68IAQDABsp4T66qquq2227LLh80aNDcuXNnz57dr1+/e+65x+12N91r+vTp8+bNu+mmm/JvZqWysvL5558fNGjQv/71r8cee4yI+vbt++STT/71r3+trq5+8803Fy5c2PTvo3u93hNPPPGHP/zhJZdcoigK/nIeAIAtVeT5298l+QT022+/feaZZ3799ddtb8rKG2+8ceGFF1p9DAAAAGyve/fupsvLO125Z8+eVatWdevWray9AAAAmCpvkQuHw7/+9a8vu+yysvYCAABgquzTlQAAAOXWPtOVAAAA7QhFDgAAbAtFDgAAbAtFDgAAbAtFDgAAbAtFDgAAbKt8RY4vurhPVY6pC/XWN7X650Orjr91daki05f/fGyf4y+ev4EX3nbDo66BQ3+66CCCBgCAdlf6P7XTzHEXzp4zY0iTBdVjhPL2WFDtoltvXD3hieScKdVFbN1r5OTJk3sNMf+zQAAA0LGVucj1GjNh8mTzv9XWXqqnzH13StFbCxNvfmJiGaMBAIAyaq97cnzdwlunjh3ap0+foWMvvmNJbeNy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E2traz/88MMTTjih6apnn3323XffXbt2bTqdvvbaazOZzIIFC7766qvRo0d7PJ7Kysp///vfzz///NatW0eMGDF9+vQePXoYO7744ov//Oc/q6qqfvaznw0aNGj9+vULFizYvn378OHDL7/8csaYVTCffPLJs88+u2XLFkmSLrnkkrq6urlz544dO7Zpa+VNBwAAWDv8ruTWrFmjKMqJJ564evXqFqsuuugiRVHOOeeca6+9lnM+d+5cl8t111137du37/XXX9+2bdvjjz9+wQUX3HPPPYIgxONxY69t27b16tXrd7/73ciRI1999dVt27Y98sgjXq/3rrvuqqurW7ZsmVUkO3funDt37plnnnn33XcPGzbsscceI6ItW7Y0ba18eQAAgIIOsyK3cePGbdu21dTUKIrywQcf7Ny502rLdDp9zDHHnHjiiUcddZTT6Xz//ffXrVs3ePDgUaNGdenS5eyzz/7Od75jbNmzZ89JkyZ17dp11KhRX331VWVl5c0333zsscd26dJl1KhRtbW1Vl18+OGH/fv3Hzt27FFHHXXWWWd99dVXmzZtatFa6VMAAABFO8ymK1evXn3CCSd07ty5T58+AwcOfPfdd0899VTTLXVd//TTT2+99VbjR8bY9u3bBUEwfuzZs6fD4WixS6dOnfbv39+1a9fPPvvsmWeeqaurM2YsrYL59ttve/fund1XEIStW7e2aO2gRwoAAG13OBW5/fv3v/POO9u2bVu1apWxpEuXLlZFrlevXiNGjLjuuuuyS1RVfe+994z/19XVff7558OGDcvd8dNPP120aNEvfvELQRCWLVuWyWSs4unTp8/atWuzsem6nr3JBwAAHcHhNF3573//u6KiYvbs2Q888MADDzxw5513ZjKZLVu2mG48cuTIzz77bO3atfv37//www+XLl06cuTIL774Yt26dfv373/llVeWL19uuuO2bdvq6+vr6+tra2vfeeedPJ9vk2V506ZN//rXv/bt27d06dKePXsOGDCgNEMFAIBSOJyu5N5++22Hw9GpU0Nh7t279+jRo99++22Xy5W7cVVV1ZVXXvncc889+eST1dXVl1xySffu3a+44ornn3/+q6++kmV5xowZpr0cf/zxsizffffdffr0Of744zdv3mwVD2PM5/M9++yz8+fPHzx48KxZs0w/1QAAAO2lIs+V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ut3ua665ZsSIEY8//rjRvtPpNIrZpZdeetttt+XOUi5duvS5555TFGXmzJkjRoyYN2/eBx98UDCwYrIBANChlPBKjm9YvWL91vzbVFaPGT+mmrWlm/r6+rq6uuyPnTt3bjFT11R1dfXRRx9t/KfpPbnvfe97P/nJT4ho//79L7744sknn3zRRRcRkXGltXTp0kmTJvXs2TOdTjscjpNPPpmIBg8e/PTTT2/evLlnz57Zdvbt27ds2bJx48YZu5944ok7duz4+OOPjThfeOGFsWPHGh2NGjVqw4YNyWTy0ksvzdNp9+7drRpsETkR/ehHP+rdu3f//v2JaMSIEatXr/73v/89aNCgo48+um/fvkR0zDHHDBgwoEVO9u3b99prr02YMMGo+qNGjdq0adPKlStHjx7dxmwAAHQ0pSxytWtXL9/A824jjDlu/JjqNnWjadovf/nL7I+nnnqqx+NpbSNG5SOiL7/8ctu2bSeddFJ21fjx41977bVPPvlkzJgxQ4cOXbVqVe/evY1pw+uvv75FO19//fX27duNSUJD9k2/trZW1/UxY8bs2bPHWDJs2LCNGzfm73TAgAFWDbaInIiGDx++YsWKp5566quvvtq7dy/n3LgVl9/nn3++c+fO7373u9klM2bMMH5vaGM2AAA6mhIWOWH8rFn06KOLLOucMGbazGk1bbqMI6Jjjjnmsssuy/7Y9E3/IBgTbr169couMYrKjh07iOinP/3pa6+9tnTp0oULFw4aNCh70yvLuOFnejVjtByNRpsuNDrK02meBnMtXLjwvffeM+6Nde3a9c9//nMxexmFsGkXPXv2NH5sYzYAADqa0j54Um1d54Qx02ZOGyO0vY+uXbsOHz687e0YevToQY21yvDtt99ml1dWVk6ZMmXKlCmbNm16/fXX582b5/f7hw0blt3YKLFGDWihsrKSiC666CLjEw4GY2Y1T6d5Gmxh7969q1atuvDCC0855RRjSZGPiRq36Jr2ntXGbAAAdDQlf/CkevysWVOGtLhcK1mFOwj53/oHDBjQo0ePph8wf+eddzp37jxs2LDa2to//OEP69evJ6L+/ftfeOGF9fX1n376adPde/fu3bNnz/feey+7xKgKRDRw4MBu3bp99dVXQxtVV1cbd8jydJqnwRY45/v27cuObtOmTbt27SomIQMHDmSMffjhh9kl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" style="width:40.0%" />
</figure>
</section><section id="función" class="slide level2">
<h2>Función</h2>
<p>Acceso a personas no programadoras</p>
<p>Grupos locales, Equipo técnico</p>
<ul>
<li>Construir queries</li>
<li>Visualizar resultados</li>
</ul>
</section><section id="posibles-mejoras" class="slide level2">
<h2>Posibles mejoras</h2>
<p>Editor de filtros</p>
<p>Mejorar la tabla</p>
<p>Integrar nuevas visualizaciones</p>
<p>Descarga en diferentes formatos</p>
<p>Generar widgets para el blog</p>
</section><section id="wanna-hack" class="slide level2">
<h2>Wanna hack?</h2>
<p><a href="github.com/som-energia/webforms-mithril%60"><code>github:som-energia/webforms-mithril</code></a></p>
<p>Tecnologías utilizadas:</p>
<ul>
<li>Mithril: control aplicación</li>
<li>MDC4W: widgets de base</li>
<li>Webpack: optimización y empacado</li>
<li>NodeJS: dependencias</li>
</ul>
<p>Explicadas en una formación 'interna'</p>
<p><a href>enlace</a></p>
</section></section>
<section><section id="ideas-de-proyectos" class="titleslide slide level1"><h1>Ideas de proyectos</h1></section><section id="nuevas-métricas" class="slide level2">
<h2>Nuevas métricas</h2>
<p>Consumo agregado, Producción, Plantas, Autoproducción ...</p>
<p><strong>Referéncias para métricas relativas:</strong> Población, Superficie, Puntos de suministro ...</p>
</section><section id="formatos-y-visualizaciones" class="slide level2">
<h2>Formatos y visualizaciones</h2>
<p><strong>Formatos:</strong> Soportar JSON, CSV... no solo YAML</p>
<p><strong>Visualizaciones:</strong> Usando los datos de la API o integradas en la API como formato de salida</p>
<p>Gráficas - Mapas - Animaciones - Interactivos</p>
<p>¿Concurso?</p>
</section><section id="frontend" class="slide level2">
<h2>Frontend</h2>
<p>Construcción interactiva de la query</p>
<p>Integración de las visualizaciones</p>
<p>Conversor Grupo Local -&gt; lista de municipios</p>
<p>Generación de snippets para integrar en el blog</p>
</section></section>
    </div>
  </div>

  <script src="data:application/x-javascript;base64,77u/LyohIGhlYWQuY29yZSAtIHYxLjAuMiAqLwooZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihuKXthW2EubGVuZ3RoXT1ufWZ1bmN0aW9uIGsobil7dmFyIHQ9bmV3IFJlZ0V4cCgiID9cXGIiK24rIlxcYiIpO2MuY2xhc3NOYW1lPWMuY2xhc3NOYW1lLnJlcGxhY2UodCwiIil9ZnVuY3Rpb24gcChuLHQpe2Zvcih2YXIgaT0wLHI9bi5sZW5ndGg7aTxyO2krKyl0LmNhbGwobixuW2ldLGkpfWZ1bmN0aW9uIHR0KCl7dmFyIHQsZSxmLG87Yy5jbGFzc05hbWU9Yy5jbGFzc05hbWUucmVwbGFjZSgvICh3LXxlcS18Z3QtfGd0ZS18bHQtfGx0ZS18cG9ydHJhaXR8bm8tcG9ydHJhaXR8bGFuZHNjYXBlfG5vLWxhbmRzY2FwZSlcZCsvZywiIik7dD1uLmlubmVyV2lkdGh8fGMuY2xpZW50V2lkdGg7ZT1uLm91dGVyV2lkdGh8fG4uc2NyZWVuLndpZHRoO3Uuc2NyZWVuLmlubmVyV2lkdGg9dDt1LnNjcmVlbi5vdXRlcldpZHRoPWU7cigidy0iK3QpO3AoaS5zY3JlZW5zLGZ1bmN0aW9uKG4pe3Q+bj8oaS5zY3JlZW5zQ3NzLmd0JiZyKCJndC0iK24pLGkuc2NyZWVuc0Nzcy5ndGUmJnIoImd0ZS0iK24pKTp0PG4/KGkuc2NyZWVuc0Nzcy5sdCYmcigibHQtIituKSxpLnNjcmVlbnNDc3MubHRlJiZyKCJsdGUtIituKSk6dD09PW4mJihpLnNjcmVlbnNDc3MubHRlJiZyKCJsdGUtIituKSxpLnNjcmVlbnNDc3MuZXEmJnIoImUtcSIrbiksaS5zY3JlZW5zQ3NzLmd0ZSYmcigiZ3RlLSIrbikpfSk7Zj1uLmlubmVySGVpZ2h0fHxjLmNsaWVudEhlaWdodDtvPW4ub3V0ZXJIZWlnaHR8fG4uc2NyZWVuLmhlaWdodDt1LnNjcmVlbi5pbm5lckhlaWdodD1mO3Uuc2NyZWVuLm91dGVySGVpZ2h0PW87dS5mZWF0dXJlKCJwb3J0cmFpdCIsZj50KTt1LmZlYXR1cmUoImxhbmRzY2FwZSIsZjx0KX1mdW5jdGlvbiBpdCgpe24uY2xlYXJUaW1lb3V0KGIpO2I9bi5zZXRUaW1lb3V0KHR0LDUwKX12YXIgeT1uLmRvY3VtZW50LHJ0PW4ubmF2aWdhdG9yLHV0PW4ubG9jYXRpb24sYz15LmRvY3VtZW50RWxlbWVudCxhPVtdLGk9e3NjcmVlbnM6WzI0MCwzMjAsNDgwLDY0MCw3NjgsODAwLDEwMjQsMTI4MCwxNDQwLDE2ODAsMTkyMF0sc2NyZWVuc0Nzczp7Z3Q6ITAsZ3RlOiExLGx0OiEwLGx0ZTohMSxlcTohMX0sYnJvd3NlcnM6W3tpZTp7bWluOjYsbWF4OjExfX1dLGJyb3dzZXJDc3M6e2d0OiEwLGd0ZTohMSxsdDohMCxsdGU6ITEsZXE6ITB9LGh0bWw1OiEwLHBhZ2U6Ii1wYWdlIixzZWN0aW9uOiItc2VjdGlvbiIsaGVhZDoiaGVhZCJ9LHYsdSxzLHcsbyxoLGwsZCxmLGcsbnQsZSxiO2lmKG4uaGVhZF9jb25mKWZvcih2IGluIG4uaGVhZF9jb25mKW4uaGVhZF9jb25mW3ZdIT09dCYmKGlbdl09bi5oZWFkX2NvbmZbdl0pO3U9bltpLmhlYWRdPWZ1bmN0aW9uKCl7dS5yZWFkeS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3UuZmVhdHVyZT1mdW5jdGlvbihuLHQsaSl7cmV0dXJuIG4/KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KT09PSJbb2JqZWN0IEZ1bmN0aW9uXSImJih0PXQuY2FsbCgpKSxyKCh0PyIiOiJuby0iKStuKSx1W25dPSEhdCxpfHwoaygibm8tIituKSxrKG4pLHUuZmVhdHVyZSgpKSx1KTooYy5jbGFzc05hbWUrPSIgIithLmpvaW4oIiAiKSxhPVtdLHUpfTt1LmZlYXR1cmUoImpzIiwhMCk7cz1ydC51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTt3PS9tb2JpbGV8YW5kcm9pZHxraW5kbGV8c2lsa3xtaWRwfHBob25lfCh3aW5kb3dzIC4rYXJtfHRvdWNoKS8udGVzdChzKTt1LmZlYXR1cmUoIm1vYmlsZSIsdywhMCk7dS5mZWF0dXJlKCJkZXNrdG9wIiwhdywhMCk7cz0vKGNocm9tZXxmaXJlZm94KVsgXC9dKFtcdy5dKykvLmV4ZWMocyl8fC8oaXBob25lfGlwYWR8aXBvZCkoPzouKnZlcnNpb24pP1sgXC9dKFtcdy5dKykvLmV4ZWMocyl8fC8oYW5kcm9pZCkoPzouKnZlcnNpb24pP1sgXC9dKFtcdy5dKykvLmV4ZWMocyl8fC8od2Via2l0fG9wZXJhKSg/Oi4qdmVyc2lvbik/WyBcL10oW1x3Ll0rKS8uZXhlYyhzKXx8Lyhtc2llKSAoW1x3Ll0rKS8uZXhlYyhzKXx8Lyh0cmlkZW50KS4rcnY6KFx3LikrLy5leGVjKHMpfHxbXTtvPXNbMV07aD1wYXJzZUZsb2F0KHNbMl0pO3N3aXRjaChvKXtjYXNlIm1zaWUiOmNhc2UidHJpZGVudCI6bz0iaWUiO2g9eS5kb2N1bWVudE1vZGV8fGg7YnJlYWs7Y2FzZSJmaXJlZm94IjpvPSJmZiI7YnJlYWs7Y2FzZSJpcG9kIjpjYXNlImlwYWQiOmNhc2UiaXBob25lIjpvPSJpb3MiO2JyZWFrO2Nhc2Uid2Via2l0IjpvPSJzYWZhcmkifWZvcih1LmJyb3dzZXI9e25hbWU6byx2ZXJzaW9uOmh9LHUuYnJvd3NlcltvXT0hMCxsPTAsZD1pLmJyb3dzZXJzLmxlbmd0aDtsPGQ7bCsrKWZvcihmIGluIGkuYnJvd3NlcnNbbF0paWYobz09PWYpZm9yKHIoZiksZz1pLmJyb3dzZXJzW2xdW2ZdLm1pbixudD1pLmJyb3dzZXJzW2xdW2ZdLm1heCxlPWc7ZTw9bnQ7ZSsrKWg+ZT8oaS5icm93c2VyQ3NzLmd0JiZyKCJndC0iK2YrZSksaS5icm93c2VyQ3NzLmd0ZSYmcigiZ3RlLSIrZitlKSk6aDxlPyhpLmJyb3dzZXJDc3MubHQmJnIoImx0LSIrZitlKSxpLmJyb3dzZXJDc3MubHRlJiZyKCJsdGUtIitmK2UpKTpoPT09ZSYmKGkuYnJvd3NlckNzcy5sdGUmJnIoImx0ZS0iK2YrZSksaS5icm93c2VyQ3NzLmVxJiZyKCJlcS0iK2YrZSksaS5icm93c2VyQ3NzLmd0ZSYmcigiZ3RlLSIrZitlKSk7ZWxzZSByKCJuby0iK2YpO3Iobyk7cihvK3BhcnNlSW50KGgsMTApKTtpLmh0bWw1JiZvPT09ImllIiYmaDw5JiZwKCJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98Y2FudmFzfGRldGFpbHN8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGhlYWRlcnxoZ3JvdXB8bWFpbnxtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRpbWV8dmlkZW8iLnNwbGl0KCJ8IiksZnVuY3Rpb24obil7eS5jcmVhdGVFbGVtZW50KG4pfSk7cCh1dC5wYXRobmFtZS5zcGxpdCgiLyIpLGZ1bmN0aW9uKG4sdSl7aWYodGhpcy5sZW5ndGg+MiYmdGhpc1t1KzFdIT09dCl1JiZyKHRoaXMuc2xpY2UodSx1KzEpLmpvaW4oIi0iKS50b0xvd2VyQ2FzZSgpK2kuc2VjdGlvbik7ZWxzZXt2YXIgZj1ufHwiaW5kZXgiLGU9Zi5pbmRleE9mKCIuIik7ZT4wJiYoZj1mLnN1YnN0cmluZygwLGUpKTtjLmlkPWYudG9Mb3dlckNhc2UoKStpLnBhZ2U7dXx8cigicm9vdCIraS5zZWN0aW9uKX19KTt1LnNjcmVlbj17aGVpZ2h0Om4uc2NyZWVuLmhlaWdodCx3aWR0aDpuLnNjcmVlbi53aWR0aH07dHQoKTtiPTA7bi5hZGRFdmVudExpc3RlbmVyP24uYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixpdCwhMSk6bi5hdHRhY2hFdmVudCgib25yZXNpemUiLGl0KX0pKHdpbmRvdyk7Ci8qISBoZWFkLmNzczMgLSB2MS4wLjAgKi8KKGZ1bmN0aW9uKG4sdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEobil7Zm9yKHZhciByIGluIG4paWYoaVtuW3JdXSE9PXQpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gcihuKXt2YXIgdD1uLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc3Vic3RyKDEpLGk9KG4rIiAiK2Muam9pbih0KyIgIikrdCkuc3BsaXQoIiAiKTtyZXR1cm4hIWEoaSl9dmFyIGg9bi5kb2N1bWVudCxvPWguY3JlYXRlRWxlbWVudCgiaSIpLGk9by5zdHlsZSxzPSIgLW8tIC1tb3otIC1tcy0gLXdlYmtpdC0gLWtodG1sLSAiLnNwbGl0KCIgIiksYz0iV2Via2l0IE1veiBPIG1zIEtodG1sIi5zcGxpdCgiICIpLGw9bi5oZWFkX2NvbmYmJm4uaGVhZF9jb25mLmhlYWR8fCJoZWFkIix1PW5bbF0sZj17Z3JhZGllbnQ6ZnVuY3Rpb24oKXt2YXIgbj0iYmFja2dyb3VuZC1pbWFnZToiO3JldHVybiBpLmNzc1RleHQ9KG4rcy5qb2luKCJncmFkaWVudChsaW5lYXIsbGVmdCB0b3AscmlnaHQgYm90dG9tLGZyb20oIzlmOSksdG8oI2ZmZikpOyIrbikrcy5qb2luKCJsaW5lYXItZ3JhZGllbnQobGVmdCB0b3AsI2VlZSwjZmZmKTsiK24pKS5zbGljZSgwLC1uLmxlbmd0aCksISFpLmJhY2tncm91bmRJbWFnZX0scmdiYTpmdW5jdGlvbigpe3JldHVybiBpLmNzc1RleHQ9ImJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwwLjUpIiwhIWkuYmFja2dyb3VuZENvbG9yfSxvcGFjaXR5OmZ1bmN0aW9uKCl7cmV0dXJuIG8uc3R5bGUub3BhY2l0eT09PSIifSx0ZXh0c2hhZG93OmZ1bmN0aW9uKCl7cmV0dXJuIGkudGV4dFNoYWRvdz09PSIifSxtdWx0aXBsZWJnczpmdW5jdGlvbigpe2kuY3NzVGV4dD0iYmFja2dyb3VuZDp1cmwoaHR0cHM6Ly8pLHVybChodHRwczovLykscmVkIHVybChodHRwczovLykiO3ZhciBuPShpLmJhY2tncm91bmR8fCIiKS5tYXRjaCgvdXJsL2cpO3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobik9PT0iW29iamVjdCBBcnJheV0iJiZuLmxlbmd0aD09PTN9LGJveHNoYWRvdzpmdW5jdGlvbigpe3JldHVybiByKCJib3hTaGFkb3ciKX0sYm9yZGVyaW1hZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gcigiYm9yZGVySW1hZ2UiKX0sYm9yZGVycmFkaXVzOmZ1bmN0aW9uKCl7cmV0dXJuIHIoImJvcmRlclJhZGl1cyIpfSxjc3NyZWZsZWN0aW9uczpmdW5jdGlvbigpe3JldHVybiByKCJib3hSZWZsZWN0Iil9LGNzc3RyYW5zZm9ybXM6ZnVuY3Rpb24oKXtyZXR1cm4gcigidHJhbnNmb3JtIil9LGNzc3RyYW5zaXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHIoInRyYW5zaXRpb24iKX0sdG91Y2g6ZnVuY3Rpb24oKXtyZXR1cm4ib250b3VjaHN0YXJ0ImluIG59LHJldGluYTpmdW5jdGlvbigpe3JldHVybiBuLmRldmljZVBpeGVsUmF0aW8+MX0sZm9udGZhY2U6ZnVuY3Rpb24oKXt2YXIgdD11LmJyb3dzZXIubmFtZSxuPXUuYnJvd3Nlci52ZXJzaW9uO3N3aXRjaCh0KXtjYXNlImllIjpyZXR1cm4gbj49OTtjYXNlImNocm9tZSI6cmV0dXJuIG4+PTEzO2Nhc2UiZmYiOnJldHVybiBuPj02O2Nhc2UiaW9zIjpyZXR1cm4gbj49NTtjYXNlImFuZHJvaWQiOnJldHVybiExO2Nhc2Uid2Via2l0IjpyZXR1cm4gbj49NS4xO2Nhc2Uib3BlcmEiOnJldHVybiBuPj0xMDtkZWZhdWx0OnJldHVybiExfX19O2Zvcih2YXIgZSBpbiBmKWZbZV0mJnUuZmVhdHVyZShlLGZbZV0uY2FsbCgpLCEwKTt1LmZlYXR1cmUoKX0pKHdpbmRvdyk7Ci8qISBoZWFkLmxvYWQgLSB2MS4wLjMgKi8KKGZ1bmN0aW9uKG4sdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHcoKXt9ZnVuY3Rpb24gdShuLHQpe2lmKG4pe3R5cGVvZiBuPT0ib2JqZWN0IiYmKG49W10uc2xpY2UuY2FsbChuKSk7Zm9yKHZhciBpPTAscj1uLmxlbmd0aDtpPHI7aSsrKXQuY2FsbChuLG5baV0saSl9fWZ1bmN0aW9uIGl0KG4saSl7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGkpLnNsaWNlKDgsLTEpO3JldHVybiBpIT09dCYmaSE9PW51bGwmJnI9PT1ufWZ1bmN0aW9uIHMobil7cmV0dXJuIGl0KCJGdW5jdGlvbiIsbil9ZnVuY3Rpb24gYShuKXtyZXR1cm4gaXQoIkFycmF5IixuKX1mdW5jdGlvbiBldChuKXt2YXIgaT1uLnNwbGl0KCIvIiksdD1pW2kubGVuZ3RoLTFdLHI9dC5pbmRleE9mKCI/Iik7cmV0dXJuIHIhPT0tMT90LnN1YnN0cmluZygwLHIpOnR9ZnVuY3Rpb24gZihuKXsobj1ufHx3LG4uX2RvbmUpfHwobigpLG4uX2RvbmU9MSl9ZnVuY3Rpb24gb3Qobix0LHIsdSl7dmFyIGY9dHlwZW9mIG49PSJvYmplY3QiP246e3Rlc3Q6bixzdWNjZXNzOiF0PyExOmEodCk/dDpbdF0sZmFpbHVyZTohcj8hMTphKHIpP3I6W3JdLGNhbGxiYWNrOnV8fHd9LGU9ISFmLnRlc3Q7cmV0dXJuIGUmJiEhZi5zdWNjZXNzPyhmLnN1Y2Nlc3MucHVzaChmLmNhbGxiYWNrKSxpLmxvYWQuYXBwbHkobnVsbCxmLnN1Y2Nlc3MpKTplfHwhZi5mYWlsdXJlP3UoKTooZi5mYWlsdXJlLnB1c2goZi5jYWxsYmFjayksaS5sb2FkLmFwcGx5KG51bGwsZi5mYWlsdXJlKSksaX1mdW5jdGlvbiB2KG4pe3ZhciB0PXt9LGkscjtpZih0eXBlb2Ygbj09Im9iamVjdCIpZm9yKGkgaW4gbikhbltpXXx8KHQ9e25hbWU6aSx1cmw6bltpXX0pO2Vsc2UgdD17bmFtZTpldChuKSx1cmw6bn07cmV0dXJuKHI9Y1t0Lm5hbWVdLHImJnIudXJsPT09dC51cmwpP3I6KGNbdC5uYW1lXT10LHQpfWZ1bmN0aW9uIHkobil7bj1ufHxjO2Zvcih2YXIgdCBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkodCkmJm5bdF0uc3RhdGUhPT1sKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHN0KG4pe24uc3RhdGU9ZnQ7dShuLm9ucHJlbG9hZCxmdW5jdGlvbihuKXtuLmNhbGwoKX0pfWZ1bmN0aW9uIGh0KG4pe24uc3RhdGU9PT10JiYobi5zdGF0ZT1udCxuLm9ucHJlbG9hZD1bXSxydCh7dXJsOm4udXJsLHR5cGU6ImNhY2hlIn0sZnVuY3Rpb24oKXtzdChuKX0pKX1mdW5jdGlvbiBjdCgpe3ZhciBuPWFyZ3VtZW50cyx0PW5bbi5sZW5ndGgtMV0scj1bXS5zbGljZS5jYWxsKG4sMSksZj1yWzBdO3JldHVybihzKHQpfHwodD1udWxsKSxhKG5bMF0pKT8oblswXS5wdXNoKHQpLGkubG9hZC5hcHBseShudWxsLG5bMF0pLGkpOihmPyh1KHIsZnVuY3Rpb24obil7cyhuKXx8IW58fGh0KHYobikpfSksYih2KG5bMF0pLHMoZik/ZjpmdW5jdGlvbigpe2kubG9hZC5hcHBseShudWxsLHIpfSkpOmIodihuWzBdKSksaSl9ZnVuY3Rpb24gbHQoKXt2YXIgbj1hcmd1bWVudHMsdD1uW24ubGVuZ3RoLTFdLHI9e307cmV0dXJuKHModCl8fCh0PW51bGwpLGEoblswXSkpPyhuWzBdLnB1c2godCksaS5sb2FkLmFwcGx5KG51bGwsblswXSksaSk6KHUobixmdW5jdGlvbihuKXtuIT09dCYmKG49dihuKSxyW24ubmFtZV09bil9KSx1KG4sZnVuY3Rpb24obil7biE9PXQmJihuPXYobiksYihuLGZ1bmN0aW9uKCl7eShyKSYmZih0KX0pKX0pLGkpfWZ1bmN0aW9uIGIobix0KXtpZih0PXR8fHcsbi5zdGF0ZT09PWwpe3QoKTtyZXR1cm59aWYobi5zdGF0ZT09PXR0KXtpLnJlYWR5KG4ubmFtZSx0KTtyZXR1cm59aWYobi5zdGF0ZT09PW50KXtuLm9ucHJlbG9hZC5wdXNoKGZ1bmN0aW9uKCl7YihuLHQpfSk7cmV0dXJufW4uc3RhdGU9dHQ7cnQobixmdW5jdGlvbigpe24uc3RhdGU9bDt0KCk7dShoW24ubmFtZV0sZnVuY3Rpb24obil7ZihuKX0pO28mJnkoKSYmdShoLkFMTCxmdW5jdGlvbihuKXtmKG4pfSl9KX1mdW5jdGlvbiBhdChuKXtuPW58fCIiO3ZhciB0PW4uc3BsaXQoIj8iKVswXS5zcGxpdCgiLiIpO3JldHVybiB0W3QubGVuZ3RoLTFdLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gcnQodCxpKXtmdW5jdGlvbiBlKHQpe3Q9dHx8bi5ldmVudDt1Lm9ubG9hZD11Lm9ucmVhZHlzdGF0ZWNoYW5nZT11Lm9uZXJyb3I9bnVsbDtpKCl9ZnVuY3Rpb24gbyhmKXtmPWZ8fG4uZXZlbnQ7KGYudHlwZT09PSJsb2FkInx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdCh1LnJlYWR5U3RhdGUpJiYoIXIuZG9jdW1lbnRNb2RlfHxyLmRvY3VtZW50TW9kZTw5KSkmJihuLmNsZWFyVGltZW91dCh0LmVycm9yVGltZW91dCksbi5jbGVhclRpbWVvdXQodC5jc3NUaW1lb3V0KSx1Lm9ubG9hZD11Lm9ucmVhZHlzdGF0ZWNoYW5nZT11Lm9uZXJyb3I9bnVsbCxpKCkpfWZ1bmN0aW9uIHMoKXtpZih0LnN0YXRlIT09bCYmdC5jc3NSZXRyaWVzPD0yMCl7Zm9yKHZhciBpPTAsZj1yLnN0eWxlU2hlZXRzLmxlbmd0aDtpPGY7aSsrKWlmKHIuc3R5bGVTaGVldHNbaV0uaHJlZj09PXUuaHJlZil7byh7dHlwZToibG9hZCJ9KTtyZXR1cm59dC5jc3NSZXRyaWVzKys7dC5jc3NUaW1lb3V0PW4uc2V0VGltZW91dChzLDI1MCl9fXZhciB1LGgsZjtpPWl8fHc7aD1hdCh0LnVybCk7aD09PSJjc3MiPyh1PXIuY3JlYXRlRWxlbWVudCgibGluayIpLHUudHlwZT0idGV4dC8iKyh0LnR5cGV8fCJjc3MiKSx1LnJlbD0ic3R5bGVzaGVldCIsdS5ocmVmPXQudXJsLHQuY3NzUmV0cmllcz0wLHQuY3NzVGltZW91dD1uLnNldFRpbWVvdXQocyw1MDApKToodT1yLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLHUudHlwZT0idGV4dC8iKyh0LnR5cGV8fCJqYXZhc2NyaXB0IiksdS5zcmM9dC51cmwpO3Uub25sb2FkPXUub25yZWFkeXN0YXRlY2hhbmdlPW87dS5vbmVycm9yPWU7dS5hc3luYz0hMTt1LmRlZmVyPSExO3QuZXJyb3JUaW1lb3V0PW4uc2V0VGltZW91dChmdW5jdGlvbigpe2Uoe3R5cGU6InRpbWVvdXQifSl9LDdlMyk7Zj1yLmhlYWR8fHIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXTtmLmluc2VydEJlZm9yZSh1LGYubGFzdENoaWxkKX1mdW5jdGlvbiB2dCgpe2Zvcih2YXIgdCx1PXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLG49MCxmPXUubGVuZ3RoO248ZjtuKyspaWYodD11W25dLmdldEF0dHJpYnV0ZSgiZGF0YS1oZWFkanMtbG9hZCIpLCEhdCl7aS5sb2FkKHQpO3JldHVybn19ZnVuY3Rpb24geXQobix0KXt2YXIgdixwLGU7cmV0dXJuIG49PT1yPyhvP2YodCk6ZC5wdXNoKHQpLGkpOihzKG4pJiYodD1uLG49IkFMTCIpLGEobikpPyh2PXt9LHUobixmdW5jdGlvbihuKXt2W25dPWNbbl07aS5yZWFkeShuLGZ1bmN0aW9uKCl7eSh2KSYmZih0KX0pfSksaSk6dHlwZW9mIG4hPSJzdHJpbmcifHwhcyh0KT9pOihwPWNbbl0scCYmcC5zdGF0ZT09PWx8fG49PT0iQUxMIiYmeSgpJiZvKT8oZih0KSxpKTooZT1oW25dLGU/ZS5wdXNoKHQpOmU9aFtuXT1bdF0saSl9ZnVuY3Rpb24gZSgpe2lmKCFyLmJvZHkpe24uY2xlYXJUaW1lb3V0KGkucmVhZHlUaW1lb3V0KTtpLnJlYWR5VGltZW91dD1uLnNldFRpbWVvdXQoZSw1MCk7cmV0dXJufW98fChvPSEwLHZ0KCksdShkLGZ1bmN0aW9uKG4pe2Yobil9KSl9ZnVuY3Rpb24gaygpe3IuYWRkRXZlbnRMaXN0ZW5lcj8oci5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixrLCExKSxlKCkpOnIucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSImJihyLmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLGspLGUoKSl9dmFyIHI9bi5kb2N1bWVudCxkPVtdLGg9e30sYz17fSx1dD0iYXN5bmMiaW4gci5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKXx8Ik1vekFwcGVhcmFuY2UiaW4gci5kb2N1bWVudEVsZW1lbnQuc3R5bGV8fG4ub3BlcmEsbyxnPW4uaGVhZF9jb25mJiZuLmhlYWRfY29uZi5oZWFkfHwiaGVhZCIsaT1uW2ddPW5bZ118fGZ1bmN0aW9uKCl7aS5yZWFkeS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG50PTEsZnQ9Mix0dD0zLGw9NCxwO2lmKHIucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSIpZSgpO2Vsc2UgaWYoci5hZGRFdmVudExpc3RlbmVyKXIuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsaywhMSksbi5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixlLCExKTtlbHNle3IuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsayk7bi5hdHRhY2hFdmVudCgib25sb2FkIixlKTtwPSExO3RyeXtwPSFuLmZyYW1lRWxlbWVudCYmci5kb2N1bWVudEVsZW1lbnR9Y2F0Y2god3Qpe31wJiZwLmRvU2Nyb2xsJiZmdW5jdGlvbiBwdCgpe2lmKCFvKXt0cnl7cC5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKHQpe24uY2xlYXJUaW1lb3V0KGkucmVhZHlUaW1lb3V0KTtpLnJlYWR5VGltZW91dD1uLnNldFRpbWVvdXQocHQsNTApO3JldHVybn1lKCl9fSgpfWkubG9hZD1pLmpzPXV0P2x0OmN0O2kudGVzdD1vdDtpLnJlYWR5PXl0O2kucmVhZHkocixmdW5jdGlvbigpe3koKSYmdShoLkFMTCxmdW5jdGlvbihuKXtmKG4pfSk7aS5mZWF0dXJlJiZpLmZlYXR1cmUoImRvbWxvYWRlZCIsITApfSl9KSh3aW5kb3cpOw=="></script>
  <script src="data:application/x-javascript;base64,LyohCiAqIHJldmVhbC5qcwogKiBodHRwOi8vcmV2ZWFsanMuY29tCiAqIE1JVCBsaWNlbnNlZAogKgogKiBDb3B5cmlnaHQgKEMpIDIwMTggSGFraW0gRWwgSGF0dGFiLCBodHRwOi8vaGFraW0uc2UKICovCihmdW5jdGlvbiggcm9vdCwgZmFjdG9yeSApIHsKCWlmKCB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7CgkJLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLgoJCWRlZmluZSggZnVuY3Rpb24oKSB7CgkJCXJvb3QuUmV2ZWFsID0gZmFjdG9yeSgpOwoJCQlyZXR1cm4gcm9vdC5SZXZlYWw7CgkJfSApOwoJfSBlbHNlIGlmKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSB7CgkJLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUy4KCQltb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTsKCX0gZWxzZSB7CgkJLy8gQnJvd3NlciBnbG9iYWxzLgoJCXJvb3QuUmV2ZWFsID0gZmFjdG9yeSgpOwoJfQp9KCB0aGlzLCBmdW5jdGlvbigpIHsKCgkndXNlIHN0cmljdCc7CgoJdmFyIFJldmVhbDsKCgkvLyBUaGUgcmV2ZWFsLmpzIHZlcnNpb24KCXZhciBWRVJTSU9OID0gJzMuNy4wJzsKCgl2YXIgU0xJREVTX1NFTEVDVE9SID0gJy5zbGlkZXMgc2VjdGlvbicsCgkJSE9SSVpPTlRBTF9TTElERVNfU0VMRUNUT1IgPSAnLnNsaWRlcz5zZWN0aW9uJywKCQlWRVJUSUNBTF9TTElERVNfU0VMRUNUT1IgPSAnLnNsaWRlcz5zZWN0aW9uLnByZXNlbnQ+c2VjdGlvbicsCgkJSE9NRV9TTElERV9TRUxFQ1RPUiA9ICcuc2xpZGVzPnNlY3Rpb246Zmlyc3Qtb2YtdHlwZScsCgkJVUEgPSBuYXZpZ2F0b3IudXNlckFnZW50LAoKCQkvLyBDb25maWd1cmF0aW9uIGRlZmF1bHRzLCBjYW4gYmUgb3ZlcnJpZGRlbiBhdCBpbml0aWFsaXphdGlvbiB0aW1lCgkJY29uZmlnID0gewoKCQkJLy8gVGhlICJub3JtYWwiIHNpemUgb2YgdGhlIHByZXNlbnRhdGlvbiwgYXNwZWN0IHJhdGlvIHdpbGwgYmUgcHJlc2VydmVkCgkJCS8vIHdoZW4gdGhlIHByZXNlbnRhdGlvbiBpcyBzY2FsZWQgdG8gZml0IGRpZmZlcmVudCByZXNvbHV0aW9ucwoJCQl3aWR0aDogOTYwLAoJCQloZWlnaHQ6IDcwMCwKCgkJCS8vIEZhY3RvciBvZiB0aGUgZGlzcGxheSBzaXplIHRoYXQgc2hvdWxkIHJlbWFpbiBlbXB0eSBhcm91bmQgdGhlIGNvbnRlbnQKCQkJbWFyZ2luOiAwLjA0LAoKCQkJLy8gQm91bmRzIGZvciBzbWFsbGVzdC9sYXJnZXN0IHBvc3NpYmxlIHNjYWxlIHRvIGFwcGx5IHRvIGNvbnRlbnQKCQkJbWluU2NhbGU6IDAuMiwKCQkJbWF4U2NhbGU6IDIuMCwKCgkJCS8vIERpc3BsYXkgcHJlc2VudGF0aW9uIGNvbnRyb2wgYXJyb3dzCgkJCWNvbnRyb2xzOiB0cnVlLAoKCQkJLy8gSGVscCB0aGUgdXNlciBsZWFybiB0aGUgY29udHJvbHMgYnkgcHJvdmlkaW5nIGhpbnRzLCBmb3IgZXhhbXBsZSBieQoJCQkvLyBib3VuY2luZyB0aGUgZG93biBhcnJvdyB3aGVuIHRoZXkgZmlyc3QgZW5jb3VudGVyIGEgdmVydGljYWwgc2xpZGUKCQkJY29udHJvbHNUdXRvcmlhbDogdHJ1ZSwKCgkJCS8vIERldGVybWluZXMgd2hlcmUgY29udHJvbHMgYXBwZWFyLCAiZWRnZXMiIG9yICJib3R0b20tcmlnaHQiCgkJCWNvbnRyb2xzTGF5b3V0OiAnYm90dG9tLXJpZ2h0JywKCgkJCS8vIFZpc2liaWxpdHkgcnVsZSBmb3IgYmFja3dhcmRzIG5hdmlnYXRpb24gYXJyb3dzOyAiZmFkZWQiLCAiaGlkZGVuIgoJCQkvLyBvciAidmlzaWJsZSIKCQkJY29udHJvbHNCYWNrQXJyb3dzOiAnZmFkZWQnLAoKCQkJLy8gRGlzcGxheSBhIHByZXNlbnRhdGlvbiBwcm9ncmVzcyBiYXIKCQkJcHJvZ3Jlc3M6IHRydWUsCgoJCQkvLyBEaXNwbGF5IHRoZSBwYWdlIG51bWJlciBvZiB0aGUgY3VycmVudCBzbGlkZQoJCQlzbGlkZU51bWJlcjogZmFsc2UsCgoJCQkvLyBVc2UgMSBiYXNlZCBpbmRleGluZyBmb3IgIyBsaW5rcyB0byBtYXRjaCBzbGlkZSBudW1iZXIgKGRlZmF1bHQgaXMgemVybwoJCQkvLyBiYXNlZCkKCQkJaGFzaE9uZUJhc2VkSW5kZXg6IGZhbHNlLAoKCQkJLy8gRGV0ZXJtaW5lIHdoaWNoIGRpc3BsYXlzIHRvIHNob3cgdGhlIHNsaWRlIG51bWJlciBvbgoJCQlzaG93U2xpZGVOdW1iZXI6ICdhbGwnLAoKCQkJLy8gUHVzaCBlYWNoIHNsaWRlIGNoYW5nZSB0byB0aGUgYnJvd3NlciBoaXN0b3J5CgkJCWhpc3Rvcnk6IGZhbHNlLAoKCQkJLy8gRW5hYmxlIGtleWJvYXJkIHNob3J0Y3V0cyBmb3IgbmF2aWdhdGlvbgoJCQlrZXlib2FyZDogdHJ1ZSwKCgkJCS8vIE9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgYmxvY2tzIGtleWJvYXJkIGV2ZW50cyB3aGVuIHJldHVuaW5nIGZhbHNlCgkJCWtleWJvYXJkQ29uZGl0aW9uOiBudWxsLAoKCQkJLy8gRW5hYmxlIHRoZSBzbGlkZSBvdmVydmlldyBtb2RlCgkJCW92ZXJ2aWV3OiB0cnVlLAoKCQkJLy8gRGlzYWJsZXMgdGhlIGRlZmF1bHQgcmV2ZWFsLmpzIHNsaWRlIGxheW91dCBzbyB0aGF0IHlvdSBjYW4gdXNlCgkJCS8vIGN1c3RvbSBDU1MgbGF5b3V0CgkJCWRpc2FibGVMYXlvdXQ6IGZhbHNlLAoKCQkJLy8gVmVydGljYWwgY2VudGVyaW5nIG9mIHNsaWRlcwoJCQljZW50ZXI6IHRydWUsCgoJCQkvLyBFbmFibGVzIHRvdWNoIG5hdmlnYXRpb24gb24gZGV2aWNlcyB3aXRoIHRvdWNoIGlucHV0CgkJCXRvdWNoOiB0cnVlLAoKCQkJLy8gTG9vcCB0aGUgcHJlc2VudGF0aW9uCgkJCWxvb3A6IGZhbHNlLAoKCQkJLy8gQ2hhbmdlIHRoZSBwcmVzZW50YXRpb24gZGlyZWN0aW9uIHRvIGJlIFJUTAoJCQlydGw6IGZhbHNlLAoKCQkJLy8gUmFuZG9taXplcyB0aGUgb3JkZXIgb2Ygc2xpZGVzIGVhY2ggdGltZSB0aGUgcHJlc2VudGF0aW9uIGxvYWRzCgkJCXNodWZmbGU6IGZhbHNlLAoKCQkJLy8gVHVybnMgZnJhZ21lbnRzIG9uIGFuZCBvZmYgZ2xvYmFsbHkKCQkJZnJhZ21lbnRzOiB0cnVlLAoKCQkJLy8gRmxhZ3Mgd2hldGhlciB0byBpbmNsdWRlIHRoZSBjdXJyZW50IGZyYWdtZW50IGluIHRoZSBVUkwsCgkJCS8vIHNvIHRoYXQgcmVsb2FkaW5nIGJyaW5ncyB5b3UgdG8gdGhlIHNhbWUgZnJhZ21lbnQgcG9zaXRpb24KCQkJZnJhZ21lbnRJblVSTDogZmFsc2UsCgoJCQkvLyBGbGFncyBpZiB0aGUgcHJlc2VudGF0aW9uIGlzIHJ1bm5pbmcgaW4gYW4gZW1iZWRkZWQgbW9kZSwKCQkJLy8gaS5lLiBjb250YWluZWQgd2l0aGluIGEgbGltaXRlZCBwb3J0aW9uIG9mIHRoZSBzY3JlZW4KCQkJZW1iZWRkZWQ6IGZhbHNlLAoKCQkJLy8gRmxhZ3MgaWYgd2Ugc2hvdWxkIHNob3cgYSBoZWxwIG92ZXJsYXkgd2hlbiB0aGUgcXVlc3Rpb24tbWFyawoJCQkvLyBrZXkgaXMgcHJlc3NlZAoJCQloZWxwOiB0cnVlLAoKCQkJLy8gRmxhZ3MgaWYgaXQgc2hvdWxkIGJlIHBvc3NpYmxlIHRvIHBhdXNlIHRoZSBwcmVzZW50YXRpb24gKGJsYWNrb3V0KQoJCQlwYXVzZTogdHJ1ZSwKCgkJCS8vIEZsYWdzIGlmIHNwZWFrZXIgbm90ZXMgc2hvdWxkIGJlIHZpc2libGUgdG8gYWxsIHZpZXdlcnMKCQkJc2hvd05vdGVzOiBmYWxzZSwKCgkJCS8vIEdsb2JhbCBvdmVycmlkZSBmb3IgYXV0b2xheWluZyBlbWJlZGRlZCBtZWRpYSAodmlkZW8vYXVkaW8vaWZyYW1lKQoJCQkvLyAtIG51bGw6ICAgTWVkaWEgd2lsbCBvbmx5IGF1dG9wbGF5IGlmIGRhdGEtYXV0b3BsYXkgaXMgcHJlc2VudAoJCQkvLyAtIHRydWU6ICAgQWxsIG1lZGlhIHdpbGwgYXV0b3BsYXksIHJlZ2FyZGxlc3Mgb2YgaW5kaXZpZHVhbCBzZXR0aW5nCgkJCS8vIC0gZmFsc2U6ICBObyBtZWRpYSB3aWxsIGF1dG9wbGF5LCByZWdhcmRsZXNzIG9mIGluZGl2aWR1YWwgc2V0dGluZwoJCQlhdXRvUGxheU1lZGlhOiBudWxsLAoKCQkJLy8gQ29udHJvbHMgYXV0b21hdGljIHByb2dyZXNzaW9uIHRvIHRoZSBuZXh0IHNsaWRlCgkJCS8vIC0gMDogICAgICBBdXRvLXNsaWRpbmcgb25seSBoYXBwZW5zIGlmIHRoZSBkYXRhLWF1dG9zbGlkZSBIVE1MIGF0dHJpYnV0ZQoJCQkvLyAgICAgICAgICAgaXMgcHJlc2VudCBvbiB0aGUgY3VycmVudCBzbGlkZSBvciBmcmFnbWVudAoJCQkvLyAtIDErOiAgICAgQWxsIHNsaWRlcyB3aWxsIHByb2dyZXNzIGF1dG9tYXRpY2FsbHkgYXQgdGhlIGdpdmVuIGludGVydmFsCgkJCS8vIC0gZmFsc2U6ICBObyBhdXRvLXNsaWRpbmcsIGV2ZW4gaWYgZGF0YS1hdXRvc2xpZGUgaXMgcHJlc2VudAoJCQlhdXRvU2xpZGU6IDAsCgoJCQkvLyBTdG9wIGF1dG8tc2xpZGluZyBhZnRlciB1c2VyIGlucHV0CgkJCWF1dG9TbGlkZVN0b3BwYWJsZTogdHJ1ZSwKCgkJCS8vIFVzZSB0aGlzIG1ldGhvZCBmb3IgbmF2aWdhdGlvbiB3aGVuIGF1dG8tc2xpZGluZyAoZGVmYXVsdHMgdG8gbmF2aWdhdGVOZXh0KQoJCQlhdXRvU2xpZGVNZXRob2Q6IG51bGwsCgoJCQkvLyBTcGVjaWZ5IHRoZSBhdmVyYWdlIHRpbWUgaW4gc2Vjb25kcyB0aGF0IHlvdSB0aGluayB5b3Ugd2lsbCBzcGVuZAoJCQkvLyBwcmVzZW50aW5nIGVhY2ggc2xpZGUuIFRoaXMgaXMgdXNlZCB0byBzaG93IGEgcGFjaW5nIHRpbWVyIGluIHRoZQoJCQkvLyBzcGVha2VyIHZpZXcKCQkJZGVmYXVsdFRpbWluZzogbnVsbCwKCgkJCS8vIEVuYWJsZSBzbGlkZSBuYXZpZ2F0aW9uIHZpYSBtb3VzZSB3aGVlbAoJCQltb3VzZVdoZWVsOiBmYWxzZSwKCgkJCS8vIEFwcGx5IGEgM0Qgcm9sbCB0byBsaW5rcyBvbiBob3ZlcgoJCQlyb2xsaW5nTGlua3M6IGZhbHNlLAoKCQkJLy8gSGlkZXMgdGhlIGFkZHJlc3MgYmFyIG9uIG1vYmlsZSBkZXZpY2VzCgkJCWhpZGVBZGRyZXNzQmFyOiB0cnVlLAoKCQkJLy8gT3BlbnMgbGlua3MgaW4gYW4gaWZyYW1lIHByZXZpZXcgb3ZlcmxheQoJCQkvLyBBZGQgYGRhdGEtcHJldmlldy1saW5rYCBhbmQgYGRhdGEtcHJldmlldy1saW5rPSJmYWxzZSJgIHRvIGN1c3RvbWlzZSBlYWNoIGxpbmsKCQkJLy8gaW5kaXZpZHVhbGx5CgkJCXByZXZpZXdMaW5rczogZmFsc2UsCgoJCQkvLyBFeHBvc2VzIHRoZSByZXZlYWwuanMgQVBJIHRocm91Z2ggd2luZG93LnBvc3RNZXNzYWdlCgkJCXBvc3RNZXNzYWdlOiB0cnVlLAoKCQkJLy8gRGlzcGF0Y2hlcyBhbGwgcmV2ZWFsLmpzIGV2ZW50cyB0byB0aGUgcGFyZW50IHdpbmRvdyB0aHJvdWdoIHBvc3RNZXNzYWdlCgkJCXBvc3RNZXNzYWdlRXZlbnRzOiBmYWxzZSwKCgkJCS8vIEZvY3VzZXMgYm9keSB3aGVuIHBhZ2UgY2hhbmdlcyB2aXNpYmlsaXR5IHRvIGVuc3VyZSBrZXlib2FyZCBzaG9ydGN1dHMgd29yawoJCQlmb2N1c0JvZHlPblBhZ2VWaXNpYmlsaXR5Q2hhbmdlOiB0cnVlLAoKCQkJLy8gVHJhbnNpdGlvbiBzdHlsZQoJCQl0cmFuc2l0aW9uOiAnc2xpZGUnLCAvLyBub25lL2ZhZGUvc2xpZGUvY29udmV4L2NvbmNhdmUvem9vbQoKCQkJLy8gVHJhbnNpdGlvbiBzcGVlZAoJCQl0cmFuc2l0aW9uU3BlZWQ6ICdkZWZhdWx0JywgLy8gZGVmYXVsdC9mYXN0L3Nsb3cKCgkJCS8vIFRyYW5zaXRpb24gc3R5bGUgZm9yIGZ1bGwgcGFnZSBzbGlkZSBiYWNrZ3JvdW5kcwoJCQliYWNrZ3JvdW5kVHJhbnNpdGlvbjogJ2ZhZGUnLCAvLyBub25lL2ZhZGUvc2xpZGUvY29udmV4L2NvbmNhdmUvem9vbQoKCQkJLy8gUGFyYWxsYXggYmFja2dyb3VuZCBpbWFnZQoJCQlwYXJhbGxheEJhY2tncm91bmRJbWFnZTogJycsIC8vIENTUyBzeW50YXgsIGUuZy4gImEuanBnIgoKCQkJLy8gUGFyYWxsYXggYmFja2dyb3VuZCBzaXplCgkJCXBhcmFsbGF4QmFja2dyb3VuZFNpemU6ICcnLCAvLyBDU1Mgc3ludGF4LCBlLmcuICIzMDAwcHggMjAwMHB4IgoKCQkJLy8gUGFyYWxsYXggYmFja2dyb3VuZCByZXBlYXQKCQkJcGFyYWxsYXhCYWNrZ3JvdW5kUmVwZWF0OiAnJywgLy8gcmVwZWF0L3JlcGVhdC14L3JlcGVhdC15L25vLXJlcGVhdC9pbml0aWFsL2luaGVyaXQKCgkJCS8vIFBhcmFsbGF4IGJhY2tncm91bmQgcG9zaXRpb24KCQkJcGFyYWxsYXhCYWNrZ3JvdW5kUG9zaXRpb246ICcnLCAvLyBDU1Mgc3ludGF4LCBlLmcuICJ0b3AgbGVmdCIKCgkJCS8vIEFtb3VudCBvZiBwaXhlbHMgdG8gbW92ZSB0aGUgcGFyYWxsYXggYmFja2dyb3VuZCBwZXIgc2xpZGUgc3RlcAoJCQlwYXJhbGxheEJhY2tncm91bmRIb3Jpem9udGFsOiBudWxsLAoJCQlwYXJhbGxheEJhY2tncm91bmRWZXJ0aWNhbDogbnVsbCwKCgkJCS8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwYWdlcyBhIHNpbmdsZSBzbGlkZSBjYW4gZXhwYW5kIG9udG8gd2hlbiBwcmludGluZwoJCQkvLyB0byBQREYsIHVubGltaXRlZCBieSBkZWZhdWx0CgkJCXBkZk1heFBhZ2VzUGVyU2xpZGU6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwKCgkJCS8vIFByaW50cyBlYWNoIGZyYWdtZW50IG9uIGEgc2VwYXJhdGUgc2xpZGUKCQkJcGRmU2VwYXJhdGVGcmFnbWVudHM6IHRydWUsCgoJCQkvLyBPZmZzZXQgdXNlZCB0byByZWR1Y2UgdGhlIGhlaWdodCBvZiBjb250ZW50IHdpdGhpbiBleHBvcnRlZCBQREYgcGFnZXMuCgkJCS8vIFRoaXMgZXhpc3RzIHRvIGFjY291bnQgZm9yIGVudmlyb25tZW50IGRpZmZlcmVuY2VzIGJhc2VkIG9uIGhvdyB5b3UKCQkJLy8gcHJpbnQgdG8gUERGLiBDTEkgcHJpbnRpbmcgb3B0aW9ucywgbGlrZSBwaGFudG9tanMgYW5kIHdrcGRmLCBjYW4gZW5kCgkJCS8vIG9uIHByZWNpc2VseSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBkb2N1bWVudCB3aGVyZWFzIGluLWJyb3dzZXIKCQkJLy8gcHJpbnRpbmcgaGFzIHRvIGVuZCBvbmUgcGl4ZWwgYmVmb3JlLgoJCQlwZGZQYWdlSGVpZ2h0T2Zmc2V0OiAtMSwKCgkJCS8vIE51bWJlciBvZiBzbGlkZXMgYXdheSBmcm9tIHRoZSBjdXJyZW50IHRoYXQgYXJlIHZpc2libGUKCQkJdmlld0Rpc3RhbmNlOiAzLAoKCQkJLy8gVGhlIGRpc3BsYXkgbW9kZSB0aGF0IHdpbGwgYmUgdXNlZCB0byBzaG93IHNsaWRlcwoJCQlkaXNwbGF5OiAnYmxvY2snLAoKCQkJLy8gU2NyaXB0IGRlcGVuZGVuY2llcyB0byBsb2FkCgkJCWRlcGVuZGVuY2llczogW10KCgkJfSwKCgkJLy8gRmxhZ3MgaWYgUmV2ZWFsLmluaXRpYWxpemUoKSBoYXMgYmVlbiBjYWxsZWQKCQlpbml0aWFsaXplZCA9IGZhbHNlLAoKCQkvLyBGbGFncyBpZiByZXZlYWwuanMgaXMgbG9hZGVkIChoYXMgZGlzcGF0Y2hlZCB0aGUgJ3JlYWR5JyBldmVudCkKCQlsb2FkZWQgPSBmYWxzZSwKCgkJLy8gRmxhZ3MgaWYgdGhlIG92ZXJ2aWV3IG1vZGUgaXMgY3VycmVudGx5IGFjdGl2ZQoJCW92ZXJ2aWV3ID0gZmFsc2UsCgoJCS8vIEhvbGRzIHRoZSBkaW1lbnNpb25zIG9mIG91ciBvdmVydmlldyBzbGlkZXMsIGluY2x1ZGluZyBtYXJnaW5zCgkJb3ZlcnZpZXdTbGlkZVdpZHRoID0gbnVsbCwKCQlvdmVydmlld1NsaWRlSGVpZ2h0ID0gbnVsbCwKCgkJLy8gVGhlIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGluZGV4IG9mIHRoZSBjdXJyZW50bHkgYWN0aXZlIHNsaWRlCgkJaW5kZXhoLAoJCWluZGV4diwKCgkJLy8gVGhlIHByZXZpb3VzIGFuZCBjdXJyZW50IHNsaWRlIEhUTUwgZWxlbWVudHMKCQlwcmV2aW91c1NsaWRlLAoJCWN1cnJlbnRTbGlkZSwKCgkJcHJldmlvdXNCYWNrZ3JvdW5kLAoKCQkvLyBSZW1lbWJlciB3aGljaCBkaXJlY3Rpb25zIHRoYXQgdGhlIHVzZXIgaGFzIG5hdmlnYXRlZCB0b3dhcmRzCgkJaGFzTmF2aWdhdGVkUmlnaHQgPSBmYWxzZSwKCQloYXNOYXZpZ2F0ZWREb3duID0gZmFsc2UsCgoJCS8vIFNsaWRlcyBtYXkgaG9sZCBhIGRhdGEtc3RhdGUgYXR0cmlidXRlIHdoaWNoIHdlIHBpY2sgdXAgYW5kIGFwcGx5CgkJLy8gYXMgYSBjbGFzcyB0byB0aGUgYm9keS4gVGhpcyBsaXN0IGNvbnRhaW5zIHRoZSBjb21iaW5lZCBzdGF0ZSBvZgoJCS8vIGFsbCBjdXJyZW50IHNsaWRlcy4KCQlzdGF0ZSA9IFtdLAoKCQkvLyBUaGUgY3VycmVudCBzY2FsZSBvZiB0aGUgcHJlc2VudGF0aW9uIChzZWUgd2lkdGgvaGVpZ2h0IGNvbmZpZykKCQlzY2FsZSA9IDEsCgoJCS8vIENTUyB0cmFuc2Zvcm0gdGhhdCBpcyBjdXJyZW50bHkgYXBwbGllZCB0byB0aGUgc2xpZGVzIGNvbnRhaW5lciwKCQkvLyBzcGxpdCBpbnRvIHR3byBncm91cHMKCQlzbGlkZXNUcmFuc2Zvcm0gPSB7IGxheW91dDogJycsIG92ZXJ2aWV3OiAnJyB9LAoKCQkvLyBDYWNoZWQgcmVmZXJlbmNlcyB0byBET00gZWxlbWVudHMKCQlkb20gPSB7fSwKCgkJLy8gRmVhdHVyZXMgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyLCBzZWUgI2NoZWNrQ2FwYWJpbGl0aWVzKCkKCQlmZWF0dXJlcyA9IHt9LAoKCQkvLyBDbGllbnQgaXMgYSBtb2JpbGUgZGV2aWNlLCBzZWUgI2NoZWNrQ2FwYWJpbGl0aWVzKCkKCQlpc01vYmlsZURldmljZSwKCgkJLy8gQ2xpZW50IGlzIGEgZGVza3RvcCBDaHJvbWUsIHNlZSAjY2hlY2tDYXBhYmlsaXRpZXMoKQoJCWlzQ2hyb21lLAoKCQkvLyBUaHJvdHRsZXMgbW91c2Ugd2hlZWwgbmF2aWdhdGlvbgoJCWxhc3RNb3VzZVdoZWVsU3RlcCA9IDAsCgoJCS8vIERlbGF5cyB1cGRhdGVzIHRvIHRoZSBVUkwgZHVlIHRvIGEgQ2hyb21lIHRodW1ibmFpbGVyIGJ1ZwoJCXdyaXRlVVJMVGltZW91dCA9IDAsCgoJCS8vIEZsYWdzIGlmIHRoZSBpbnRlcmFjdGlvbiBldmVudCBsaXN0ZW5lcnMgYXJlIGJvdW5kCgkJZXZlbnRzQXJlQm91bmQgPSBmYWxzZSwKCgkJLy8gVGhlIGN1cnJlbnQgYXV0by1zbGlkZSBkdXJhdGlvbgoJCWF1dG9TbGlkZSA9IDAsCgoJCS8vIEF1dG8gc2xpZGUgcHJvcGVydGllcwoJCWF1dG9TbGlkZVBsYXllciwKCQlhdXRvU2xpZGVUaW1lb3V0ID0gMCwKCQlhdXRvU2xpZGVTdGFydFRpbWUgPSAtMSwKCQlhdXRvU2xpZGVQYXVzZWQgPSBmYWxzZSwKCgkJLy8gSG9sZHMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnRseSBvbmdvaW5nIHRvdWNoIGlucHV0CgkJdG91Y2ggPSB7CgkJCXN0YXJ0WDogMCwKCQkJc3RhcnRZOiAwLAoJCQlzdGFydFNwYW46IDAsCgkJCXN0YXJ0Q291bnQ6IDAsCgkJCWNhcHR1cmVkOiBmYWxzZSwKCQkJdGhyZXNob2xkOiA0MAoJCX0sCgoJCS8vIEhvbGRzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBrZXlib2FyZCBzaG9ydGN1dHMKCQlrZXlib2FyZFNob3J0Y3V0cyA9IHsKCQkJJ04gICwgIFNQQUNFJzoJCQknTmV4dCBzbGlkZScsCgkJCSdQJzoJCQkJCSdQcmV2aW91cyBzbGlkZScsCgkJCScmIzg1OTI7ICAsICBIJzoJCSdOYXZpZ2F0ZSBsZWZ0JywKCQkJJyYjODU5NDsgICwgIEwnOgkJJ05hdmlnYXRlIHJpZ2h0JywKCQkJJyYjODU5MzsgICwgIEsnOgkJJ05hdmlnYXRlIHVwJywKCQkJJyYjODU5NTsgICwgIEonOgkJJ05hdmlnYXRlIGRvd24nLAoJCQknSG9tZSc6CQkJCQknRmlyc3Qgc2xpZGUnLAoJCQknRW5kJzoJCQkJCSdMYXN0IHNsaWRlJywKCQkJJ0IgICwgIC4nOgkJCQknUGF1c2UnLAoJCQknRic6CQkJCQknRnVsbHNjcmVlbicsCgkJCSdFU0MsIE8nOgkJCQknU2xpZGUgb3ZlcnZpZXcnCgkJfSwKCgkJLy8gSG9sZHMgY3VzdG9tIGtleSBjb2RlIG1hcHBpbmdzCgkJcmVnaXN0ZXJlZEtleUJpbmRpbmdzID0ge307CgoJLyoqCgkgKiBTdGFydHMgdXAgdGhlIHByZXNlbnRhdGlvbiBpZiB0aGUgY2xpZW50IGlzIGNhcGFibGUuCgkgKi8KCWZ1bmN0aW9uIGluaXRpYWxpemUoIG9wdGlvbnMgKSB7CgoJCS8vIE1ha2Ugc3VyZSB3ZSBvbmx5IGluaXRpYWxpemUgb25jZQoJCWlmKCBpbml0aWFsaXplZCA9PT0gdHJ1ZSApIHJldHVybjsKCgkJaW5pdGlhbGl6ZWQgPSB0cnVlOwoKCQljaGVja0NhcGFiaWxpdGllcygpOwoKCQlpZiggIWZlYXR1cmVzLnRyYW5zZm9ybXMyZCAmJiAhZmVhdHVyZXMudHJhbnNmb3JtczNkICkgewoJCQlkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSggJ2NsYXNzJywgJ25vLXRyYW5zZm9ybXMnICk7CgoJCQkvLyBTaW5jZSBKUyB3b24ndCBiZSBydW5uaW5nIGFueSBmdXJ0aGVyLCB3ZSBsb2FkIGFsbCBsYXp5CgkJCS8vIGxvYWRpbmcgZWxlbWVudHMgdXBmcm9udAoJCQl2YXIgaW1hZ2VzID0gdG9BcnJheSggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoICdpbWcnICkgKSwKCQkJCWlmcmFtZXMgPSB0b0FycmF5KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggJ2lmcmFtZScgKSApOwoKCQkJdmFyIGxhenlMb2FkYWJsZSA9IGltYWdlcy5jb25jYXQoIGlmcmFtZXMgKTsKCgkJCWZvciggdmFyIGkgPSAwLCBsZW4gPSBsYXp5TG9hZGFibGUubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7CgkJCQl2YXIgZWxlbWVudCA9IGxhenlMb2FkYWJsZVtpXTsKCQkJCWlmKCBlbGVtZW50LmdldEF0dHJpYnV0ZSggJ2RhdGEtc3JjJyApICkgewoJCQkJCWVsZW1lbnQuc2V0QXR0cmlidXRlKCAnc3JjJywgZWxlbWVudC5nZXRBdHRyaWJ1dGUoICdkYXRhLXNyYycgKSApOwoJCQkJCWVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCAnZGF0YS1zcmMnICk7CgkJCQl9CgkJCX0KCgkJCS8vIElmIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBjb3JlIGZlYXR1cmVzIHdlIHdvbid0IGJlCgkJCS8vIHVzaW5nIEphdmFTY3JpcHQgdG8gY29udHJvbCB0aGUgcHJlc2VudGF0aW9uCgkJCXJldHVybjsKCQl9CgoJCS8vIENhY2hlIHJlZmVyZW5jZXMgdG8ga2V5IERPTSBlbGVtZW50cwoJCWRvbS53cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJy5yZXZlYWwnICk7CgkJZG9tLnNsaWRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcucmV2ZWFsIC5zbGlkZXMnICk7CgoJCS8vIEZvcmNlIGEgbGF5b3V0IHdoZW4gdGhlIHdob2xlIHBhZ2UsIGluY2wgZm9udHMsIGhhcyBsb2FkZWQKCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCBsYXlvdXQsIGZhbHNlICk7CgoJCXZhciBxdWVyeSA9IFJldmVhbC5nZXRRdWVyeUhhc2goKTsKCgkJLy8gRG8gbm90IGFjY2VwdCBuZXcgZGVwZW5kZW5jaWVzIHZpYSBxdWVyeSBjb25maWcgdG8gYXZvaWQKCQkvLyB0aGUgcG90ZW50aWFsIG9mIG1hbGljaW91cyBzY3JpcHQgaW5qZWN0aW9uCgkJaWYoIHR5cGVvZiBxdWVyeVsnZGVwZW5kZW5jaWVzJ10gIT09ICd1bmRlZmluZWQnICkgZGVsZXRlIHF1ZXJ5WydkZXBlbmRlbmNpZXMnXTsKCgkJLy8gQ29weSBvcHRpb25zIG92ZXIgdG8gb3VyIGNvbmZpZyBvYmplY3QKCQlleHRlbmQoIGNvbmZpZywgb3B0aW9ucyApOwoJCWV4dGVuZCggY29uZmlnLCBxdWVyeSApOwoKCQkvLyBIaWRlIHRoZSBhZGRyZXNzIGJhciBpbiBtb2JpbGUgYnJvd3NlcnMKCQloaWRlQWRkcmVzc0JhcigpOwoKCQkvLyBMb2FkcyB0aGUgZGVwZW5kZW5jaWVzIGFuZCBjb250aW51ZXMgdG8gI3N0YXJ0KCkgb25jZSBkb25lCgkJbG9hZCgpOwoKCX0KCgkvKioKCSAqIEluc3BlY3QgdGhlIGNsaWVudCB0byBzZWUgd2hhdCBpdCdzIGNhcGFibGUgb2YsIHRoaXMKCSAqIHNob3VsZCBvbmx5IGhhcHBlbnMgb25jZSBwZXIgcnVudGltZS4KCSAqLwoJZnVuY3Rpb24gY2hlY2tDYXBhYmlsaXRpZXMoKSB7CgoJCWlzTW9iaWxlRGV2aWNlID0gLyhpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWQpL2dpLnRlc3QoIFVBICk7CgkJaXNDaHJvbWUgPSAvY2hyb21lL2kudGVzdCggVUEgKSAmJiAhL2VkZ2UvaS50ZXN0KCBVQSApOwoKCQl2YXIgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApOwoKCQlmZWF0dXJlcy50cmFuc2Zvcm1zM2QgPSAnV2Via2l0UGVyc3BlY3RpdmUnIGluIHRlc3RFbGVtZW50LnN0eWxlIHx8CgkJCQkJCQkJJ01velBlcnNwZWN0aXZlJyBpbiB0ZXN0RWxlbWVudC5zdHlsZSB8fAoJCQkJCQkJCSdtc1BlcnNwZWN0aXZlJyBpbiB0ZXN0RWxlbWVudC5zdHlsZSB8fAoJCQkJCQkJCSdPUGVyc3BlY3RpdmUnIGluIHRlc3RFbGVtZW50LnN0eWxlIHx8CgkJCQkJCQkJJ3BlcnNwZWN0aXZlJyBpbiB0ZXN0RWxlbWVudC5zdHlsZTsKCgkJZmVhdHVyZXMudHJhbnNmb3JtczJkID0gJ1dlYmtpdFRyYW5zZm9ybScgaW4gdGVzdEVsZW1lbnQuc3R5bGUgfHwKCQkJCQkJCQknTW96VHJhbnNmb3JtJyBpbiB0ZXN0RWxlbWVudC5zdHlsZSB8fAoJCQkJCQkJCSdtc1RyYW5zZm9ybScgaW4gdGVzdEVsZW1lbnQuc3R5bGUgfHwKCQkJCQkJCQknT1RyYW5zZm9ybScgaW4gdGVzdEVsZW1lbnQuc3R5bGUgfHwKCQkJCQkJCQkndHJhbnNmb3JtJyBpbiB0ZXN0RWxlbWVudC5zdHlsZTsKCgkJZmVhdHVyZXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lTWV0aG9kID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7CgkJZmVhdHVyZXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gdHlwZW9mIGZlYXR1cmVzLnJlcXVlc3RBbmltYXRpb25GcmFtZU1ldGhvZCA9PT0gJ2Z1bmN0aW9uJzsKCgkJZmVhdHVyZXMuY2FudmFzID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnY2FudmFzJyApLmdldENvbnRleHQ7CgoJCS8vIFRyYW5zaXRpb25zIGluIHRoZSBvdmVydmlldyBhcmUgZGlzYWJsZWQgaW4gZGVza3RvcCBhbmQKCQkvLyBTYWZhcmkgZHVlIHRvIGxhZwoJCWZlYXR1cmVzLm92ZXJ2aWV3VHJhbnNpdGlvbnMgPSAhL1ZlcnNpb25cL1tcZFwuXSsuKlNhZmFyaS8udGVzdCggVUEgKTsKCgkJLy8gRmxhZ3MgaWYgd2Ugc2hvdWxkIHVzZSB6b29tIGluc3RlYWQgb2YgdHJhbnNmb3JtIHRvIHNjYWxlCgkJLy8gdXAgc2xpZGVzLiBab29tIHByb2R1Y2VzIGNyaXNwZXIgcmVzdWx0cyBidXQgaGFzIGEgbG90IG9mCgkJLy8geGJyb3dzZXIgcXVpcmtzIHNvIHdlIG9ubHkgdXNlIGl0IGluIHdoaXRlbHNpdGVkIGJyb3dzZXJzLgoJCWZlYXR1cmVzLnpvb20gPSAnem9vbScgaW4gdGVzdEVsZW1lbnQuc3R5bGUgJiYgIWlzTW9iaWxlRGV2aWNlICYmCgkJCQkJCSggaXNDaHJvbWUgfHwgL1ZlcnNpb25cL1tcZFwuXSsuKlNhZmFyaS8udGVzdCggVUEgKSApOwoKCX0KCgkvKioKCSAqIExvYWRzIHRoZSBkZXBlbmRlbmNpZXMgb2YgcmV2ZWFsLmpzLiBEZXBlbmRlbmNpZXMgYXJlCgkgKiBkZWZpbmVkIHZpYSB0aGUgY29uZmlndXJhdGlvbiBvcHRpb24gJ2RlcGVuZGVuY2llcycKCSAqIGFuZCB3aWxsIGJlIGxvYWRlZCBwcmlvciB0byBzdGFydGluZy9iaW5kaW5nIHJldmVhbC5qcy4KCSAqIFNvbWUgZGVwZW5kZW5jaWVzIG1heSBoYXZlIGFuICdhc3luYycgZmxhZywgaWYgc28gdGhleQoJICogd2lsbCBsb2FkIGFmdGVyIHJldmVhbC5qcyBoYXMgYmVlbiBzdGFydGVkIHVwLgoJICovCglmdW5jdGlvbiBsb2FkKCkgewoKCQl2YXIgc2NyaXB0cyA9IFtdLAoJCQlzY3JpcHRzQXN5bmMgPSBbXSwKCQkJc2NyaXB0c1RvUHJlbG9hZCA9IDA7CgoJCS8vIENhbGxlZCBvbmNlIHN5bmNocm9ub3VzIHNjcmlwdHMgZmluaXNoIGxvYWRpbmcKCQlmdW5jdGlvbiBwcm9jZWVkKCkgewoJCQlpZiggc2NyaXB0c0FzeW5jLmxlbmd0aCApIHsKCQkJCS8vIExvYWQgYXN5bmNocm9ub3VzIHNjcmlwdHMKCQkJCWhlYWQuanMuYXBwbHkoIG51bGwsIHNjcmlwdHNBc3luYyApOwoJCQl9CgoJCQlzdGFydCgpOwoJCX0KCgkJZnVuY3Rpb24gbG9hZFNjcmlwdCggcyApIHsKCQkJaGVhZC5yZWFkeSggcy5zcmMubWF0Y2goIC8oW1x3XGRfXC1dKilcLj9qcyhcP1tcd1xkLj0mXSopPyR8W15cXFwvXSokL2kgKVswXSwgZnVuY3Rpb24oKSB7CgkJCQkvLyBFeHRlbnNpb24gbWF5IGNvbnRhaW4gY2FsbGJhY2sgZnVuY3Rpb25zCgkJCQlpZiggdHlwZW9mIHMuY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgKSB7CgkJCQkJcy5jYWxsYmFjay5hcHBseSggdGhpcyApOwoJCQkJfQoKCQkJCWlmKCAtLXNjcmlwdHNUb1ByZWxvYWQgPT09IDAgKSB7CgkJCQkJcHJvY2VlZCgpOwoJCQkJfQoJCQl9KTsKCQl9CgoJCWZvciggdmFyIGkgPSAwLCBsZW4gPSBjb25maWcuZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkgewoJCQl2YXIgcyA9IGNvbmZpZy5kZXBlbmRlbmNpZXNbaV07CgoJCQkvLyBMb2FkIGlmIHRoZXJlJ3Mgbm8gY29uZGl0aW9uIG9yIHRoZSBjb25kaXRpb24gaXMgdHJ1dGh5CgkJCWlmKCAhcy5jb25kaXRpb24gfHwgcy5jb25kaXRpb24oKSApIHsKCQkJCWlmKCBzLmFzeW5jICkgewoJCQkJCXNjcmlwdHNBc3luYy5wdXNoKCBzLnNyYyApOwoJCQkJfQoJCQkJZWxzZSB7CgkJCQkJc2NyaXB0cy5wdXNoKCBzLnNyYyApOwoJCQkJfQoKCQkJCWxvYWRTY3JpcHQoIHMgKTsKCQkJfQoJCX0KCgkJaWYoIHNjcmlwdHMubGVuZ3RoICkgewoJCQlzY3JpcHRzVG9QcmVsb2FkID0gc2NyaXB0cy5sZW5ndGg7CgoJCQkvLyBMb2FkIHN5bmNocm9ub3VzIHNjcmlwdHMKCQkJaGVhZC5qcy5hcHBseSggbnVsbCwgc2NyaXB0cyApOwoJCX0KCQllbHNlIHsKCQkJcHJvY2VlZCgpOwoJCX0KCgl9CgoJLyoqCgkgKiBTdGFydHMgdXAgcmV2ZWFsLmpzIGJ5IGJpbmRpbmcgaW5wdXQgZXZlbnRzIGFuZCBuYXZpZ2F0aW5nCgkgKiB0byB0aGUgY3VycmVudCBVUkwgZGVlcGxpbmsgaWYgdGhlcmUgaXMgb25lLgoJICovCglmdW5jdGlvbiBzdGFydCgpIHsKCgkJbG9hZGVkID0gdHJ1ZTsKCgkJLy8gTWFrZSBzdXJlIHdlJ3ZlIGdvdCBhbGwgdGhlIERPTSBlbGVtZW50cyB3ZSBuZWVkCgkJc2V0dXBET00oKTsKCgkJLy8gTGlzdGVuIHRvIG1lc3NhZ2VzIHBvc3RlZCB0byB0aGlzIHdpbmRvdwoJCXNldHVwUG9zdE1lc3NhZ2UoKTsKCgkJLy8gUHJldmVudCB0aGUgc2xpZGVzIGZyb20gYmVpbmcgc2Nyb2xsZWQgb3V0IG9mIHZpZXcKCQlzZXR1cFNjcm9sbFByZXZlbnRpb24oKTsKCgkJLy8gUmVzZXRzIGFsbCB2ZXJ0aWNhbCBzbGlkZXMgc28gdGhhdCBvbmx5IHRoZSBmaXJzdCBpcyB2aXNpYmxlCgkJcmVzZXRWZXJ0aWNhbFNsaWRlcygpOwoKCQkvLyBVcGRhdGVzIHRoZSBwcmVzZW50YXRpb24gdG8gbWF0Y2ggdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvbiB2YWx1ZXMKCQljb25maWd1cmUoKTsKCgkJLy8gUmVhZCB0aGUgaW5pdGlhbCBoYXNoCgkJcmVhZFVSTCgpOwoKCQkvLyBVcGRhdGUgYWxsIGJhY2tncm91bmRzCgkJdXBkYXRlQmFja2dyb3VuZCggdHJ1ZSApOwoKCQkvLyBOb3RpZnkgbGlzdGVuZXJzIHRoYXQgdGhlIHByZXNlbnRhdGlvbiBpcyByZWFkeSBidXQgdXNlIGEgMW1zCgkJLy8gdGltZW91dCB0byBlbnN1cmUgaXQncyBub3QgZmlyZWQgc3luY2hyb25vdXNseSBhZnRlciAjaW5pdGlhbGl6ZSgpCgkJc2V0VGltZW91dCggZnVuY3Rpb24oKSB7CgkJCS8vIEVuYWJsZSB0cmFuc2l0aW9ucyBub3cgdGhhdCB3ZSdyZSBsb2FkZWQKCQkJZG9tLnNsaWRlcy5jbGFzc0xpc3QucmVtb3ZlKCAnbm8tdHJhbnNpdGlvbicgKTsKCgkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5hZGQoICdyZWFkeScgKTsKCgkJCWRpc3BhdGNoRXZlbnQoICdyZWFkeScsIHsKCQkJCSdpbmRleGgnOiBpbmRleGgsCgkJCQknaW5kZXh2JzogaW5kZXh2LAoJCQkJJ2N1cnJlbnRTbGlkZSc6IGN1cnJlbnRTbGlkZQoJCQl9ICk7CgkJfSwgMSApOwoKCQkvLyBTcGVjaWFsIHNldHVwIGFuZCBjb25maWcgaXMgcmVxdWlyZWQgd2hlbiBwcmludGluZyB0byBQREYKCQlpZiggaXNQcmludGluZ1BERigpICkgewoJCQlyZW1vdmVFdmVudExpc3RlbmVycygpOwoKCQkJLy8gVGhlIGRvY3VtZW50IG5lZWRzIHRvIGhhdmUgbG9hZGVkIGZvciB0aGUgUERGIGxheW91dAoJCQkvLyBtZWFzdXJlbWVudHMgdG8gYmUgYWNjdXJhdGUKCQkJaWYoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgKSB7CgkJCQlzZXR1cFBERigpOwoJCQl9CgkJCWVsc2UgewoJCQkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkJywgc2V0dXBQREYgKTsKCQkJfQoJCX0KCgl9CgoJLyoqCgkgKiBGaW5kcyBhbmQgc3RvcmVzIHJlZmVyZW5jZXMgdG8gRE9NIGVsZW1lbnRzIHdoaWNoIGFyZQoJICogcmVxdWlyZWQgYnkgdGhlIHByZXNlbnRhdGlvbi4gSWYgYSByZXF1aXJlZCBlbGVtZW50IGlzCgkgKiBub3QgZm91bmQsIGl0IGlzIGNyZWF0ZWQuCgkgKi8KCWZ1bmN0aW9uIHNldHVwRE9NKCkgewoKCQkvLyBQcmV2ZW50IHRyYW5zaXRpb25zIHdoaWxlIHdlJ3JlIGxvYWRpbmcKCQlkb20uc2xpZGVzLmNsYXNzTGlzdC5hZGQoICduby10cmFuc2l0aW9uJyApOwoKCQlpZiggaXNNb2JpbGVEZXZpY2UgKSB7CgkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5hZGQoICduby1ob3ZlcicgKTsKCQl9CgkJZWxzZSB7CgkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoICduby1ob3ZlcicgKTsKCQl9CgoJCWlmKCAvaXBob25lL2dpLnRlc3QoIFVBICkgKSB7CgkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5hZGQoICd1YS1pcGhvbmUnICk7CgkJfQoJCWVsc2UgewoJCQlkb20ud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCAndWEtaXBob25lJyApOwoJCX0KCgkJLy8gQmFja2dyb3VuZCBlbGVtZW50CgkJZG9tLmJhY2tncm91bmQgPSBjcmVhdGVTaW5nbGV0b25Ob2RlKCBkb20ud3JhcHBlciwgJ2RpdicsICdiYWNrZ3JvdW5kcycsIG51bGwgKTsKCgkJLy8gUHJvZ3Jlc3MgYmFyCgkJZG9tLnByb2dyZXNzID0gY3JlYXRlU2luZ2xldG9uTm9kZSggZG9tLndyYXBwZXIsICdkaXYnLCAncHJvZ3Jlc3MnLCAnPHNwYW4+PC9zcGFuPicgKTsKCQlkb20ucHJvZ3Jlc3NiYXIgPSBkb20ucHJvZ3Jlc3MucXVlcnlTZWxlY3RvciggJ3NwYW4nICk7CgoJCS8vIEFycm93IGNvbnRyb2xzCgkJZG9tLmNvbnRyb2xzID0gY3JlYXRlU2luZ2xldG9uTm9kZSggZG9tLndyYXBwZXIsICdhc2lkZScsICdjb250cm9scycsCgkJCSc8YnV0dG9uIGNsYXNzPSJuYXZpZ2F0ZS1sZWZ0IiBhcmlhLWxhYmVsPSJwcmV2aW91cyBzbGlkZSI+PGRpdiBjbGFzcz0iY29udHJvbHMtYXJyb3ciPjwvZGl2PjwvYnV0dG9uPicgKwoJCQknPGJ1dHRvbiBjbGFzcz0ibmF2aWdhdGUtcmlnaHQiIGFyaWEtbGFiZWw9Im5leHQgc2xpZGUiPjxkaXYgY2xhc3M9ImNvbnRyb2xzLWFycm93Ij48L2Rpdj48L2J1dHRvbj4nICsKCQkJJzxidXR0b24gY2xhc3M9Im5hdmlnYXRlLXVwIiBhcmlhLWxhYmVsPSJhYm92ZSBzbGlkZSI+PGRpdiBjbGFzcz0iY29udHJvbHMtYXJyb3ciPjwvZGl2PjwvYnV0dG9uPicgKwoJCQknPGJ1dHRvbiBjbGFzcz0ibmF2aWdhdGUtZG93biIgYXJpYS1sYWJlbD0iYmVsb3cgc2xpZGUiPjxkaXYgY2xhc3M9ImNvbnRyb2xzLWFycm93Ij48L2Rpdj48L2J1dHRvbj4nICk7CgoJCS8vIFNsaWRlIG51bWJlcgoJCWRvbS5zbGlkZU51bWJlciA9IGNyZWF0ZVNpbmdsZXRvbk5vZGUoIGRvbS53cmFwcGVyLCAnZGl2JywgJ3NsaWRlLW51bWJlcicsICcnICk7CgoJCS8vIEVsZW1lbnQgY29udGFpbmluZyBub3RlcyB0aGF0IGFyZSB2aXNpYmxlIHRvIHRoZSBhdWRpZW5jZQoJCWRvbS5zcGVha2VyTm90ZXMgPSBjcmVhdGVTaW5nbGV0b25Ob2RlKCBkb20ud3JhcHBlciwgJ2RpdicsICdzcGVha2VyLW5vdGVzJywgbnVsbCApOwoJCWRvbS5zcGVha2VyTm90ZXMuc2V0QXR0cmlidXRlKCAnZGF0YS1wcmV2ZW50LXN3aXBlJywgJycgKTsKCQlkb20uc3BlYWtlck5vdGVzLnNldEF0dHJpYnV0ZSggJ3RhYmluZGV4JywgJzAnICk7CgoJCS8vIE92ZXJsYXkgZ3JhcGhpYyB3aGljaCBpcyBkaXNwbGF5ZWQgZHVyaW5nIHRoZSBwYXVzZWQgbW9kZQoJCWRvbS5wYXVzZU92ZXJsYXkgPSBjcmVhdGVTaW5nbGV0b25Ob2RlKCBkb20ud3JhcHBlciwgJ2RpdicsICdwYXVzZS1vdmVybGF5JywgJzxidXR0b24gY2xhc3M9InJlc3VtZS1idXR0b24iPlJlc3VtZSBwcmVzZW50YXRpb248L2J1dHRvbj4nICk7CgkJZG9tLnJlc3VtZUJ1dHRvbiA9IGRvbS5wYXVzZU92ZXJsYXkucXVlcnlTZWxlY3RvciggJy5yZXN1bWUtYnV0dG9uJyApOwoKCQlkb20ud3JhcHBlci5zZXRBdHRyaWJ1dGUoICdyb2xlJywgJ2FwcGxpY2F0aW9uJyApOwoKCQkvLyBUaGVyZSBjYW4gYmUgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIGNvbnRyb2xzIHRocm91Z2hvdXQgdGhlIHBhZ2UKCQlkb20uY29udHJvbHNMZWZ0ID0gdG9BcnJheSggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy5uYXZpZ2F0ZS1sZWZ0JyApICk7CgkJZG9tLmNvbnRyb2xzUmlnaHQgPSB0b0FycmF5KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLm5hdmlnYXRlLXJpZ2h0JyApICk7CgkJZG9tLmNvbnRyb2xzVXAgPSB0b0FycmF5KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLm5hdmlnYXRlLXVwJyApICk7CgkJZG9tLmNvbnRyb2xzRG93biA9IHRvQXJyYXkoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICcubmF2aWdhdGUtZG93bicgKSApOwoJCWRvbS5jb250cm9sc1ByZXYgPSB0b0FycmF5KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLm5hdmlnYXRlLXByZXYnICkgKTsKCQlkb20uY29udHJvbHNOZXh0ID0gdG9BcnJheSggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy5uYXZpZ2F0ZS1uZXh0JyApICk7CgoJCS8vIFRoZSByaWdodCBhbmQgZG93biBhcnJvd3MgaW4gdGhlIHN0YW5kYXJkIHJldmVhbC5qcyBjb250cm9scwoJCWRvbS5jb250cm9sc1JpZ2h0QXJyb3cgPSBkb20uY29udHJvbHMucXVlcnlTZWxlY3RvciggJy5uYXZpZ2F0ZS1yaWdodCcgKTsKCQlkb20uY29udHJvbHNEb3duQXJyb3cgPSBkb20uY29udHJvbHMucXVlcnlTZWxlY3RvciggJy5uYXZpZ2F0ZS1kb3duJyApOwoKCQlkb20uc3RhdHVzRGl2ID0gY3JlYXRlU3RhdHVzRGl2KCk7Cgl9CgoJLyoqCgkgKiBDcmVhdGVzIGEgaGlkZGVuIGRpdiB3aXRoIHJvbGUgYXJpYS1saXZlIHRvIGFubm91bmNlIHRoZQoJICogY3VycmVudCBzbGlkZSBjb250ZW50LiBIaWRlIHRoZSBkaXYgb2ZmLXNjcmVlbiB0byBtYWtlIGl0CgkgKiBhdmFpbGFibGUgb25seSB0byBBc3Npc3RpdmUgVGVjaG5vbG9naWVzLgoJICoKCSAqIEByZXR1cm4ge0hUTUxFbGVtZW50fQoJICovCglmdW5jdGlvbiBjcmVhdGVTdGF0dXNEaXYoKSB7CgoJCXZhciBzdGF0dXNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ2FyaWEtc3RhdHVzLWRpdicgKTsKCQlpZiggIXN0YXR1c0RpdiApIHsKCQkJc3RhdHVzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTsKCQkJc3RhdHVzRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKCQkJc3RhdHVzRGl2LnN0eWxlLmhlaWdodCA9ICcxcHgnOwoJCQlzdGF0dXNEaXYuc3R5bGUud2lkdGggPSAnMXB4JzsKCQkJc3RhdHVzRGl2LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CgkJCXN0YXR1c0Rpdi5zdHlsZS5jbGlwID0gJ3JlY3QoIDFweCwgMXB4LCAxcHgsIDFweCApJzsKCQkJc3RhdHVzRGl2LnNldEF0dHJpYnV0ZSggJ2lkJywgJ2FyaWEtc3RhdHVzLWRpdicgKTsKCQkJc3RhdHVzRGl2LnNldEF0dHJpYnV0ZSggJ2FyaWEtbGl2ZScsICdwb2xpdGUnICk7CgkJCXN0YXR1c0Rpdi5zZXRBdHRyaWJ1dGUoICdhcmlhLWF0b21pYycsJ3RydWUnICk7CgkJCWRvbS53cmFwcGVyLmFwcGVuZENoaWxkKCBzdGF0dXNEaXYgKTsKCQl9CgkJcmV0dXJuIHN0YXR1c0RpdjsKCgl9CgoJLyoqCgkgKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gSFRNTCBlbGVtZW50IGludG8gYSBzdHJpbmcgb2YgdGV4dAoJICogdGhhdCBjYW4gYmUgYW5ub3VuY2VkIHRvIGEgc2NyZWVuIHJlYWRlci4gSGlkZGVuCgkgKiBlbGVtZW50cyBhcmUgZXhjbHVkZWQuCgkgKi8KCWZ1bmN0aW9uIGdldFN0YXR1c1RleHQoIG5vZGUgKSB7CgoJCXZhciB0ZXh0ID0gJyc7CgoJCS8vIFRleHQgbm9kZQoJCWlmKCBub2RlLm5vZGVUeXBlID09PSAzICkgewoJCQl0ZXh0ICs9IG5vZGUudGV4dENvbnRlbnQ7CgkJfQoJCS8vIEVsZW1lbnQgbm9kZQoJCWVsc2UgaWYoIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7CgoJCQl2YXIgaXNBcmlhSGlkZGVuID0gbm9kZS5nZXRBdHRyaWJ1dGUoICdhcmlhLWhpZGRlbicgKTsKCQkJdmFyIGlzRGlzcGxheUhpZGRlbiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBub2RlIClbJ2Rpc3BsYXknXSA9PT0gJ25vbmUnOwoJCQlpZiggaXNBcmlhSGlkZGVuICE9PSAndHJ1ZScgJiYgIWlzRGlzcGxheUhpZGRlbiApIHsKCgkJCQl0b0FycmF5KCBub2RlLmNoaWxkTm9kZXMgKS5mb3JFYWNoKCBmdW5jdGlvbiggY2hpbGQgKSB7CgkJCQkJdGV4dCArPSBnZXRTdGF0dXNUZXh0KCBjaGlsZCApOwoJCQkJfSApOwoKCQkJfQoKCQl9CgoJCXJldHVybiB0ZXh0OwoKCX0KCgkvKioKCSAqIENvbmZpZ3VyZXMgdGhlIHByZXNlbnRhdGlvbiBmb3IgcHJpbnRpbmcgdG8gYSBzdGF0aWMKCSAqIFBERi4KCSAqLwoJZnVuY3Rpb24gc2V0dXBQREYoKSB7CgoJCXZhciBzbGlkZVNpemUgPSBnZXRDb21wdXRlZFNsaWRlU2l6ZSggd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCApOwoKCQkvLyBEaW1lbnNpb25zIG9mIHRoZSBQREYgcGFnZXMKCQl2YXIgcGFnZVdpZHRoID0gTWF0aC5mbG9vciggc2xpZGVTaXplLndpZHRoICogKCAxICsgY29uZmlnLm1hcmdpbiApICksCgkJCXBhZ2VIZWlnaHQgPSBNYXRoLmZsb29yKCBzbGlkZVNpemUuaGVpZ2h0ICogKCAxICsgY29uZmlnLm1hcmdpbiApICk7CgoJCS8vIERpbWVuc2lvbnMgb2Ygc2xpZGVzIHdpdGhpbiB0aGUgcGFnZXMKCQl2YXIgc2xpZGVXaWR0aCA9IHNsaWRlU2l6ZS53aWR0aCwKCQkJc2xpZGVIZWlnaHQgPSBzbGlkZVNpemUuaGVpZ2h0OwoKCQkvLyBMZXQgdGhlIGJyb3dzZXIga25vdyB3aGF0IHBhZ2Ugc2l6ZSB3ZSB3YW50IHRvIHByaW50CgkJaW5qZWN0U3R5bGVTaGVldCggJ0BwYWdle3NpemU6JysgcGFnZVdpZHRoICsncHggJysgcGFnZUhlaWdodCArJ3B4OyBtYXJnaW46IDBweDt9JyApOwoKCQkvLyBMaW1pdCB0aGUgc2l6ZSBvZiBjZXJ0YWluIGVsZW1lbnRzIHRvIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBzbGlkZQoJCWluamVjdFN0eWxlU2hlZXQoICcucmV2ZWFsIHNlY3Rpb24+aW1nLCAucmV2ZWFsIHNlY3Rpb24+dmlkZW8sIC5yZXZlYWwgc2VjdGlvbj5pZnJhbWV7bWF4LXdpZHRoOiAnKyBzbGlkZVdpZHRoICsncHg7IG1heC1oZWlnaHQ6Jysgc2xpZGVIZWlnaHQgKydweH0nICk7CgoJCWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCggJ3ByaW50LXBkZicgKTsKCQlkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gcGFnZVdpZHRoICsgJ3B4JzsKCQlkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IHBhZ2VIZWlnaHQgKyAncHgnOwoKCQkvLyBNYWtlIHN1cmUgc3RyZXRjaCBlbGVtZW50cyBmaXQgb24gc2xpZGUKCQlsYXlvdXRTbGlkZUNvbnRlbnRzKCBzbGlkZVdpZHRoLCBzbGlkZUhlaWdodCApOwoKCQkvLyBBZGQgZWFjaCBzbGlkZSdzIGluZGV4IGFzIGF0dHJpYnV0ZXMgb24gaXRzZWxmLCB3ZSBuZWVkIHRoZXNlCgkJLy8gaW5kaWNlcyB0byBnZW5lcmF0ZSBzbGlkZSBudW1iZXJzIGJlbG93CgkJdG9BcnJheSggZG9tLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbCggSE9SSVpPTlRBTF9TTElERVNfU0VMRUNUT1IgKSApLmZvckVhY2goIGZ1bmN0aW9uKCBoc2xpZGUsIGggKSB7CgkJCWhzbGlkZS5zZXRBdHRyaWJ1dGUoICdkYXRhLWluZGV4LWgnLCBoICk7CgoJCQlpZiggaHNsaWRlLmNsYXNzTGlzdC5jb250YWlucyggJ3N0YWNrJyApICkgewoJCQkJdG9BcnJheSggaHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICdzZWN0aW9uJyApICkuZm9yRWFjaCggZnVuY3Rpb24oIHZzbGlkZSwgdiApIHsKCQkJCQl2c2xpZGUuc2V0QXR0cmlidXRlKCAnZGF0YS1pbmRleC1oJywgaCApOwoJCQkJCXZzbGlkZS5zZXRBdHRyaWJ1dGUoICdkYXRhLWluZGV4LXYnLCB2ICk7CgkJCQl9ICk7CgkJCX0KCQl9ICk7CgoJCS8vIFNsaWRlIGFuZCBzbGlkZSBiYWNrZ3JvdW5kIGxheW91dAoJCXRvQXJyYXkoIGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIFNMSURFU19TRUxFQ1RPUiApICkuZm9yRWFjaCggZnVuY3Rpb24oIHNsaWRlICkgewoKCQkJLy8gVmVydGljYWwgc3RhY2tzIGFyZSBub3QgY2VudHJlZCBzaW5jZSB0aGVpciBzZWN0aW9uCgkJCS8vIGNoaWxkcmVuIHdpbGwgYmUKCQkJaWYoIHNsaWRlLmNsYXNzTGlzdC5jb250YWlucyggJ3N0YWNrJyApID09PSBmYWxzZSApIHsKCQkJCS8vIENlbnRlciB0aGUgc2xpZGUgaW5zaWRlIG9mIHRoZSBwYWdlLCBnaXZpbmcgdGhlIHNsaWRlIHNvbWUgbWFyZ2luCgkJCQl2YXIgbGVmdCA9ICggcGFnZVdpZHRoIC0gc2xpZGVXaWR0aCApIC8gMiwKCQkJCQl0b3AgPSAoIHBhZ2VIZWlnaHQgLSBzbGlkZUhlaWdodCApIC8gMjsKCgkJCQl2YXIgY29udGVudEhlaWdodCA9IHNsaWRlLnNjcm9sbEhlaWdodDsKCQkJCXZhciBudW1iZXJPZlBhZ2VzID0gTWF0aC5tYXgoIE1hdGguY2VpbCggY29udGVudEhlaWdodCAvIHBhZ2VIZWlnaHQgKSwgMSApOwoKCQkJCS8vIEFkaGVyZSB0byBjb25maWd1cmVkIHBhZ2VzIHBlciBzbGlkZSBsaW1pdAoJCQkJbnVtYmVyT2ZQYWdlcyA9IE1hdGgubWluKCBudW1iZXJPZlBhZ2VzLCBjb25maWcucGRmTWF4UGFnZXNQZXJTbGlkZSApOwoKCQkJCS8vIENlbnRlciBzbGlkZXMgdmVydGljYWxseQoJCQkJaWYoIG51bWJlck9mUGFnZXMgPT09IDEgJiYgY29uZmlnLmNlbnRlciB8fCBzbGlkZS5jbGFzc0xpc3QuY29udGFpbnMoICdjZW50ZXInICkgKSB7CgkJCQkJdG9wID0gTWF0aC5tYXgoICggcGFnZUhlaWdodCAtIGNvbnRlbnRIZWlnaHQgKSAvIDIsIDAgKTsKCQkJCX0KCgkJCQkvLyBXcmFwIHRoZSBzbGlkZSBpbiBhIHBhZ2UgZWxlbWVudCBhbmQgaGlkZSBpdHMgb3ZlcmZsb3cKCQkJCS8vIHNvIHRoYXQgbm8gcGFnZSBldmVyIGZsb3dzIG9udG8gYW5vdGhlcgoJCQkJdmFyIHBhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApOwoJCQkJcGFnZS5jbGFzc05hbWUgPSAncGRmLXBhZ2UnOwoJCQkJcGFnZS5zdHlsZS5oZWlnaHQgPSAoICggcGFnZUhlaWdodCArIGNvbmZpZy5wZGZQYWdlSGVpZ2h0T2Zmc2V0ICkgKiBudW1iZXJPZlBhZ2VzICkgKyAncHgnOwoJCQkJc2xpZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIHBhZ2UsIHNsaWRlICk7CgkJCQlwYWdlLmFwcGVuZENoaWxkKCBzbGlkZSApOwoKCQkJCS8vIFBvc2l0aW9uIHRoZSBzbGlkZSBpbnNpZGUgb2YgdGhlIHBhZ2UKCQkJCXNsaWRlLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JzsKCQkJCXNsaWRlLnN0eWxlLnRvcCA9IHRvcCArICdweCc7CgkJCQlzbGlkZS5zdHlsZS53aWR0aCA9IHNsaWRlV2lkdGggKyAncHgnOwoKCQkJCWlmKCBzbGlkZS5zbGlkZUJhY2tncm91bmRFbGVtZW50ICkgewoJCQkJCXBhZ2UuaW5zZXJ0QmVmb3JlKCBzbGlkZS5zbGlkZUJhY2tncm91bmRFbGVtZW50LCBzbGlkZSApOwoJCQkJfQoKCQkJCS8vIEluamVjdCBub3RlcyBpZiBgc2hvd05vdGVzYCBpcyBlbmFibGVkCgkJCQlpZiggY29uZmlnLnNob3dOb3RlcyApIHsKCgkJCQkJLy8gQXJlIHRoZXJlIG5vdGVzIGZvciB0aGlzIHNsaWRlPwoJCQkJCXZhciBub3RlcyA9IGdldFNsaWRlTm90ZXMoIHNsaWRlICk7CgkJCQkJaWYoIG5vdGVzICkgewoKCQkJCQkJdmFyIG5vdGVzU3BhY2luZyA9IDg7CgkJCQkJCXZhciBub3Rlc0xheW91dCA9IHR5cGVvZiBjb25maWcuc2hvd05vdGVzID09PSAnc3RyaW5nJyA/IGNvbmZpZy5zaG93Tm90ZXMgOiAnaW5saW5lJzsKCQkJCQkJdmFyIG5vdGVzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7CgkJCQkJCW5vdGVzRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAnc3BlYWtlci1ub3RlcycgKTsKCQkJCQkJbm90ZXNFbGVtZW50LmNsYXNzTGlzdC5hZGQoICdzcGVha2VyLW5vdGVzLXBkZicgKTsKCQkJCQkJbm90ZXNFbGVtZW50LnNldEF0dHJpYnV0ZSggJ2RhdGEtbGF5b3V0Jywgbm90ZXNMYXlvdXQgKTsKCQkJCQkJbm90ZXNFbGVtZW50LmlubmVySFRNTCA9IG5vdGVzOwoKCQkJCQkJaWYoIG5vdGVzTGF5b3V0ID09PSAnc2VwYXJhdGUtcGFnZScgKSB7CgkJCQkJCQlwYWdlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBub3Rlc0VsZW1lbnQsIHBhZ2UubmV4dFNpYmxpbmcgKTsKCQkJCQkJfQoJCQkJCQllbHNlIHsKCQkJCQkJCW5vdGVzRWxlbWVudC5zdHlsZS5sZWZ0ID0gbm90ZXNTcGFjaW5nICsgJ3B4JzsKCQkJCQkJCW5vdGVzRWxlbWVudC5zdHlsZS5ib3R0b20gPSBub3Rlc1NwYWNpbmcgKyAncHgnOwoJCQkJCQkJbm90ZXNFbGVtZW50LnN0eWxlLndpZHRoID0gKCBwYWdlV2lkdGggLSBub3Rlc1NwYWNpbmcqMiApICsgJ3B4JzsKCQkJCQkJCXBhZ2UuYXBwZW5kQ2hpbGQoIG5vdGVzRWxlbWVudCApOwoJCQkJCQl9CgoJCQkJCX0KCgkJCQl9CgoJCQkJLy8gSW5qZWN0IHNsaWRlIG51bWJlcnMgaWYgYHNsaWRlTnVtYmVyc2AgYXJlIGVuYWJsZWQKCQkJCWlmKCBjb25maWcuc2xpZGVOdW1iZXIgJiYgL2FsbHxwcmludC9pLnRlc3QoIGNvbmZpZy5zaG93U2xpZGVOdW1iZXIgKSApIHsKCQkJCQl2YXIgc2xpZGVOdW1iZXJIID0gcGFyc2VJbnQoIHNsaWRlLmdldEF0dHJpYnV0ZSggJ2RhdGEtaW5kZXgtaCcgKSwgMTAgKSArIDEsCgkJCQkJCXNsaWRlTnVtYmVyViA9IHBhcnNlSW50KCBzbGlkZS5nZXRBdHRyaWJ1dGUoICdkYXRhLWluZGV4LXYnICksIDEwICkgKyAxOwoKCQkJCQl2YXIgbnVtYmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7CgkJCQkJbnVtYmVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAnc2xpZGUtbnVtYmVyJyApOwoJCQkJCW51bWJlckVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3NsaWRlLW51bWJlci1wZGYnICk7CgkJCQkJbnVtYmVyRWxlbWVudC5pbm5lckhUTUwgPSBmb3JtYXRTbGlkZU51bWJlciggc2xpZGVOdW1iZXJILCAnLicsIHNsaWRlTnVtYmVyViApOwoJCQkJCXBhZ2UuYXBwZW5kQ2hpbGQoIG51bWJlckVsZW1lbnQgKTsKCQkJCX0KCgkJCQkvLyBDb3B5IHBhZ2UgYW5kIHNob3cgZnJhZ21lbnRzIG9uZSBhZnRlciBhbm90aGVyCgkJCQlpZiggY29uZmlnLnBkZlNlcGFyYXRlRnJhZ21lbnRzICkgewoKCQkJCQkvLyBFYWNoIGZyYWdtZW50ICdncm91cCcgaXMgYW4gYXJyYXkgY29udGFpbmluZyBvbmUgb3IgbW9yZQoJCQkJCS8vIGZyYWdtZW50cy4gTXVsdGlwbGUgZnJhZ21lbnRzIHRoYXQgYXBwZWFyIGF0IHRoZSBzYW1lIHRpbWUKCQkJCQkvLyBhcmUgcGFydCBvZiB0aGUgc2FtZSBncm91cC4KCQkJCQl2YXIgZnJhZ21lbnRHcm91cHMgPSBzb3J0RnJhZ21lbnRzKCBwYWdlLnF1ZXJ5U2VsZWN0b3JBbGwoICcuZnJhZ21lbnQnICksIHRydWUgKTsKCgkJCQkJdmFyIHByZXZpb3VzRnJhZ21lbnRTdGVwOwoJCQkJCXZhciBwcmV2aW91c1BhZ2U7CgoJCQkJCWZyYWdtZW50R3JvdXBzLmZvckVhY2goIGZ1bmN0aW9uKCBmcmFnbWVudHMgKSB7CgoJCQkJCQkvLyBSZW1vdmUgJ2N1cnJlbnQtZnJhZ21lbnQnIGZyb20gdGhlIHByZXZpb3VzIGdyb3VwCgkJCQkJCWlmKCBwcmV2aW91c0ZyYWdtZW50U3RlcCApIHsKCQkJCQkJCXByZXZpb3VzRnJhZ21lbnRTdGVwLmZvckVhY2goIGZ1bmN0aW9uKCBmcmFnbWVudCApIHsKCQkJCQkJCQlmcmFnbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAnY3VycmVudC1mcmFnbWVudCcgKTsKCQkJCQkJCX0gKTsKCQkJCQkJfQoKCQkJCQkJLy8gU2hvdyB0aGUgZnJhZ21lbnRzIGZvciB0aGUgY3VycmVudCBpbmRleAoJCQkJCQlmcmFnbWVudHMuZm9yRWFjaCggZnVuY3Rpb24oIGZyYWdtZW50ICkgewoJCQkJCQkJZnJhZ21lbnQuY2xhc3NMaXN0LmFkZCggJ3Zpc2libGUnLCAnY3VycmVudC1mcmFnbWVudCcgKTsKCQkJCQkJfSApOwoKCQkJCQkJLy8gQ3JlYXRlIGEgc2VwYXJhdGUgcGFnZSBmb3IgdGhlIGN1cnJlbnQgZnJhZ21lbnQgc3RhdGUKCQkJCQkJdmFyIGNsb25lZFBhZ2UgPSBwYWdlLmNsb25lTm9kZSggdHJ1ZSApOwoJCQkJCQlwYWdlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBjbG9uZWRQYWdlLCAoIHByZXZpb3VzUGFnZSB8fCBwYWdlICkubmV4dFNpYmxpbmcgKTsKCgkJCQkJCXByZXZpb3VzRnJhZ21lbnRTdGVwID0gZnJhZ21lbnRzOwoJCQkJCQlwcmV2aW91c1BhZ2UgPSBjbG9uZWRQYWdlOwoKCQkJCQl9ICk7CgoJCQkJCS8vIFJlc2V0IHRoZSBmaXJzdC9vcmlnaW5hbCBwYWdlIHNvIHRoYXQgYWxsIGZyYWdtZW50cyBhcmUgaGlkZGVuCgkJCQkJZnJhZ21lbnRHcm91cHMuZm9yRWFjaCggZnVuY3Rpb24oIGZyYWdtZW50cyApIHsKCQkJCQkJZnJhZ21lbnRzLmZvckVhY2goIGZ1bmN0aW9uKCBmcmFnbWVudCApIHsKCQkJCQkJCWZyYWdtZW50LmNsYXNzTGlzdC5yZW1vdmUoICd2aXNpYmxlJywgJ2N1cnJlbnQtZnJhZ21lbnQnICk7CgkJCQkJCX0gKTsKCQkJCQl9ICk7CgoJCQkJfQoJCQkJLy8gU2hvdyBhbGwgZnJhZ21lbnRzCgkJCQllbHNlIHsKCQkJCQl0b0FycmF5KCBwYWdlLnF1ZXJ5U2VsZWN0b3JBbGwoICcuZnJhZ21lbnQ6bm90KC5mYWRlLW91dCknICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggZnJhZ21lbnQgKSB7CgkJCQkJCWZyYWdtZW50LmNsYXNzTGlzdC5hZGQoICd2aXNpYmxlJyApOwoJCQkJCX0gKTsKCQkJCX0KCgkJCX0KCgkJfSApOwoKCQkvLyBOb3RpZnkgc3Vic2NyaWJlcnMgdGhhdCB0aGUgUERGIGxheW91dCBpcyBnb29kIHRvIGdvCgkJZGlzcGF0Y2hFdmVudCggJ3BkZi1yZWFkeScgKTsKCgl9CgoJLyoqCgkgKiBUaGlzIGlzIGFuIHVuZm9ydHVuYXRlIG5lY2Vzc2l0eS4gU29tZSBhY3Rpb25zIOKAkyBzdWNoIGFzCgkgKiBhbiBpbnB1dCBmaWVsZCBiZWluZyBmb2N1c2VkIGluIGFuIGlmcmFtZSBvciB1c2luZyB0aGUKCSAqIGtleWJvYXJkIHRvIGV4cGFuZCB0ZXh0IHNlbGVjdGlvbiBiZXlvbmQgdGhlIGJvdW5kcyBvZgoJICogYSBzbGlkZSDigJMgY2FuIHRyaWdnZXIgb3VyIGNvbnRlbnQgdG8gYmUgcHVzaGVkIG91dCBvZiB2aWV3LgoJICogVGhpcyBzY3JvbGxpbmcgY2FuIG5vdCBiZSBwcmV2ZW50ZWQgYnkgaGlkaW5nIG92ZXJmbG93IGluCgkgKiBDU1MgKHdlIGFscmVhZHkgZG8pIHNvIHdlIGhhdmUgdG8gcmVzb3J0IHRvIHJlcGVhdGVkbHkKCSAqIGNoZWNraW5nIGlmIHRoZSBzbGlkZXMgaGF2ZSBiZWVuIG9mZnNldCA6KAoJICovCglmdW5jdGlvbiBzZXR1cFNjcm9sbFByZXZlbnRpb24oKSB7CgoJCXNldEludGVydmFsKCBmdW5jdGlvbigpIHsKCQkJaWYoIGRvbS53cmFwcGVyLnNjcm9sbFRvcCAhPT0gMCB8fCBkb20ud3JhcHBlci5zY3JvbGxMZWZ0ICE9PSAwICkgewoJCQkJZG9tLndyYXBwZXIuc2Nyb2xsVG9wID0gMDsKCQkJCWRvbS53cmFwcGVyLnNjcm9sbExlZnQgPSAwOwoJCQl9CgkJfSwgMTAwMCApOwoKCX0KCgkvKioKCSAqIENyZWF0ZXMgYW4gSFRNTCBlbGVtZW50IGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIGl0LgoJICogSWYgdGhlIGVsZW1lbnQgYWxyZWFkeSBleGlzdHMgdGhlIGV4aXN0aW5nIGluc3RhbmNlIHdpbGwKCSAqIGJlIHJldHVybmVkLgoJICoKCSAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lcgoJICogQHBhcmFtIHtzdHJpbmd9IHRhZ25hbWUKCSAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc25hbWUKCSAqIEBwYXJhbSB7c3RyaW5nfSBpbm5lckhUTUwKCSAqCgkgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0KCSAqLwoJZnVuY3Rpb24gY3JlYXRlU2luZ2xldG9uTm9kZSggY29udGFpbmVyLCB0YWduYW1lLCBjbGFzc25hbWUsIGlubmVySFRNTCApIHsKCgkJLy8gRmluZCBhbGwgbm9kZXMgbWF0Y2hpbmcgdGhlIGRlc2NyaXB0aW9uCgkJdmFyIG5vZGVzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoICcuJyArIGNsYXNzbmFtZSApOwoKCQkvLyBDaGVjayBhbGwgbWF0Y2hlcyB0byBmaW5kIG9uZSB3aGljaCBpcyBhIGRpcmVjdCBjaGlsZCBvZgoJCS8vIHRoZSBzcGVjaWZpZWQgY29udGFpbmVyCgkJZm9yKCB2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKyApIHsKCQkJdmFyIHRlc3ROb2RlID0gbm9kZXNbaV07CgkJCWlmKCB0ZXN0Tm9kZS5wYXJlbnROb2RlID09PSBjb250YWluZXIgKSB7CgkJCQlyZXR1cm4gdGVzdE5vZGU7CgkJCX0KCQl9CgoJCS8vIElmIG5vIG5vZGUgd2FzIGZvdW5kLCBjcmVhdGUgaXQgbm93CgkJdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCB0YWduYW1lICk7CgkJbm9kZS5jbGFzc05hbWUgPSBjbGFzc25hbWU7CgkJaWYoIHR5cGVvZiBpbm5lckhUTUwgPT09ICdzdHJpbmcnICkgewoJCQlub2RlLmlubmVySFRNTCA9IGlubmVySFRNTDsKCQl9CgkJY29udGFpbmVyLmFwcGVuZENoaWxkKCBub2RlICk7CgoJCXJldHVybiBub2RlOwoKCX0KCgkvKioKCSAqIENyZWF0ZXMgdGhlIHNsaWRlIGJhY2tncm91bmQgZWxlbWVudHMgYW5kIGFwcGVuZHMgdGhlbQoJICogdG8gdGhlIGJhY2tncm91bmQgY29udGFpbmVyLiBPbmUgZWxlbWVudCBpcyBjcmVhdGVkIHBlcgoJICogc2xpZGUgbm8gbWF0dGVyIGlmIHRoZSBnaXZlbiBzbGlkZSBoYXMgdmlzaWJsZSBiYWNrZ3JvdW5kLgoJICovCglmdW5jdGlvbiBjcmVhdGVCYWNrZ3JvdW5kcygpIHsKCgkJdmFyIHByaW50TW9kZSA9IGlzUHJpbnRpbmdQREYoKTsKCgkJLy8gQ2xlYXIgcHJpb3IgYmFja2dyb3VuZHMKCQlkb20uYmFja2dyb3VuZC5pbm5lckhUTUwgPSAnJzsKCQlkb20uYmFja2dyb3VuZC5jbGFzc0xpc3QuYWRkKCAnbm8tdHJhbnNpdGlvbicgKTsKCgkJLy8gSXRlcmF0ZSBvdmVyIGFsbCBob3Jpem9udGFsIHNsaWRlcwoJCXRvQXJyYXkoIGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIEhPUklaT05UQUxfU0xJREVTX1NFTEVDVE9SICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggc2xpZGVoICkgewoKCQkJdmFyIGJhY2tncm91bmRTdGFjayA9IGNyZWF0ZUJhY2tncm91bmQoIHNsaWRlaCwgZG9tLmJhY2tncm91bmQgKTsKCgkJCS8vIEl0ZXJhdGUgb3ZlciBhbGwgdmVydGljYWwgc2xpZGVzCgkJCXRvQXJyYXkoIHNsaWRlaC5xdWVyeVNlbGVjdG9yQWxsKCAnc2VjdGlvbicgKSApLmZvckVhY2goIGZ1bmN0aW9uKCBzbGlkZXYgKSB7CgoJCQkJY3JlYXRlQmFja2dyb3VuZCggc2xpZGV2LCBiYWNrZ3JvdW5kU3RhY2sgKTsKCgkJCQliYWNrZ3JvdW5kU3RhY2suY2xhc3NMaXN0LmFkZCggJ3N0YWNrJyApOwoKCQkJfSApOwoKCQl9ICk7CgoJCS8vIEFkZCBwYXJhbGxheCBiYWNrZ3JvdW5kIGlmIHNwZWNpZmllZAoJCWlmKCBjb25maWcucGFyYWxsYXhCYWNrZ3JvdW5kSW1hZ2UgKSB7CgoJCQlkb20uYmFja2dyb3VuZC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCInICsgY29uZmlnLnBhcmFsbGF4QmFja2dyb3VuZEltYWdlICsgJyIpJzsKCQkJZG9tLmJhY2tncm91bmQuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBjb25maWcucGFyYWxsYXhCYWNrZ3JvdW5kU2l6ZTsKCQkJZG9tLmJhY2tncm91bmQuc3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9IGNvbmZpZy5wYXJhbGxheEJhY2tncm91bmRSZXBlYXQ7CgkJCWRvbS5iYWNrZ3JvdW5kLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IGNvbmZpZy5wYXJhbGxheEJhY2tncm91bmRQb3NpdGlvbjsKCgkJCS8vIE1ha2Ugc3VyZSB0aGUgYmVsb3cgcHJvcGVydGllcyBhcmUgc2V0IG9uIHRoZSBlbGVtZW50IC0gdGhlc2UgcHJvcGVydGllcyBhcmUKCQkJLy8gbmVlZGVkIGZvciBwcm9wZXIgdHJhbnNpdGlvbnMgdG8gYmUgc2V0IG9uIHRoZSBlbGVtZW50IHZpYSBDU1MuIFRvIHJlbW92ZQoJCQkvLyBhbm5veWluZyBiYWNrZ3JvdW5kIHNsaWRlLWluIGVmZmVjdCB3aGVuIHRoZSBwcmVzZW50YXRpb24gc3RhcnRzLCBhcHBseQoJCQkvLyB0aGVzZSBwcm9wZXJ0aWVzIGFmdGVyIHNob3J0IHRpbWUgZGVsYXkKCQkJc2V0VGltZW91dCggZnVuY3Rpb24oKSB7CgkJCQlkb20ud3JhcHBlci5jbGFzc0xpc3QuYWRkKCAnaGFzLXBhcmFsbGF4LWJhY2tncm91bmQnICk7CgkJCX0sIDEgKTsKCgkJfQoJCWVsc2UgewoKCQkJZG9tLmJhY2tncm91bmQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJyc7CgkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoICdoYXMtcGFyYWxsYXgtYmFja2dyb3VuZCcgKTsKCgkJfQoKCX0KCgkvKioKCSAqIENyZWF0ZXMgYSBiYWNrZ3JvdW5kIGZvciB0aGUgZ2l2ZW4gc2xpZGUuCgkgKgoJICogQHBhcmFtIHtIVE1MRWxlbWVudH0gc2xpZGUKCSAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lciBUaGUgZWxlbWVudCB0aGF0IHRoZSBiYWNrZ3JvdW5kCgkgKiBzaG91bGQgYmUgYXBwZW5kZWQgdG8KCSAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBOZXcgYmFja2dyb3VuZCBkaXYKCSAqLwoJZnVuY3Rpb24gY3JlYXRlQmFja2dyb3VuZCggc2xpZGUsIGNvbnRhaW5lciApIHsKCgoJCS8vIE1haW4gc2xpZGUgYmFja2dyb3VuZCBlbGVtZW50CgkJdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApOwoJCWVsZW1lbnQuY2xhc3NOYW1lID0gJ3NsaWRlLWJhY2tncm91bmQgJyArIHNsaWRlLmNsYXNzTmFtZS5yZXBsYWNlKCAvcHJlc2VudHxwYXN0fGZ1dHVyZS8sICcnICk7CgoJCS8vIElubmVyIGJhY2tncm91bmQgZWxlbWVudCB0aGF0IHdyYXBzIGltYWdlcy92aWRlb3MvaWZyYW1lcwoJCXZhciBjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7CgkJY29udGVudEVsZW1lbnQuY2xhc3NOYW1lID0gJ3NsaWRlLWJhY2tncm91bmQtY29udGVudCc7CgoJCWVsZW1lbnQuYXBwZW5kQ2hpbGQoIGNvbnRlbnRFbGVtZW50ICk7CgkJY29udGFpbmVyLmFwcGVuZENoaWxkKCBlbGVtZW50ICk7CgoJCXNsaWRlLnNsaWRlQmFja2dyb3VuZEVsZW1lbnQgPSBlbGVtZW50OwoJCXNsaWRlLnNsaWRlQmFja2dyb3VuZENvbnRlbnRFbGVtZW50ID0gY29udGVudEVsZW1lbnQ7CgoJCS8vIFN5bmNzIHRoZSBiYWNrZ3JvdW5kIHRvIHJlZmxlY3QgYWxsIGN1cnJlbnQgYmFja2dyb3VuZCBzZXR0aW5ncwoJCXN5bmNCYWNrZ3JvdW5kKCBzbGlkZSApOwoKCQlyZXR1cm4gZWxlbWVudDsKCgl9CgoJLyoqCgkgKiBSZW5kZXJzIGFsbCBvZiB0aGUgdmlzdWFsIHByb3BlcnRpZXMgb2YgYSBzbGlkZSBiYWNrZ3JvdW5kCgkgKiBiYXNlZCBvbiB0aGUgdmFyaW91cyBiYWNrZ3JvdW5kIGF0dHJpYnV0ZXMuCgkgKgoJICogQHBhcmFtIHtIVE1MRWxlbWVudH0gc2xpZGUKCSAqLwoJZnVuY3Rpb24gc3luY0JhY2tncm91bmQoIHNsaWRlICkgewoKCQl2YXIgZWxlbWVudCA9IHNsaWRlLnNsaWRlQmFja2dyb3VuZEVsZW1lbnQsCgkJCWNvbnRlbnRFbGVtZW50ID0gc2xpZGUuc2xpZGVCYWNrZ3JvdW5kQ29udGVudEVsZW1lbnQ7CgoJCS8vIFJlc2V0IHRoZSBwcmlvciBiYWNrZ3JvdW5kIHN0YXRlIGluIGNhc2UgdGhpcyBpcyBub3QgdGhlCgkJLy8gaW5pdGlhbCBzeW5jCgkJc2xpZGUuY2xhc3NMaXN0LnJlbW92ZSggJ2hhcy1kYXJrLWJhY2tncm91bmQnICk7CgkJc2xpZGUuY2xhc3NMaXN0LnJlbW92ZSggJ2hhcy1saWdodC1iYWNrZ3JvdW5kJyApOwoKCQllbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSggJ2RhdGEtbG9hZGVkJyApOwoJCWVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCAnZGF0YS1iYWNrZ3JvdW5kLWhhc2gnICk7CgkJZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoICdkYXRhLWJhY2tncm91bmQtc2l6ZScgKTsKCQllbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSggJ2RhdGEtYmFja2dyb3VuZC10cmFuc2l0aW9uJyApOwoJCWVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7CgoJCWNvbnRlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRTaXplID0gJyc7CgkJY29udGVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9ICcnOwoJCWNvbnRlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICcnOwoJCWNvbnRlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICcnOwoJCWNvbnRlbnRFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnJzsKCQljb250ZW50RWxlbWVudC5pbm5lckhUTUwgPSAnJzsKCgkJdmFyIGRhdGEgPSB7CgkJCWJhY2tncm91bmQ6IHNsaWRlLmdldEF0dHJpYnV0ZSggJ2RhdGEtYmFja2dyb3VuZCcgKSwKCQkJYmFja2dyb3VuZFNpemU6IHNsaWRlLmdldEF0dHJpYnV0ZSggJ2RhdGEtYmFja2dyb3VuZC1zaXplJyApLAoJCQliYWNrZ3JvdW5kSW1hZ2U6IHNsaWRlLmdldEF0dHJpYnV0ZSggJ2RhdGEtYmFja2dyb3VuZC1pbWFnZScgKSwKCQkJYmFja2dyb3VuZFZpZGVvOiBzbGlkZS5nZXRBdHRyaWJ1dGUoICdkYXRhLWJhY2tncm91bmQtdmlkZW8nICksCgkJCWJhY2tncm91bmRJZnJhbWU6IHNsaWRlLmdldEF0dHJpYnV0ZSggJ2RhdGEtYmFja2dyb3VuZC1pZnJhbWUnICksCgkJCWJhY2tncm91bmRDb2xvcjogc2xpZGUuZ2V0QXR0cmlidXRlKCAnZGF0YS1iYWNrZ3JvdW5kLWNvbG9yJyApLAoJCQliYWNrZ3JvdW5kUmVwZWF0OiBzbGlkZS5nZXRBdHRyaWJ1dGUoICdkYXRhLWJhY2tncm91bmQtcmVwZWF0JyApLAoJCQliYWNrZ3JvdW5kUG9zaXRpb246IHNsaWRlLmdldEF0dHJpYnV0ZSggJ2RhdGEtYmFja2dyb3VuZC1wb3NpdGlvbicgKSwKCQkJYmFja2dyb3VuZFRyYW5zaXRpb246IHNsaWRlLmdldEF0dHJpYnV0ZSggJ2RhdGEtYmFja2dyb3VuZC10cmFuc2l0aW9uJyApLAoJCQliYWNrZ3JvdW5kT3BhY2l0eTogc2xpZGUuZ2V0QXR0cmlidXRlKCAnZGF0YS1iYWNrZ3JvdW5kLW9wYWNpdHknICkKCQl9OwoKCQlpZiggZGF0YS5iYWNrZ3JvdW5kICkgewoJCQkvLyBBdXRvLXdyYXAgaW1hZ2UgdXJscyBpbiB1cmwoLi4uKQoJCQlpZiggL14oaHR0cHxmaWxlfFwvXC8pL2dpLnRlc3QoIGRhdGEuYmFja2dyb3VuZCApIHx8IC9cLihzdmd8cG5nfGpwZ3xqcGVnfGdpZnxibXApKFs/I1xzXXwkKS9naS50ZXN0KCBkYXRhLmJhY2tncm91bmQgKSApIHsKCQkJCXNsaWRlLnNldEF0dHJpYnV0ZSggJ2RhdGEtYmFja2dyb3VuZC1pbWFnZScsIGRhdGEuYmFja2dyb3VuZCApOwoJCQl9CgkJCWVsc2UgewoJCQkJZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gZGF0YS5iYWNrZ3JvdW5kOwoJCQl9CgkJfQoKCQkvLyBDcmVhdGUgYSBoYXNoIGZvciB0aGlzIGNvbWJpbmF0aW9uIG9mIGJhY2tncm91bmQgc2V0dGluZ3MuCgkJLy8gVGhpcyBpcyB1c2VkIHRvIGRldGVybWluZSB3aGVuIHR3byBzbGlkZSBiYWNrZ3JvdW5kcyBhcmUKCQkvLyB0aGUgc2FtZS4KCQlpZiggZGF0YS5iYWNrZ3JvdW5kIHx8IGRhdGEuYmFja2dyb3VuZENvbG9yIHx8IGRhdGEuYmFja2dyb3VuZEltYWdlIHx8IGRhdGEuYmFja2dyb3VuZFZpZGVvIHx8IGRhdGEuYmFja2dyb3VuZElmcmFtZSApIHsKCQkJZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdkYXRhLWJhY2tncm91bmQtaGFzaCcsIGRhdGEuYmFja2dyb3VuZCArCgkJCQkJCQkJCQkJCQkJCWRhdGEuYmFja2dyb3VuZFNpemUgKwoJCQkJCQkJCQkJCQkJCQlkYXRhLmJhY2tncm91bmRJbWFnZSArCgkJCQkJCQkJCQkJCQkJCWRhdGEuYmFja2dyb3VuZFZpZGVvICsKCQkJCQkJCQkJCQkJCQkJZGF0YS5iYWNrZ3JvdW5kSWZyYW1lICsKCQkJCQkJCQkJCQkJCQkJZGF0YS5iYWNrZ3JvdW5kQ29sb3IgKwoJCQkJCQkJCQkJCQkJCQlkYXRhLmJhY2tncm91bmRSZXBlYXQgKwoJCQkJCQkJCQkJCQkJCQlkYXRhLmJhY2tncm91bmRQb3NpdGlvbiArCgkJCQkJCQkJCQkJCQkJCWRhdGEuYmFja2dyb3VuZFRyYW5zaXRpb24gKwoJCQkJCQkJCQkJCQkJCQlkYXRhLmJhY2tncm91bmRPcGFjaXR5ICk7CgkJfQoKCQkvLyBBZGRpdGlvbmFsIGFuZCBvcHRpb25hbCBiYWNrZ3JvdW5kIHByb3BlcnRpZXMKCQlpZiggZGF0YS5iYWNrZ3JvdW5kU2l6ZSApIGVsZW1lbnQuc2V0QXR0cmlidXRlKCAnZGF0YS1iYWNrZ3JvdW5kLXNpemUnLCBkYXRhLmJhY2tncm91bmRTaXplICk7CgkJaWYoIGRhdGEuYmFja2dyb3VuZENvbG9yICkgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBkYXRhLmJhY2tncm91bmRDb2xvcjsKCQlpZiggZGF0YS5iYWNrZ3JvdW5kVHJhbnNpdGlvbiApIGVsZW1lbnQuc2V0QXR0cmlidXRlKCAnZGF0YS1iYWNrZ3JvdW5kLXRyYW5zaXRpb24nLCBkYXRhLmJhY2tncm91bmRUcmFuc2l0aW9uICk7CgoJCS8vIEJhY2tncm91bmQgaW1hZ2Ugb3B0aW9ucyBhcmUgc2V0IG9uIHRoZSBjb250ZW50IHdyYXBwZXIKCQlpZiggZGF0YS5iYWNrZ3JvdW5kU2l6ZSApIGNvbnRlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRTaXplID0gZGF0YS5iYWNrZ3JvdW5kU2l6ZTsKCQlpZiggZGF0YS5iYWNrZ3JvdW5kUmVwZWF0ICkgY29udGVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFJlcGVhdCA9IGRhdGEuYmFja2dyb3VuZFJlcGVhdDsKCQlpZiggZGF0YS5iYWNrZ3JvdW5kUG9zaXRpb24gKSBjb250ZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBkYXRhLmJhY2tncm91bmRQb3NpdGlvbjsKCQlpZiggZGF0YS5iYWNrZ3JvdW5kT3BhY2l0eSApIGNvbnRlbnRFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSBkYXRhLmJhY2tncm91bmRPcGFjaXR5OwoKCQkvLyBJZiB0aGlzIHNsaWRlIGhhcyBhIGJhY2tncm91bmQgY29sb3IsIGFkZCBhIGNsYXNzIHRoYXQKCQkvLyBzaWduYWxzIGlmIGl0IGlzIGxpZ2h0IG9yIGRhcmsuIElmIHRoZSBzbGlkZSBoYXMgbm8gYmFja2dyb3VuZAoJCS8vIGNvbG9yLCBubyBjbGFzcyB3aWxsIGJlIHNldAoJCXZhciBjb21wdXRlZEJhY2tncm91bmRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtZW50ICk7CgkJaWYoIGNvbXB1dGVkQmFja2dyb3VuZFN0eWxlICYmIGNvbXB1dGVkQmFja2dyb3VuZFN0eWxlLmJhY2tncm91bmRDb2xvciApIHsKCQkJdmFyIHJnYiA9IGNvbG9yVG9SZ2IoIGNvbXB1dGVkQmFja2dyb3VuZFN0eWxlLmJhY2tncm91bmRDb2xvciApOwoKCQkJLy8gSWdub3JlIGZ1bGx5IHRyYW5zcGFyZW50IGJhY2tncm91bmRzLiBTb21lIGJyb3dzZXJzIHJldHVybgoJCQkvLyByZ2JhKDAsMCwwLDApIHdoZW4gcmVhZGluZyB0aGUgY29tcHV0ZWQgYmFja2dyb3VuZCBjb2xvciBvZgoJCQkvLyBhbiBlbGVtZW50IHdpdGggbm8gYmFja2dyb3VuZAoJCQlpZiggcmdiICYmIHJnYi5hICE9PSAwICkgewoJCQkJaWYoIGNvbG9yQnJpZ2h0bmVzcyggY29tcHV0ZWRCYWNrZ3JvdW5kU3R5bGUuYmFja2dyb3VuZENvbG9yICkgPCAxMjggKSB7CgkJCQkJc2xpZGUuY2xhc3NMaXN0LmFkZCggJ2hhcy1kYXJrLWJhY2tncm91bmQnICk7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQlzbGlkZS5jbGFzc0xpc3QuYWRkKCAnaGFzLWxpZ2h0LWJhY2tncm91bmQnICk7CgkJCQl9CgkJCX0KCQl9CgoJfQoKCS8qKgoJICogUmVnaXN0ZXJzIGEgbGlzdGVuZXIgdG8gcG9zdE1lc3NhZ2UgZXZlbnRzLCB0aGlzIG1ha2VzIGl0CgkgKiBwb3NzaWJsZSB0byBjYWxsIGFsbCByZXZlYWwuanMgQVBJIG1ldGhvZHMgZnJvbSBhbm90aGVyCgkgKiB3aW5kb3cuIEZvciBleGFtcGxlOgoJICoKCSAqIHJldmVhbFdpbmRvdy5wb3N0TWVzc2FnZSggSlNPTi5zdHJpbmdpZnkoewoJICogICBtZXRob2Q6ICdzbGlkZScsCgkgKiAgIGFyZ3M6IFsgMiBdCgkgKiB9KSwgJyonICk7CgkgKi8KCWZ1bmN0aW9uIHNldHVwUG9zdE1lc3NhZ2UoKSB7CgoJCWlmKCBjb25maWcucG9zdE1lc3NhZ2UgKSB7CgkJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAnbWVzc2FnZScsIGZ1bmN0aW9uICggZXZlbnQgKSB7CgkJCQl2YXIgZGF0YSA9IGV2ZW50LmRhdGE7CgoJCQkJLy8gTWFrZSBzdXJlIHdlJ3JlIGRlYWxpbmcgd2l0aCBKU09OCgkJCQlpZiggdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuY2hhckF0KCAwICkgPT09ICd7JyAmJiBkYXRhLmNoYXJBdCggZGF0YS5sZW5ndGggLSAxICkgPT09ICd9JyApIHsKCQkJCQlkYXRhID0gSlNPTi5wYXJzZSggZGF0YSApOwoKCQkJCQkvLyBDaGVjayBpZiB0aGUgcmVxdWVzdGVkIG1ldGhvZCBjYW4gYmUgZm91bmQKCQkJCQlpZiggZGF0YS5tZXRob2QgJiYgdHlwZW9mIFJldmVhbFtkYXRhLm1ldGhvZF0gPT09ICdmdW5jdGlvbicgKSB7CgkJCQkJCVJldmVhbFtkYXRhLm1ldGhvZF0uYXBwbHkoIFJldmVhbCwgZGF0YS5hcmdzICk7CgkJCQkJfQoJCQkJfQoJCQl9LCBmYWxzZSApOwoJCX0KCgl9CgoJLyoqCgkgKiBBcHBsaWVzIHRoZSBjb25maWd1cmF0aW9uIHNldHRpbmdzIGZyb20gdGhlIGNvbmZpZwoJICogb2JqZWN0LiBNYXkgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLgoJICoKCSAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zCgkgKi8KCWZ1bmN0aW9uIGNvbmZpZ3VyZSggb3B0aW9ucyApIHsKCgkJdmFyIG9sZFRyYW5zaXRpb24gPSBjb25maWcudHJhbnNpdGlvbjsKCgkJLy8gTmV3IGNvbmZpZyBvcHRpb25zIG1heSBiZSBwYXNzZWQgd2hlbiB0aGlzIG1ldGhvZAoJCS8vIGlzIGludm9rZWQgdGhyb3VnaCB0aGUgQVBJIGFmdGVyIGluaXRpYWxpemF0aW9uCgkJaWYoIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JyApIGV4dGVuZCggY29uZmlnLCBvcHRpb25zICk7CgoJCS8vIEFib3J0IGlmIHJldmVhbC5qcyBoYXNuJ3QgZmluaXNoZWQgbG9hZGluZywgY29uZmlnCgkJLy8gY2hhbmdlcyB3aWxsIGJlIGFwcGxpZWQgYXV0b21hdGljYWxseSBvbmNlIGxvYWRpbmcKCQkvLyBmaW5pc2hlcwoJCWlmKCBsb2FkZWQgPT09IGZhbHNlICkgcmV0dXJuOwoKCQl2YXIgbnVtYmVyT2ZTbGlkZXMgPSBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBTTElERVNfU0VMRUNUT1IgKS5sZW5ndGg7CgoJCS8vIFJlbW92ZSB0aGUgcHJldmlvdXNseSBjb25maWd1cmVkIHRyYW5zaXRpb24gY2xhc3MKCQlkb20ud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCBvbGRUcmFuc2l0aW9uICk7CgoJCS8vIEZvcmNlIGxpbmVhciB0cmFuc2l0aW9uIGJhc2VkIG9uIGJyb3dzZXIgY2FwYWJpbGl0aWVzCgkJaWYoIGZlYXR1cmVzLnRyYW5zZm9ybXMzZCA9PT0gZmFsc2UgKSBjb25maWcudHJhbnNpdGlvbiA9ICdsaW5lYXInOwoKCQlkb20ud3JhcHBlci5jbGFzc0xpc3QuYWRkKCBjb25maWcudHJhbnNpdGlvbiApOwoKCQlkb20ud3JhcHBlci5zZXRBdHRyaWJ1dGUoICdkYXRhLXRyYW5zaXRpb24tc3BlZWQnLCBjb25maWcudHJhbnNpdGlvblNwZWVkICk7CgkJZG9tLndyYXBwZXIuc2V0QXR0cmlidXRlKCAnZGF0YS1iYWNrZ3JvdW5kLXRyYW5zaXRpb24nLCBjb25maWcuYmFja2dyb3VuZFRyYW5zaXRpb24gKTsKCgkJZG9tLmNvbnRyb2xzLnN0eWxlLmRpc3BsYXkgPSBjb25maWcuY29udHJvbHMgPyAnYmxvY2snIDogJ25vbmUnOwoJCWRvbS5wcm9ncmVzcy5zdHlsZS5kaXNwbGF5ID0gY29uZmlnLnByb2dyZXNzID8gJ2Jsb2NrJyA6ICdub25lJzsKCgkJZG9tLmNvbnRyb2xzLnNldEF0dHJpYnV0ZSggJ2RhdGEtY29udHJvbHMtbGF5b3V0JywgY29uZmlnLmNvbnRyb2xzTGF5b3V0ICk7CgkJZG9tLmNvbnRyb2xzLnNldEF0dHJpYnV0ZSggJ2RhdGEtY29udHJvbHMtYmFjay1hcnJvd3MnLCBjb25maWcuY29udHJvbHNCYWNrQXJyb3dzICk7CgoJCWlmKCBjb25maWcuc2h1ZmZsZSApIHsKCQkJc2h1ZmZsZSgpOwoJCX0KCgkJaWYoIGNvbmZpZy5ydGwgKSB7CgkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5hZGQoICdydGwnICk7CgkJfQoJCWVsc2UgewoJCQlkb20ud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCAncnRsJyApOwoJCX0KCgkJaWYoIGNvbmZpZy5jZW50ZXIgKSB7CgkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5hZGQoICdjZW50ZXInICk7CgkJfQoJCWVsc2UgewoJCQlkb20ud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCAnY2VudGVyJyApOwoJCX0KCgkJLy8gRXhpdCB0aGUgcGF1c2VkIG1vZGUgaWYgaXQgd2FzIGNvbmZpZ3VyZWQgb2ZmCgkJaWYoIGNvbmZpZy5wYXVzZSA9PT0gZmFsc2UgKSB7CgkJCXJlc3VtZSgpOwoJCX0KCgkJaWYoIGNvbmZpZy5zaG93Tm90ZXMgKSB7CgkJCWRvbS5zcGVha2VyTm90ZXMuc2V0QXR0cmlidXRlKCAnZGF0YS1sYXlvdXQnLCB0eXBlb2YgY29uZmlnLnNob3dOb3RlcyA9PT0gJ3N0cmluZycgPyBjb25maWcuc2hvd05vdGVzIDogJ2lubGluZScgKTsKCQl9CgoJCWlmKCBjb25maWcubW91c2VXaGVlbCApIHsKCQkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ0RPTU1vdXNlU2Nyb2xsJywgb25Eb2N1bWVudE1vdXNlU2Nyb2xsLCBmYWxzZSApOyAvLyBGRgoJCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnbW91c2V3aGVlbCcsIG9uRG9jdW1lbnRNb3VzZVNjcm9sbCwgZmFsc2UgKTsKCQl9CgkJZWxzZSB7CgkJCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdET01Nb3VzZVNjcm9sbCcsIG9uRG9jdW1lbnRNb3VzZVNjcm9sbCwgZmFsc2UgKTsgLy8gRkYKCQkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNld2hlZWwnLCBvbkRvY3VtZW50TW91c2VTY3JvbGwsIGZhbHNlICk7CgkJfQoKCQkvLyBSb2xsaW5nIDNEIGxpbmtzCgkJaWYoIGNvbmZpZy5yb2xsaW5nTGlua3MgKSB7CgkJCWVuYWJsZVJvbGxpbmdMaW5rcygpOwoJCX0KCQllbHNlIHsKCQkJZGlzYWJsZVJvbGxpbmdMaW5rcygpOwoJCX0KCgkJLy8gSWZyYW1lIGxpbmsgcHJldmlld3MKCQlpZiggY29uZmlnLnByZXZpZXdMaW5rcyApIHsKCQkJZW5hYmxlUHJldmlld0xpbmtzKCk7CgkJCWRpc2FibGVQcmV2aWV3TGlua3MoICdbZGF0YS1wcmV2aWV3LWxpbms9ZmFsc2VdJyApOwoJCX0KCQllbHNlIHsKCQkJZGlzYWJsZVByZXZpZXdMaW5rcygpOwoJCQllbmFibGVQcmV2aWV3TGlua3MoICdbZGF0YS1wcmV2aWV3LWxpbmtdOm5vdChbZGF0YS1wcmV2aWV3LWxpbms9ZmFsc2VdKScgKTsKCQl9CgoJCS8vIFJlbW92ZSBleGlzdGluZyBhdXRvLXNsaWRlIGNvbnRyb2xzCgkJaWYoIGF1dG9TbGlkZVBsYXllciApIHsKCQkJYXV0b1NsaWRlUGxheWVyLmRlc3Ryb3koKTsKCQkJYXV0b1NsaWRlUGxheWVyID0gbnVsbDsKCQl9CgoJCS8vIEdlbmVyYXRlIGF1dG8tc2xpZGUgY29udHJvbHMgaWYgbmVlZGVkCgkJaWYoIG51bWJlck9mU2xpZGVzID4gMSAmJiBjb25maWcuYXV0b1NsaWRlICYmIGNvbmZpZy5hdXRvU2xpZGVTdG9wcGFibGUgJiYgZmVhdHVyZXMuY2FudmFzICYmIGZlYXR1cmVzLnJlcXVlc3RBbmltYXRpb25GcmFtZSApIHsKCQkJYXV0b1NsaWRlUGxheWVyID0gbmV3IFBsYXliYWNrKCBkb20ud3JhcHBlciwgZnVuY3Rpb24oKSB7CgkJCQlyZXR1cm4gTWF0aC5taW4oIE1hdGgubWF4KCAoIERhdGUubm93KCkgLSBhdXRvU2xpZGVTdGFydFRpbWUgKSAvIGF1dG9TbGlkZSwgMCApLCAxICk7CgkJCX0gKTsKCgkJCWF1dG9TbGlkZVBsYXllci5vbiggJ2NsaWNrJywgb25BdXRvU2xpZGVQbGF5ZXJDbGljayApOwoJCQlhdXRvU2xpZGVQYXVzZWQgPSBmYWxzZTsKCQl9CgoJCS8vIFdoZW4gZnJhZ21lbnRzIGFyZSB0dXJuZWQgb2ZmIHRoZXkgc2hvdWxkIGJlIHZpc2libGUKCQlpZiggY29uZmlnLmZyYWdtZW50cyA9PT0gZmFsc2UgKSB7CgkJCXRvQXJyYXkoIGRvbS5zbGlkZXMucXVlcnlTZWxlY3RvckFsbCggJy5mcmFnbWVudCcgKSApLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtZW50ICkgewoJCQkJZWxlbWVudC5jbGFzc0xpc3QuYWRkKCAndmlzaWJsZScgKTsKCQkJCWVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ2N1cnJlbnQtZnJhZ21lbnQnICk7CgkJCX0gKTsKCQl9CgoJCS8vIFNsaWRlIG51bWJlcnMKCQl2YXIgc2xpZGVOdW1iZXJEaXNwbGF5ID0gJ25vbmUnOwoJCWlmKCBjb25maWcuc2xpZGVOdW1iZXIgJiYgIWlzUHJpbnRpbmdQREYoKSApIHsKCQkJaWYoIGNvbmZpZy5zaG93U2xpZGVOdW1iZXIgPT09ICdhbGwnICkgewoJCQkJc2xpZGVOdW1iZXJEaXNwbGF5ID0gJ2Jsb2NrJzsKCQkJfQoJCQllbHNlIGlmKCBjb25maWcuc2hvd1NsaWRlTnVtYmVyID09PSAnc3BlYWtlcicgJiYgaXNTcGVha2VyTm90ZXMoKSApIHsKCQkJCXNsaWRlTnVtYmVyRGlzcGxheSA9ICdibG9jayc7CgkJCX0KCQl9CgoJCWRvbS5zbGlkZU51bWJlci5zdHlsZS5kaXNwbGF5ID0gc2xpZGVOdW1iZXJEaXNwbGF5OwoKCQlzeW5jKCk7CgoJfQoKCS8qKgoJICogQmluZHMgYWxsIGV2ZW50IGxpc3RlbmVycy4KCSAqLwoJZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoKSB7CgoJCWV2ZW50c0FyZUJvdW5kID0gdHJ1ZTsKCgkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdoYXNoY2hhbmdlJywgb25XaW5kb3dIYXNoQ2hhbmdlLCBmYWxzZSApOwoJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgb25XaW5kb3dSZXNpemUsIGZhbHNlICk7CgoJCWlmKCBjb25maWcudG91Y2ggKSB7CgkJCWlmKCAnb25wb2ludGVyZG93bicgaW4gd2luZG93ICkgewoJCQkJLy8gVXNlIFczQyBwb2ludGVyIGV2ZW50cwoJCQkJZG9tLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJkb3duJywgb25Qb2ludGVyRG93biwgZmFsc2UgKTsKCQkJCWRvbS53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUsIGZhbHNlICk7CgkJCQlkb20ud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCAncG9pbnRlcnVwJywgb25Qb2ludGVyVXAsIGZhbHNlICk7CgkJCX0KCQkJZWxzZSBpZiggd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkICkgewoJCQkJLy8gSUUgMTAgdXNlcyBwcmVmaXhlZCB2ZXJzaW9uIG9mIHBvaW50ZXIgZXZlbnRzCgkJCQlkb20ud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCAnTVNQb2ludGVyRG93bicsIG9uUG9pbnRlckRvd24sIGZhbHNlICk7CgkJCQlkb20ud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCAnTVNQb2ludGVyTW92ZScsIG9uUG9pbnRlck1vdmUsIGZhbHNlICk7CgkJCQlkb20ud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCAnTVNQb2ludGVyVXAnLCBvblBvaW50ZXJVcCwgZmFsc2UgKTsKCQkJfQoJCQllbHNlIHsKCQkJCS8vIEZhbGwgYmFjayB0byB0b3VjaCBldmVudHMKCQkJCWRvbS53cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCBmYWxzZSApOwoJCQkJZG9tLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlLCBmYWxzZSApOwoJCQkJZG9tLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCwgZmFsc2UgKTsKCQkJfQoJCX0KCgkJaWYoIGNvbmZpZy5rZXlib2FyZCApIHsKCQkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBvbkRvY3VtZW50S2V5RG93biwgZmFsc2UgKTsKCQkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2tleXByZXNzJywgb25Eb2N1bWVudEtleVByZXNzLCBmYWxzZSApOwoJCX0KCgkJaWYoIGNvbmZpZy5wcm9ncmVzcyAmJiBkb20ucHJvZ3Jlc3MgKSB7CgkJCWRvbS5wcm9ncmVzcy5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBvblByb2dyZXNzQ2xpY2tlZCwgZmFsc2UgKTsKCQl9CgoJCWRvbS5yZXN1bWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgcmVzdW1lLCBmYWxzZSApOwoKCQlpZiggY29uZmlnLmZvY3VzQm9keU9uUGFnZVZpc2liaWxpdHlDaGFuZ2UgKSB7CgkJCXZhciB2aXNpYmlsaXR5Q2hhbmdlOwoKCQkJaWYoICdoaWRkZW4nIGluIGRvY3VtZW50ICkgewoJCQkJdmlzaWJpbGl0eUNoYW5nZSA9ICd2aXNpYmlsaXR5Y2hhbmdlJzsKCQkJfQoJCQllbHNlIGlmKCAnbXNIaWRkZW4nIGluIGRvY3VtZW50ICkgewoJCQkJdmlzaWJpbGl0eUNoYW5nZSA9ICdtc3Zpc2liaWxpdHljaGFuZ2UnOwoJCQl9CgkJCWVsc2UgaWYoICd3ZWJraXRIaWRkZW4nIGluIGRvY3VtZW50ICkgewoJCQkJdmlzaWJpbGl0eUNoYW5nZSA9ICd3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlJzsKCQkJfQoKCQkJaWYoIHZpc2liaWxpdHlDaGFuZ2UgKSB7CgkJCQlkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCB2aXNpYmlsaXR5Q2hhbmdlLCBvblBhZ2VWaXNpYmlsaXR5Q2hhbmdlLCBmYWxzZSApOwoJCQl9CgkJfQoKCQkvLyBMaXN0ZW4gdG8gYm90aCB0b3VjaCBhbmQgY2xpY2sgZXZlbnRzLCBpbiBjYXNlIHRoZSBkZXZpY2UKCQkvLyBzdXBwb3J0cyBib3RoCgkJdmFyIHBvaW50ZXJFdmVudHMgPSBbICd0b3VjaHN0YXJ0JywgJ2NsaWNrJyBdOwoKCQkvLyBPbmx5IHN1cHBvcnQgdG91Y2ggZm9yIEFuZHJvaWQsIGZpeGVzIGRvdWJsZSBuYXZpZ2F0aW9ucyBpbgoJCS8vIHN0b2NrIGJyb3dzZXIKCQlpZiggVUEubWF0Y2goIC9hbmRyb2lkL2dpICkgKSB7CgkJCXBvaW50ZXJFdmVudHMgPSBbICd0b3VjaHN0YXJ0JyBdOwoJCX0KCgkJcG9pbnRlckV2ZW50cy5mb3JFYWNoKCBmdW5jdGlvbiggZXZlbnROYW1lICkgewoJCQlkb20uY29udHJvbHNMZWZ0LmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsgZWwuYWRkRXZlbnRMaXN0ZW5lciggZXZlbnROYW1lLCBvbk5hdmlnYXRlTGVmdENsaWNrZWQsIGZhbHNlICk7IH0gKTsKCQkJZG9tLmNvbnRyb2xzUmlnaHQuZm9yRWFjaCggZnVuY3Rpb24oIGVsICkgeyBlbC5hZGRFdmVudExpc3RlbmVyKCBldmVudE5hbWUsIG9uTmF2aWdhdGVSaWdodENsaWNrZWQsIGZhbHNlICk7IH0gKTsKCQkJZG9tLmNvbnRyb2xzVXAuZm9yRWFjaCggZnVuY3Rpb24oIGVsICkgeyBlbC5hZGRFdmVudExpc3RlbmVyKCBldmVudE5hbWUsIG9uTmF2aWdhdGVVcENsaWNrZWQsIGZhbHNlICk7IH0gKTsKCQkJZG9tLmNvbnRyb2xzRG93bi5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7IGVsLmFkZEV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgb25OYXZpZ2F0ZURvd25DbGlja2VkLCBmYWxzZSApOyB9ICk7CgkJCWRvbS5jb250cm9sc1ByZXYuZm9yRWFjaCggZnVuY3Rpb24oIGVsICkgeyBlbC5hZGRFdmVudExpc3RlbmVyKCBldmVudE5hbWUsIG9uTmF2aWdhdGVQcmV2Q2xpY2tlZCwgZmFsc2UgKTsgfSApOwoJCQlkb20uY29udHJvbHNOZXh0LmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsgZWwuYWRkRXZlbnRMaXN0ZW5lciggZXZlbnROYW1lLCBvbk5hdmlnYXRlTmV4dENsaWNrZWQsIGZhbHNlICk7IH0gKTsKCQl9ICk7CgoJfQoKCS8qKgoJICogVW5iaW5kcyBhbGwgZXZlbnQgbGlzdGVuZXJzLgoJICovCglmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycygpIHsKCgkJZXZlbnRzQXJlQm91bmQgPSBmYWxzZTsKCgkJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBvbkRvY3VtZW50S2V5RG93biwgZmFsc2UgKTsKCQlkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAna2V5cHJlc3MnLCBvbkRvY3VtZW50S2V5UHJlc3MsIGZhbHNlICk7CgkJd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdoYXNoY2hhbmdlJywgb25XaW5kb3dIYXNoQ2hhbmdlLCBmYWxzZSApOwoJCXdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAncmVzaXplJywgb25XaW5kb3dSZXNpemUsIGZhbHNlICk7CgoJCWRvbS53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdwb2ludGVyZG93bicsIG9uUG9pbnRlckRvd24sIGZhbHNlICk7CgkJZG9tLndyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSwgZmFsc2UgKTsKCQlkb20ud3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKCAncG9pbnRlcnVwJywgb25Qb2ludGVyVXAsIGZhbHNlICk7CgoJCWRvbS53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdNU1BvaW50ZXJEb3duJywgb25Qb2ludGVyRG93biwgZmFsc2UgKTsKCQlkb20ud3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKCAnTVNQb2ludGVyTW92ZScsIG9uUG9pbnRlck1vdmUsIGZhbHNlICk7CgkJZG9tLndyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ01TUG9pbnRlclVwJywgb25Qb2ludGVyVXAsIGZhbHNlICk7CgoJCWRvbS53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoICd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCBmYWxzZSApOwoJCWRvbS53cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoICd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgZmFsc2UgKTsKCQlkb20ud3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2hlbmQnLCBvblRvdWNoRW5kLCBmYWxzZSApOwoKCQlkb20ucmVzdW1lQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdjbGljaycsIHJlc3VtZSwgZmFsc2UgKTsKCgkJaWYgKCBjb25maWcucHJvZ3Jlc3MgJiYgZG9tLnByb2dyZXNzICkgewoJCQlkb20ucHJvZ3Jlc3MucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgb25Qcm9ncmVzc0NsaWNrZWQsIGZhbHNlICk7CgkJfQoKCQlbICd0b3VjaHN0YXJ0JywgJ2NsaWNrJyBdLmZvckVhY2goIGZ1bmN0aW9uKCBldmVudE5hbWUgKSB7CgkJCWRvbS5jb250cm9sc0xlZnQuZm9yRWFjaCggZnVuY3Rpb24oIGVsICkgeyBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCBldmVudE5hbWUsIG9uTmF2aWdhdGVMZWZ0Q2xpY2tlZCwgZmFsc2UgKTsgfSApOwoJCQlkb20uY29udHJvbHNSaWdodC5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgb25OYXZpZ2F0ZVJpZ2h0Q2xpY2tlZCwgZmFsc2UgKTsgfSApOwoJCQlkb20uY29udHJvbHNVcC5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgb25OYXZpZ2F0ZVVwQ2xpY2tlZCwgZmFsc2UgKTsgfSApOwoJCQlkb20uY29udHJvbHNEb3duLmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lciggZXZlbnROYW1lLCBvbk5hdmlnYXRlRG93bkNsaWNrZWQsIGZhbHNlICk7IH0gKTsKCQkJZG9tLmNvbnRyb2xzUHJldi5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgb25OYXZpZ2F0ZVByZXZDbGlja2VkLCBmYWxzZSApOyB9ICk7CgkJCWRvbS5jb250cm9sc05leHQuZm9yRWFjaCggZnVuY3Rpb24oIGVsICkgeyBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCBldmVudE5hbWUsIG9uTmF2aWdhdGVOZXh0Q2xpY2tlZCwgZmFsc2UgKTsgfSApOwoJCX0gKTsKCgl9CgoJLyoqCgkgKiBBZGQgYSBjdXN0b20ga2V5IGJpbmRpbmcgd2l0aCBvcHRpb25hbCBkZXNjcmlwdGlvbiB0bwoJICogYmUgYWRkZWQgdG8gdGhlIGhlbHAgc2NyZWVuLgoJICovCglmdW5jdGlvbiBhZGRLZXlCaW5kaW5nKCBiaW5kaW5nLCBjYWxsYmFjayApIHsKCgkJaWYoIHR5cGVvZiBiaW5kaW5nID09PSAnb2JqZWN0JyAmJiBiaW5kaW5nLmtleUNvZGUgKSB7CgkJCXJlZ2lzdGVyZWRLZXlCaW5kaW5nc1tiaW5kaW5nLmtleUNvZGVdID0gewoJCQkJY2FsbGJhY2s6IGNhbGxiYWNrLAoJCQkJa2V5OiBiaW5kaW5nLmtleSwKCQkJCWRlc2NyaXB0aW9uOiBiaW5kaW5nLmRlc2NyaXB0aW9uCgkJCX07CgkJfQoJCWVsc2UgewoJCQlyZWdpc3RlcmVkS2V5QmluZGluZ3NbYmluZGluZ10gPSB7CgkJCQljYWxsYmFjazogY2FsbGJhY2ssCgkJCQlrZXk6IG51bGwsCgkJCQlkZXNjcmlwdGlvbjogbnVsbAoJCQl9OwoJCX0KCgl9CgoJLyoqCgkgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgY3VzdG9tIGtleSBiaW5kaW5nLgoJICovCglmdW5jdGlvbiByZW1vdmVLZXlCaW5kaW5nKCBrZXlDb2RlICkgewoKCQlkZWxldGUgcmVnaXN0ZXJlZEtleUJpbmRpbmdzW2tleUNvZGVdOwoKCX0KCgkvKioKCSAqIEV4dGVuZCBvYmplY3QgYSB3aXRoIHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLgoJICogSWYgdGhlcmUncyBhIGNvbmZsaWN0LCBvYmplY3QgYiB0YWtlcyBwcmVjZWRlbmNlLgoJICoKCSAqIEBwYXJhbSB7b2JqZWN0fSBhCgkgKiBAcGFyYW0ge29iamVjdH0gYgoJICovCglmdW5jdGlvbiBleHRlbmQoIGEsIGIgKSB7CgoJCWZvciggdmFyIGkgaW4gYiApIHsKCQkJYVsgaSBdID0gYlsgaSBdOwoJCX0KCgkJcmV0dXJuIGE7CgoJfQoKCS8qKgoJICogQ29udmVydHMgdGhlIHRhcmdldCBvYmplY3QgdG8gYW4gYXJyYXkuCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IG8KCSAqIEByZXR1cm4ge29iamVjdFtdfQoJICovCglmdW5jdGlvbiB0b0FycmF5KCBvICkgewoKCQlyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIG8gKTsKCgl9CgoJLyoqCgkgKiBVdGlsaXR5IGZvciBkZXNlcmlhbGl6aW5nIGEgdmFsdWUuCgkgKgoJICogQHBhcmFtIHsqfSB2YWx1ZQoJICogQHJldHVybiB7Kn0KCSAqLwoJZnVuY3Rpb24gZGVzZXJpYWxpemUoIHZhbHVlICkgewoKCQlpZiggdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyApIHsKCQkJaWYoIHZhbHVlID09PSAnbnVsbCcgKSByZXR1cm4gbnVsbDsKCQkJZWxzZSBpZiggdmFsdWUgPT09ICd0cnVlJyApIHJldHVybiB0cnVlOwoJCQllbHNlIGlmKCB2YWx1ZSA9PT0gJ2ZhbHNlJyApIHJldHVybiBmYWxzZTsKCQkJZWxzZSBpZiggdmFsdWUubWF0Y2goIC9eLT9bXGRcLl0rJC8gKSApIHJldHVybiBwYXJzZUZsb2F0KCB2YWx1ZSApOwoJCX0KCgkJcmV0dXJuIHZhbHVlOwoKCX0KCgkvKioKCSAqIE1lYXN1cmVzIHRoZSBkaXN0YW5jZSBpbiBwaXhlbHMgYmV0d2VlbiBwb2ludCBhCgkgKiBhbmQgcG9pbnQgYi4KCSAqCgkgKiBAcGFyYW0ge29iamVjdH0gYSBwb2ludCB3aXRoIHgveSBwcm9wZXJ0aWVzCgkgKiBAcGFyYW0ge29iamVjdH0gYiBwb2ludCB3aXRoIHgveSBwcm9wZXJ0aWVzCgkgKgoJICogQHJldHVybiB7bnVtYmVyfQoJICovCglmdW5jdGlvbiBkaXN0YW5jZUJldHdlZW4oIGEsIGIgKSB7CgoJCXZhciBkeCA9IGEueCAtIGIueCwKCQkJZHkgPSBhLnkgLSBiLnk7CgoJCXJldHVybiBNYXRoLnNxcnQoIGR4KmR4ICsgZHkqZHkgKTsKCgl9CgoJLyoqCgkgKiBBcHBsaWVzIGEgQ1NTIHRyYW5zZm9ybSB0byB0aGUgdGFyZ2V0IGVsZW1lbnQuCgkgKgoJICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudAoJICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zZm9ybQoJICovCglmdW5jdGlvbiB0cmFuc2Zvcm1FbGVtZW50KCBlbGVtZW50LCB0cmFuc2Zvcm0gKSB7CgoJCWVsZW1lbnQuc3R5bGUuV2Via2l0VHJhbnNmb3JtID0gdHJhbnNmb3JtOwoJCWVsZW1lbnQuc3R5bGUuTW96VHJhbnNmb3JtID0gdHJhbnNmb3JtOwoJCWVsZW1lbnQuc3R5bGUubXNUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07CgkJZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07CgoJfQoKCS8qKgoJICogQXBwbGllcyBDU1MgdHJhbnNmb3JtcyB0byB0aGUgc2xpZGVzIGNvbnRhaW5lci4gVGhlIGNvbnRhaW5lcgoJICogaXMgdHJhbnNmb3JtZWQgZnJvbSB0d28gc2VwYXJhdGUgc291cmNlczogbGF5b3V0IGFuZCB0aGUgb3ZlcnZpZXcKCSAqIG1vZGUuCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IHRyYW5zZm9ybXMKCSAqLwoJZnVuY3Rpb24gdHJhbnNmb3JtU2xpZGVzKCB0cmFuc2Zvcm1zICkgewoKCQkvLyBQaWNrIHVwIG5ldyB0cmFuc2Zvcm1zIGZyb20gYXJndW1lbnRzCgkJaWYoIHR5cGVvZiB0cmFuc2Zvcm1zLmxheW91dCA9PT0gJ3N0cmluZycgKSBzbGlkZXNUcmFuc2Zvcm0ubGF5b3V0ID0gdHJhbnNmb3Jtcy5sYXlvdXQ7CgkJaWYoIHR5cGVvZiB0cmFuc2Zvcm1zLm92ZXJ2aWV3ID09PSAnc3RyaW5nJyApIHNsaWRlc1RyYW5zZm9ybS5vdmVydmlldyA9IHRyYW5zZm9ybXMub3ZlcnZpZXc7CgoJCS8vIEFwcGx5IHRoZSB0cmFuc2Zvcm1zIHRvIHRoZSBzbGlkZXMgY29udGFpbmVyCgkJaWYoIHNsaWRlc1RyYW5zZm9ybS5sYXlvdXQgKSB7CgkJCXRyYW5zZm9ybUVsZW1lbnQoIGRvbS5zbGlkZXMsIHNsaWRlc1RyYW5zZm9ybS5sYXlvdXQgKyAnICcgKyBzbGlkZXNUcmFuc2Zvcm0ub3ZlcnZpZXcgKTsKCQl9CgkJZWxzZSB7CgkJCXRyYW5zZm9ybUVsZW1lbnQoIGRvbS5zbGlkZXMsIHNsaWRlc1RyYW5zZm9ybS5vdmVydmlldyApOwoJCX0KCgl9CgoJLyoqCgkgKiBJbmplY3RzIHRoZSBnaXZlbiBDU1Mgc3R5bGVzIGludG8gdGhlIERPTS4KCSAqCgkgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUKCSAqLwoJZnVuY3Rpb24gaW5qZWN0U3R5bGVTaGVldCggdmFsdWUgKSB7CgoJCXZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnc3R5bGUnICk7CgkJdGFnLnR5cGUgPSAndGV4dC9jc3MnOwoJCWlmKCB0YWcuc3R5bGVTaGVldCApIHsKCQkJdGFnLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHZhbHVlOwoJCX0KCQllbHNlIHsKCQkJdGFnLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSggdmFsdWUgKSApOwoJCX0KCQlkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggJ2hlYWQnIClbMF0uYXBwZW5kQ2hpbGQoIHRhZyApOwoKCX0KCgkvKioKCSAqIEZpbmQgdGhlIGNsb3Nlc3QgcGFyZW50IHRoYXQgbWF0Y2hlcyB0aGUgZ2l2ZW4KCSAqIHNlbGVjdG9yLgoJICoKCSAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCBUaGUgY2hpbGQgZWxlbWVudAoJICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIFRoZSBDU1Mgc2VsZWN0b3IgdG8gbWF0Y2gKCSAqIHRoZSBwYXJlbnRzIGFnYWluc3QKCSAqCgkgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIG1hdGNoZWQgcGFyZW50IG9yIG51bGwKCSAqIGlmIG5vIG1hdGNoaW5nIHBhcmVudCB3YXMgZm91bmQKCSAqLwoJZnVuY3Rpb24gY2xvc2VzdFBhcmVudCggdGFyZ2V0LCBzZWxlY3RvciApIHsKCgkJdmFyIHBhcmVudCA9IHRhcmdldC5wYXJlbnROb2RlOwoKCQl3aGlsZSggcGFyZW50ICkgewoKCQkJLy8gVGhlcmUncyBzb21lIG92ZXJoZWFkIGRvaW5nIHRoaXMgZWFjaCB0aW1lLCB3ZSBkb24ndAoJCQkvLyB3YW50IHRvIHJld3JpdGUgdGhlIGVsZW1lbnQgcHJvdG90eXBlIGJ1dCBzaG91bGQgc3RpbGwKCQkJLy8gYmUgZW5vdWdoIHRvIGZlYXR1cmUgZGV0ZWN0IG9uY2UgYXQgc3RhcnR1cC4uLgoJCQl2YXIgbWF0Y2hlc01ldGhvZCA9IHBhcmVudC5tYXRjaGVzIHx8IHBhcmVudC5tYXRjaGVzU2VsZWN0b3IgfHwgcGFyZW50Lm1zTWF0Y2hlc1NlbGVjdG9yOwoKCQkJLy8gSWYgd2UgZmluZCBhIG1hdGNoLCB3ZSdyZSBhbGwgc2V0CgkJCWlmKCBtYXRjaGVzTWV0aG9kICYmIG1hdGNoZXNNZXRob2QuY2FsbCggcGFyZW50LCBzZWxlY3RvciApICkgewoJCQkJcmV0dXJuIHBhcmVudDsKCQkJfQoKCQkJLy8gS2VlcCBzZWFyY2hpbmcKCQkJcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7CgoJCX0KCgkJcmV0dXJuIG51bGw7CgoJfQoKCS8qKgoJICogQ29udmVydHMgdmFyaW91cyBjb2xvciBpbnB1dCBmb3JtYXRzIHRvIGFuIHtyOjAsZzowLGI6MH0gb2JqZWN0LgoJICoKCSAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciBUaGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgY29sb3IKCSAqIEBleGFtcGxlCgkgKiBjb2xvclRvUmdiKCcjMDAwJyk7CgkgKiBAZXhhbXBsZQoJICogY29sb3JUb1JnYignIzAwMDAwMCcpOwoJICogQGV4YW1wbGUKCSAqIGNvbG9yVG9SZ2IoJ3JnYigwLDAsMCknKTsKCSAqIEBleGFtcGxlCgkgKiBjb2xvclRvUmdiKCdyZ2JhKDAsMCwwKScpOwoJICoKCSAqIEByZXR1cm4ge3tyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyLCBbYV06IG51bWJlcn18bnVsbH0KCSAqLwoJZnVuY3Rpb24gY29sb3JUb1JnYiggY29sb3IgKSB7CgoJCXZhciBoZXgzID0gY29sb3IubWF0Y2goIC9eIyhbMC05YS1mXXszfSkkL2kgKTsKCQlpZiggaGV4MyAmJiBoZXgzWzFdICkgewoJCQloZXgzID0gaGV4M1sxXTsKCQkJcmV0dXJuIHsKCQkJCXI6IHBhcnNlSW50KCBoZXgzLmNoYXJBdCggMCApLCAxNiApICogMHgxMSwKCQkJCWc6IHBhcnNlSW50KCBoZXgzLmNoYXJBdCggMSApLCAxNiApICogMHgxMSwKCQkJCWI6IHBhcnNlSW50KCBoZXgzLmNoYXJBdCggMiApLCAxNiApICogMHgxMQoJCQl9OwoJCX0KCgkJdmFyIGhleDYgPSBjb2xvci5tYXRjaCggL14jKFswLTlhLWZdezZ9KSQvaSApOwoJCWlmKCBoZXg2ICYmIGhleDZbMV0gKSB7CgkJCWhleDYgPSBoZXg2WzFdOwoJCQlyZXR1cm4gewoJCQkJcjogcGFyc2VJbnQoIGhleDYuc3Vic3RyKCAwLCAyICksIDE2ICksCgkJCQlnOiBwYXJzZUludCggaGV4Ni5zdWJzdHIoIDIsIDIgKSwgMTYgKSwKCQkJCWI6IHBhcnNlSW50KCBoZXg2LnN1YnN0ciggNCwgMiApLCAxNiApCgkJCX07CgkJfQoKCQl2YXIgcmdiID0gY29sb3IubWF0Y2goIC9ecmdiXHMqXChccyooXGQrKVxzKixccyooXGQrKVxzKixccyooXGQrKVxzKlwpJC9pICk7CgkJaWYoIHJnYiApIHsKCQkJcmV0dXJuIHsKCQkJCXI6IHBhcnNlSW50KCByZ2JbMV0sIDEwICksCgkJCQlnOiBwYXJzZUludCggcmdiWzJdLCAxMCApLAoJCQkJYjogcGFyc2VJbnQoIHJnYlszXSwgMTAgKQoJCQl9OwoJCX0KCgkJdmFyIHJnYmEgPSBjb2xvci5tYXRjaCggL15yZ2JhXHMqXChccyooXGQrKVxzKixccyooXGQrKVxzKixccyooXGQrKVxzKlwsXHMqKFtcZF0rfFtcZF0qLltcZF0rKVxzKlwpJC9pICk7CgkJaWYoIHJnYmEgKSB7CgkJCXJldHVybiB7CgkJCQlyOiBwYXJzZUludCggcmdiYVsxXSwgMTAgKSwKCQkJCWc6IHBhcnNlSW50KCByZ2JhWzJdLCAxMCApLAoJCQkJYjogcGFyc2VJbnQoIHJnYmFbM10sIDEwICksCgkJCQlhOiBwYXJzZUZsb2F0KCByZ2JhWzRdICkKCQkJfTsKCQl9CgoJCXJldHVybiBudWxsOwoKCX0KCgkvKioKCSAqIENhbGN1bGF0ZXMgYnJpZ2h0bmVzcyBvbiBhIHNjYWxlIG9mIDAtMjU1LgoJICoKCSAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciBTZWUgY29sb3JUb1JnYiBmb3Igc3VwcG9ydGVkIGZvcm1hdHMuCgkgKiBAc2VlIHtAbGluayBjb2xvclRvUmdifQoJICovCglmdW5jdGlvbiBjb2xvckJyaWdodG5lc3MoIGNvbG9yICkgewoKCQlpZiggdHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJyApIGNvbG9yID0gY29sb3JUb1JnYiggY29sb3IgKTsKCgkJaWYoIGNvbG9yICkgewoJCQlyZXR1cm4gKCBjb2xvci5yICogMjk5ICsgY29sb3IuZyAqIDU4NyArIGNvbG9yLmIgKiAxMTQgKSAvIDEwMDA7CgkJfQoKCQlyZXR1cm4gbnVsbDsKCgl9CgoJLyoqCgkgKiBSZXR1cm5zIHRoZSByZW1haW5pbmcgaGVpZ2h0IHdpdGhpbiB0aGUgcGFyZW50IG9mIHRoZQoJICogdGFyZ2V0IGVsZW1lbnQuCgkgKgoJICogcmVtYWluaW5nIGhlaWdodCA9IFsgY29uZmlndXJlZCBwYXJlbnQgaGVpZ2h0IF0gLSBbIGN1cnJlbnQgcGFyZW50IGhlaWdodCBdCgkgKgoJICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudAoJICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHRdCgkgKi8KCWZ1bmN0aW9uIGdldFJlbWFpbmluZ0hlaWdodCggZWxlbWVudCwgaGVpZ2h0ICkgewoKCQloZWlnaHQgPSBoZWlnaHQgfHwgMDsKCgkJaWYoIGVsZW1lbnQgKSB7CgkJCXZhciBuZXdIZWlnaHQsIG9sZEhlaWdodCA9IGVsZW1lbnQuc3R5bGUuaGVpZ2h0OwoKCQkJLy8gQ2hhbmdlIHRoZSAuc3RyZXRjaCBlbGVtZW50IGhlaWdodCB0byAwIGluIG9yZGVyIGZpbmQgdGhlIGhlaWdodCBvZiBhbGwKCQkJLy8gdGhlIG90aGVyIGVsZW1lbnRzCgkJCWVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzBweCc7CgkJCW5ld0hlaWdodCA9IGhlaWdodCAtIGVsZW1lbnQucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQ7CgoJCQkvLyBSZXN0b3JlIHRoZSBvbGQgaGVpZ2h0LCBqdXN0IGluIGNhc2UKCQkJZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBvbGRIZWlnaHQgKyAncHgnOwoKCQkJcmV0dXJuIG5ld0hlaWdodDsKCQl9CgoJCXJldHVybiBoZWlnaHQ7CgoJfQoKCS8qKgoJICogQ2hlY2tzIGlmIHRoaXMgaW5zdGFuY2UgaXMgYmVpbmcgdXNlZCB0byBwcmludCBhIFBERi4KCSAqLwoJZnVuY3Rpb24gaXNQcmludGluZ1BERigpIHsKCgkJcmV0dXJuICggL3ByaW50LXBkZi9naSApLnRlc3QoIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKTsKCgl9CgoJLyoqCgkgKiBDaGVjayBpZiB0aGlzIGluc3RhbmNlIGlzIGJlaW5nIHVzZWQgdG8gcHJpbnQgYSBQREYgd2l0aCBmcmFnbWVudHMuCgkgKi8KCWZ1bmN0aW9uIGlzUHJpbnRpbmdQREZGcmFnbWVudHMoKSB7CgoJCXJldHVybiAoIC9wcmludC1wZGYtZnJhZ21lbnRzL2dpICkudGVzdCggd2luZG93LmxvY2F0aW9uLnNlYXJjaCApOwoKCX0KCgkvKioKCSAqIEhpZGVzIHRoZSBhZGRyZXNzIGJhciBpZiB3ZSdyZSBvbiBhIG1vYmlsZSBkZXZpY2UuCgkgKi8KCWZ1bmN0aW9uIGhpZGVBZGRyZXNzQmFyKCkgewoKCQlpZiggY29uZmlnLmhpZGVBZGRyZXNzQmFyICYmIGlzTW9iaWxlRGV2aWNlICkgewoJCQkvLyBFdmVudHMgdGhhdCBzaG91bGQgdHJpZ2dlciB0aGUgYWRkcmVzcyBiYXIgdG8gaGlkZQoJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCByZW1vdmVBZGRyZXNzQmFyLCBmYWxzZSApOwoJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ29yaWVudGF0aW9uY2hhbmdlJywgcmVtb3ZlQWRkcmVzc0JhciwgZmFsc2UgKTsKCQl9CgoJfQoKCS8qKgoJICogQ2F1c2VzIHRoZSBhZGRyZXNzIGJhciB0byBoaWRlIG9uIG1vYmlsZSBkZXZpY2VzLAoJICogbW9yZSB2ZXJ0aWNhbCBzcGFjZSBmdHcuCgkgKi8KCWZ1bmN0aW9uIHJlbW92ZUFkZHJlc3NCYXIoKSB7CgoJCXNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgewoJCQl3aW5kb3cuc2Nyb2xsVG8oIDAsIDEgKTsKCQl9LCAxMCApOwoKCX0KCgkvKioKCSAqIERpc3BhdGNoZXMgYW4gZXZlbnQgb2YgdGhlIHNwZWNpZmllZCB0eXBlIGZyb20gdGhlCgkgKiByZXZlYWwgRE9NIGVsZW1lbnQuCgkgKi8KCWZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoIHR5cGUsIGFyZ3MgKSB7CgoJCXZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCAnSFRNTEV2ZW50cycsIDEsIDIgKTsKCQlldmVudC5pbml0RXZlbnQoIHR5cGUsIHRydWUsIHRydWUgKTsKCQlleHRlbmQoIGV2ZW50LCBhcmdzICk7CgkJZG9tLndyYXBwZXIuZGlzcGF0Y2hFdmVudCggZXZlbnQgKTsKCgkJLy8gSWYgd2UncmUgaW4gYW4gaWZyYW1lLCBwb3N0IGVhY2ggcmV2ZWFsLmpzIGV2ZW50IHRvIHRoZQoJCS8vIHBhcmVudCB3aW5kb3cuIFVzZWQgYnkgdGhlIG5vdGVzIHBsdWdpbgoJCWlmKCBjb25maWcucG9zdE1lc3NhZ2VFdmVudHMgJiYgd2luZG93LnBhcmVudCAhPT0gd2luZG93LnNlbGYgKSB7CgkJCXdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoIEpTT04uc3RyaW5naWZ5KHsgbmFtZXNwYWNlOiAncmV2ZWFsJywgZXZlbnROYW1lOiB0eXBlLCBzdGF0ZTogZ2V0U3RhdGUoKSB9KSwgJyonICk7CgkJfQoKCX0KCgkvKioKCSAqIFdyYXAgYWxsIGxpbmtzIGluIDNEIGdvb2RuZXNzLgoJICovCglmdW5jdGlvbiBlbmFibGVSb2xsaW5nTGlua3MoKSB7CgoJCWlmKCBmZWF0dXJlcy50cmFuc2Zvcm1zM2QgJiYgISggJ21zUGVyc3BlY3RpdmUnIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgKSApIHsKCQkJdmFyIGFuY2hvcnMgPSBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBTTElERVNfU0VMRUNUT1IgKyAnIGEnICk7CgoJCQlmb3IoIHZhciBpID0gMCwgbGVuID0gYW5jaG9ycy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHsKCQkJCXZhciBhbmNob3IgPSBhbmNob3JzW2ldOwoKCQkJCWlmKCBhbmNob3IudGV4dENvbnRlbnQgJiYgIWFuY2hvci5xdWVyeVNlbGVjdG9yKCAnKicgKSAmJiAoICFhbmNob3IuY2xhc3NOYW1lIHx8ICFhbmNob3IuY2xhc3NMaXN0LmNvbnRhaW5zKCBhbmNob3IsICdyb2xsJyApICkgKSB7CgkJCQkJdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CgkJCQkJc3Bhbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGl0bGUnLCBhbmNob3IudGV4dCk7CgkJCQkJc3Bhbi5pbm5lckhUTUwgPSBhbmNob3IuaW5uZXJIVE1MOwoKCQkJCQlhbmNob3IuY2xhc3NMaXN0LmFkZCggJ3JvbGwnICk7CgkJCQkJYW5jaG9yLmlubmVySFRNTCA9ICcnOwoJCQkJCWFuY2hvci5hcHBlbmRDaGlsZChzcGFuKTsKCQkJCX0KCQkJfQoJCX0KCgl9CgoJLyoqCgkgKiBVbndyYXAgYWxsIDNEIGxpbmtzLgoJICovCglmdW5jdGlvbiBkaXNhYmxlUm9sbGluZ0xpbmtzKCkgewoKCQl2YXIgYW5jaG9ycyA9IGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIFNMSURFU19TRUxFQ1RPUiArICcgYS5yb2xsJyApOwoKCQlmb3IoIHZhciBpID0gMCwgbGVuID0gYW5jaG9ycy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHsKCQkJdmFyIGFuY2hvciA9IGFuY2hvcnNbaV07CgkJCXZhciBzcGFuID0gYW5jaG9yLnF1ZXJ5U2VsZWN0b3IoICdzcGFuJyApOwoKCQkJaWYoIHNwYW4gKSB7CgkJCQlhbmNob3IuY2xhc3NMaXN0LnJlbW92ZSggJ3JvbGwnICk7CgkJCQlhbmNob3IuaW5uZXJIVE1MID0gc3Bhbi5pbm5lckhUTUw7CgkJCX0KCQl9CgoJfQoKCS8qKgoJICogQmluZCBwcmV2aWV3IGZyYW1lIGxpbmtzLgoJICoKCSAqIEBwYXJhbSB7c3RyaW5nfSBbc2VsZWN0b3I9YV0gLSBzZWxlY3RvciBmb3IgYW5jaG9ycwoJICovCglmdW5jdGlvbiBlbmFibGVQcmV2aWV3TGlua3MoIHNlbGVjdG9yICkgewoKCQl2YXIgYW5jaG9ycyA9IHRvQXJyYXkoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIHNlbGVjdG9yID8gc2VsZWN0b3IgOiAnYScgKSApOwoKCQlhbmNob3JzLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtZW50ICkgewoJCQlpZiggL14oaHR0cHx3d3cpL2dpLnRlc3QoIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCAnaHJlZicgKSApICkgewoJCQkJZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBvblByZXZpZXdMaW5rQ2xpY2tlZCwgZmFsc2UgKTsKCQkJfQoJCX0gKTsKCgl9CgoJLyoqCgkgKiBVbmJpbmQgcHJldmlldyBmcmFtZSBsaW5rcy4KCSAqLwoJZnVuY3Rpb24gZGlzYWJsZVByZXZpZXdMaW5rcyggc2VsZWN0b3IgKSB7CgoJCXZhciBhbmNob3JzID0gdG9BcnJheSggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggc2VsZWN0b3IgPyBzZWxlY3RvciA6ICdhJyApICk7CgoJCWFuY2hvcnMuZm9yRWFjaCggZnVuY3Rpb24oIGVsZW1lbnQgKSB7CgkJCWlmKCAvXihodHRwfHd3dykvZ2kudGVzdCggZWxlbWVudC5nZXRBdHRyaWJ1dGUoICdocmVmJyApICkgKSB7CgkJCQllbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdjbGljaycsIG9uUHJldmlld0xpbmtDbGlja2VkLCBmYWxzZSApOwoJCQl9CgkJfSApOwoKCX0KCgkvKioKCSAqIE9wZW5zIGEgcHJldmlldyB3aW5kb3cgZm9yIHRoZSB0YXJnZXQgVVJMLgoJICoKCSAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSB1cmwgZm9yIHByZXZpZXcgaWZyYW1lIHNyYwoJICovCglmdW5jdGlvbiBzaG93UHJldmlldyggdXJsICkgewoKCQljbG9zZU92ZXJsYXkoKTsKCgkJZG9tLm92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApOwoJCWRvbS5vdmVybGF5LmNsYXNzTGlzdC5hZGQoICdvdmVybGF5JyApOwoJCWRvbS5vdmVybGF5LmNsYXNzTGlzdC5hZGQoICdvdmVybGF5LXByZXZpZXcnICk7CgkJZG9tLndyYXBwZXIuYXBwZW5kQ2hpbGQoIGRvbS5vdmVybGF5ICk7CgoJCWRvbS5vdmVybGF5LmlubmVySFRNTCA9IFsKCQkJJzxoZWFkZXI+JywKCQkJCSc8YSBjbGFzcz0iY2xvc2UiIGhyZWY9IiMiPjxzcGFuIGNsYXNzPSJpY29uIj48L3NwYW4+PC9hPicsCgkJCQknPGEgY2xhc3M9ImV4dGVybmFsIiBocmVmPSInKyB1cmwgKyciIHRhcmdldD0iX2JsYW5rIj48c3BhbiBjbGFzcz0iaWNvbiI+PC9zcGFuPjwvYT4nLAoJCQknPC9oZWFkZXI+JywKCQkJJzxkaXYgY2xhc3M9InNwaW5uZXIiPjwvZGl2PicsCgkJCSc8ZGl2IGNsYXNzPSJ2aWV3cG9ydCI+JywKCQkJCSc8aWZyYW1lIHNyYz0iJysgdXJsICsnIj48L2lmcmFtZT4nLAoJCQkJJzxzbWFsbCBjbGFzcz0idmlld3BvcnQtaW5uZXIiPicsCgkJCQkJJzxzcGFuIGNsYXNzPSJ4LWZyYW1lLWVycm9yIj5VbmFibGUgdG8gbG9hZCBpZnJhbWUuIFRoaXMgaXMgbGlrZWx5IGR1ZSB0byB0aGUgc2l0ZVwncyBwb2xpY3kgKHgtZnJhbWUtb3B0aW9ucykuPC9zcGFuPicsCgkJCQknPC9zbWFsbD4nLAoJCQknPC9kaXY+JwoJCV0uam9pbignJyk7CgoJCWRvbS5vdmVybGF5LnF1ZXJ5U2VsZWN0b3IoICdpZnJhbWUnICkuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCWRvbS5vdmVybGF5LmNsYXNzTGlzdC5hZGQoICdsb2FkZWQnICk7CgkJfSwgZmFsc2UgKTsKCgkJZG9tLm92ZXJsYXkucXVlcnlTZWxlY3RvciggJy5jbG9zZScgKS5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCWNsb3NlT3ZlcmxheSgpOwoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCX0sIGZhbHNlICk7CgoJCWRvbS5vdmVybGF5LnF1ZXJ5U2VsZWN0b3IoICcuZXh0ZXJuYWwnICkuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQljbG9zZU92ZXJsYXkoKTsKCQl9LCBmYWxzZSApOwoKCQlzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsKCQkJZG9tLm92ZXJsYXkuY2xhc3NMaXN0LmFkZCggJ3Zpc2libGUnICk7CgkJfSwgMSApOwoKCX0KCgkvKioKCSAqIE9wZW4gb3IgY2xvc2UgaGVscCBvdmVybGF5IHdpbmRvdy4KCSAqCgkgKiBAcGFyYW0ge0Jvb2xlYW59IFtvdmVycmlkZV0gRmxhZyB3aGljaCBvdmVycmlkZXMgdGhlCgkgKiB0b2dnbGUgbG9naWMgYW5kIGZvcmNpYmx5IHNldHMgdGhlIGRlc2lyZWQgc3RhdGUuIFRydWUgbWVhbnMKCSAqIGhlbHAgaXMgb3BlbiwgZmFsc2UgbWVhbnMgaXQncyBjbG9zZWQuCgkgKi8KCWZ1bmN0aW9uIHRvZ2dsZUhlbHAoIG92ZXJyaWRlICl7CgoJCWlmKCB0eXBlb2Ygb3ZlcnJpZGUgPT09ICdib29sZWFuJyApIHsKCQkJb3ZlcnJpZGUgPyBzaG93SGVscCgpIDogY2xvc2VPdmVybGF5KCk7CgkJfQoJCWVsc2UgewoJCQlpZiggZG9tLm92ZXJsYXkgKSB7CgkJCQljbG9zZU92ZXJsYXkoKTsKCQkJfQoJCQllbHNlIHsKCQkJCXNob3dIZWxwKCk7CgkJCX0KCQl9Cgl9CgoJLyoqCgkgKiBPcGVucyBhbiBvdmVybGF5IHdpbmRvdyB3aXRoIGhlbHAgbWF0ZXJpYWwuCgkgKi8KCWZ1bmN0aW9uIHNob3dIZWxwKCkgewoKCQlpZiggY29uZmlnLmhlbHAgKSB7CgoJCQljbG9zZU92ZXJsYXkoKTsKCgkJCWRvbS5vdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTsKCQkJZG9tLm92ZXJsYXkuY2xhc3NMaXN0LmFkZCggJ292ZXJsYXknICk7CgkJCWRvbS5vdmVybGF5LmNsYXNzTGlzdC5hZGQoICdvdmVybGF5LWhlbHAnICk7CgkJCWRvbS53cmFwcGVyLmFwcGVuZENoaWxkKCBkb20ub3ZlcmxheSApOwoKCQkJdmFyIGh0bWwgPSAnPHAgY2xhc3M9InRpdGxlIj5LZXlib2FyZCBTaG9ydGN1dHM8L3A+PGJyLz4nOwoKCQkJaHRtbCArPSAnPHRhYmxlPjx0aD5LRVk8L3RoPjx0aD5BQ1RJT048L3RoPic7CgkJCWZvciggdmFyIGtleSBpbiBrZXlib2FyZFNob3J0Y3V0cyApIHsKCQkJCWh0bWwgKz0gJzx0cj48dGQ+JyArIGtleSArICc8L3RkPjx0ZD4nICsga2V5Ym9hcmRTaG9ydGN1dHNbIGtleSBdICsgJzwvdGQ+PC90cj4nOwoJCQl9CgoJCQkvLyBBZGQgY3VzdG9tIGtleSBiaW5kaW5ncyB0aGF0IGhhdmUgYXNzb2NpYXRlZCBkZXNjcmlwdGlvbnMKCQkJZm9yKCB2YXIgYmluZGluZyBpbiByZWdpc3RlcmVkS2V5QmluZGluZ3MgKSB7CgkJCQlpZiggcmVnaXN0ZXJlZEtleUJpbmRpbmdzW2JpbmRpbmddLmtleSAmJiByZWdpc3RlcmVkS2V5QmluZGluZ3NbYmluZGluZ10uZGVzY3JpcHRpb24gKSB7CgkJCQkJaHRtbCArPSAnPHRyPjx0ZD4nICsgcmVnaXN0ZXJlZEtleUJpbmRpbmdzW2JpbmRpbmddLmtleSArICc8L3RkPjx0ZD4nICsgcmVnaXN0ZXJlZEtleUJpbmRpbmdzW2JpbmRpbmddLmRlc2NyaXB0aW9uICsgJzwvdGQ+PC90cj4nOwoJCQkJfQoJCQl9CgoJCQlodG1sICs9ICc8L3RhYmxlPic7CgoJCQlkb20ub3ZlcmxheS5pbm5lckhUTUwgPSBbCgkJCQknPGhlYWRlcj4nLAoJCQkJCSc8YSBjbGFzcz0iY2xvc2UiIGhyZWY9IiMiPjxzcGFuIGNsYXNzPSJpY29uIj48L3NwYW4+PC9hPicsCgkJCQknPC9oZWFkZXI+JywKCQkJCSc8ZGl2IGNsYXNzPSJ2aWV3cG9ydCI+JywKCQkJCQknPGRpdiBjbGFzcz0idmlld3BvcnQtaW5uZXIiPicrIGh0bWwgKyc8L2Rpdj4nLAoJCQkJJzwvZGl2PicKCQkJXS5qb2luKCcnKTsKCgkJCWRvbS5vdmVybGF5LnF1ZXJ5U2VsZWN0b3IoICcuY2xvc2UnICkuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJY2xvc2VPdmVybGF5KCk7CgkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQl9LCBmYWxzZSApOwoKCQkJc2V0VGltZW91dCggZnVuY3Rpb24oKSB7CgkJCQlkb20ub3ZlcmxheS5jbGFzc0xpc3QuYWRkKCAndmlzaWJsZScgKTsKCQkJfSwgMSApOwoKCQl9CgoJfQoKCS8qKgoJICogQ2xvc2VzIGFueSBjdXJyZW50bHkgb3BlbiBvdmVybGF5LgoJICovCglmdW5jdGlvbiBjbG9zZU92ZXJsYXkoKSB7CgoJCWlmKCBkb20ub3ZlcmxheSApIHsKCQkJZG9tLm92ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZG9tLm92ZXJsYXkgKTsKCQkJZG9tLm92ZXJsYXkgPSBudWxsOwoJCX0KCgl9CgoJLyoqCgkgKiBBcHBsaWVzIEphdmFTY3JpcHQtY29udHJvbGxlZCBsYXlvdXQgcnVsZXMgdG8gdGhlCgkgKiBwcmVzZW50YXRpb24uCgkgKi8KCWZ1bmN0aW9uIGxheW91dCgpIHsKCgkJaWYoIGRvbS53cmFwcGVyICYmICFpc1ByaW50aW5nUERGKCkgKSB7CgoJCQlpZiggIWNvbmZpZy5kaXNhYmxlTGF5b3V0ICkgewoKCQkJCXZhciBzaXplID0gZ2V0Q29tcHV0ZWRTbGlkZVNpemUoKTsKCgkJCQkvLyBMYXlvdXQgdGhlIGNvbnRlbnRzIG9mIHRoZSBzbGlkZXMKCQkJCWxheW91dFNsaWRlQ29udGVudHMoIGNvbmZpZy53aWR0aCwgY29uZmlnLmhlaWdodCApOwoKCQkJCWRvbS5zbGlkZXMuc3R5bGUud2lkdGggPSBzaXplLndpZHRoICsgJ3B4JzsKCQkJCWRvbS5zbGlkZXMuc3R5bGUuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKyAncHgnOwoKCQkJCS8vIERldGVybWluZSBzY2FsZSBvZiBjb250ZW50IHRvIGZpdCB3aXRoaW4gYXZhaWxhYmxlIHNwYWNlCgkJCQlzY2FsZSA9IE1hdGgubWluKCBzaXplLnByZXNlbnRhdGlvbldpZHRoIC8gc2l6ZS53aWR0aCwgc2l6ZS5wcmVzZW50YXRpb25IZWlnaHQgLyBzaXplLmhlaWdodCApOwoKCQkJCS8vIFJlc3BlY3QgbWF4L21pbiBzY2FsZSBzZXR0aW5ncwoJCQkJc2NhbGUgPSBNYXRoLm1heCggc2NhbGUsIGNvbmZpZy5taW5TY2FsZSApOwoJCQkJc2NhbGUgPSBNYXRoLm1pbiggc2NhbGUsIGNvbmZpZy5tYXhTY2FsZSApOwoKCQkJCS8vIERvbid0IGFwcGx5IGFueSBzY2FsaW5nIHN0eWxlcyBpZiBzY2FsZSBpcyAxCgkJCQlpZiggc2NhbGUgPT09IDEgKSB7CgkJCQkJZG9tLnNsaWRlcy5zdHlsZS56b29tID0gJyc7CgkJCQkJZG9tLnNsaWRlcy5zdHlsZS5sZWZ0ID0gJyc7CgkJCQkJZG9tLnNsaWRlcy5zdHlsZS50b3AgPSAnJzsKCQkJCQlkb20uc2xpZGVzLnN0eWxlLmJvdHRvbSA9ICcnOwoJCQkJCWRvbS5zbGlkZXMuc3R5bGUucmlnaHQgPSAnJzsKCQkJCQl0cmFuc2Zvcm1TbGlkZXMoIHsgbGF5b3V0OiAnJyB9ICk7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQkvLyBQcmVmZXIgem9vbSBmb3Igc2NhbGluZyB1cCBzbyB0aGF0IGNvbnRlbnQgcmVtYWlucyBjcmlzcC4KCQkJCQkvLyBEb24ndCB1c2Ugem9vbSB0byBzY2FsZSBkb3duIHNpbmNlIHRoYXQgY2FuIGxlYWQgdG8gc2hpZnRzCgkJCQkJLy8gaW4gdGV4dCBsYXlvdXQvbGluZSBicmVha3MuCgkJCQkJaWYoIHNjYWxlID4gMSAmJiBmZWF0dXJlcy56b29tICkgewoJCQkJCQlkb20uc2xpZGVzLnN0eWxlLnpvb20gPSBzY2FsZTsKCQkJCQkJZG9tLnNsaWRlcy5zdHlsZS5sZWZ0ID0gJyc7CgkJCQkJCWRvbS5zbGlkZXMuc3R5bGUudG9wID0gJyc7CgkJCQkJCWRvbS5zbGlkZXMuc3R5bGUuYm90dG9tID0gJyc7CgkJCQkJCWRvbS5zbGlkZXMuc3R5bGUucmlnaHQgPSAnJzsKCQkJCQkJdHJhbnNmb3JtU2xpZGVzKCB7IGxheW91dDogJycgfSApOwoJCQkJCX0KCQkJCQkvLyBBcHBseSBzY2FsZSB0cmFuc2Zvcm0gYXMgYSBmYWxsYmFjawoJCQkJCWVsc2UgewoJCQkJCQlkb20uc2xpZGVzLnN0eWxlLnpvb20gPSAnJzsKCQkJCQkJZG9tLnNsaWRlcy5zdHlsZS5sZWZ0ID0gJzUwJSc7CgkJCQkJCWRvbS5zbGlkZXMuc3R5bGUudG9wID0gJzUwJSc7CgkJCQkJCWRvbS5zbGlkZXMuc3R5bGUuYm90dG9tID0gJ2F1dG8nOwoJCQkJCQlkb20uc2xpZGVzLnN0eWxlLnJpZ2h0ID0gJ2F1dG8nOwoJCQkJCQl0cmFuc2Zvcm1TbGlkZXMoIHsgbGF5b3V0OiAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKCcrIHNjYWxlICsnKScgfSApOwoJCQkJCX0KCQkJCX0KCgkJCQkvLyBTZWxlY3QgYWxsIHNsaWRlcywgdmVydGljYWwgYW5kIGhvcml6b250YWwKCQkJCXZhciBzbGlkZXMgPSB0b0FycmF5KCBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBTTElERVNfU0VMRUNUT1IgKSApOwoKCQkJCWZvciggdmFyIGkgPSAwLCBsZW4gPSBzbGlkZXMubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7CgkJCQkJdmFyIHNsaWRlID0gc2xpZGVzWyBpIF07CgoJCQkJCS8vIERvbid0IGJvdGhlciB1cGRhdGluZyBpbnZpc2libGUgc2xpZGVzCgkJCQkJaWYoIHNsaWRlLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyApIHsKCQkJCQkJY29udGludWU7CgkJCQkJfQoKCQkJCQlpZiggY29uZmlnLmNlbnRlciB8fCBzbGlkZS5jbGFzc0xpc3QuY29udGFpbnMoICdjZW50ZXInICkgKSB7CgkJCQkJCS8vIFZlcnRpY2FsIHN0YWNrcyBhcmUgbm90IGNlbnRyZWQgc2luY2UgdGhlaXIgc2VjdGlvbgoJCQkJCQkvLyBjaGlsZHJlbiB3aWxsIGJlCgkJCQkJCWlmKCBzbGlkZS5jbGFzc0xpc3QuY29udGFpbnMoICdzdGFjaycgKSApIHsKCQkJCQkJCXNsaWRlLnN0eWxlLnRvcCA9IDA7CgkJCQkJCX0KCQkJCQkJZWxzZSB7CgkJCQkJCQlzbGlkZS5zdHlsZS50b3AgPSBNYXRoLm1heCggKCBzaXplLmhlaWdodCAtIHNsaWRlLnNjcm9sbEhlaWdodCApIC8gMiwgMCApICsgJ3B4JzsKCQkJCQkJfQoJCQkJCX0KCQkJCQllbHNlIHsKCQkJCQkJc2xpZGUuc3R5bGUudG9wID0gJyc7CgkJCQkJfQoKCQkJCX0KCgkJCX0KCgkJCXVwZGF0ZVByb2dyZXNzKCk7CgkJCXVwZGF0ZVBhcmFsbGF4KCk7CgoJCQlpZiggaXNPdmVydmlldygpICkgewoJCQkJdXBkYXRlT3ZlcnZpZXcoKTsKCQkJfQoKCQl9CgoJfQoKCS8qKgoJICogQXBwbGllcyBsYXlvdXQgbG9naWMgdG8gdGhlIGNvbnRlbnRzIG9mIGFsbCBzbGlkZXMgaW4KCSAqIHRoZSBwcmVzZW50YXRpb24uCgkgKgoJICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSB3aWR0aAoJICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBoZWlnaHQKCSAqLwoJZnVuY3Rpb24gbGF5b3V0U2xpZGVDb250ZW50cyggd2lkdGgsIGhlaWdodCApIHsKCgkJLy8gSGFuZGxlIHNpemluZyBvZiBlbGVtZW50cyB3aXRoIHRoZSAnc3RyZXRjaCcgY2xhc3MKCQl0b0FycmF5KCBkb20uc2xpZGVzLnF1ZXJ5U2VsZWN0b3JBbGwoICdzZWN0aW9uID4gLnN0cmV0Y2gnICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggZWxlbWVudCApIHsKCgkJCS8vIERldGVybWluZSBob3cgbXVjaCB2ZXJ0aWNhbCBzcGFjZSB3ZSBjYW4gdXNlCgkJCXZhciByZW1haW5pbmdIZWlnaHQgPSBnZXRSZW1haW5pbmdIZWlnaHQoIGVsZW1lbnQsIGhlaWdodCApOwoKCQkJLy8gQ29uc2lkZXIgdGhlIGFzcGVjdCByYXRpbyBvZiBtZWRpYSBlbGVtZW50cwoJCQlpZiggLyhpbWd8dmlkZW8pL2dpLnRlc3QoIGVsZW1lbnQubm9kZU5hbWUgKSApIHsKCQkJCXZhciBudyA9IGVsZW1lbnQubmF0dXJhbFdpZHRoIHx8IGVsZW1lbnQudmlkZW9XaWR0aCwKCQkJCQluaCA9IGVsZW1lbnQubmF0dXJhbEhlaWdodCB8fCBlbGVtZW50LnZpZGVvSGVpZ2h0OwoKCQkJCXZhciBlcyA9IE1hdGgubWluKCB3aWR0aCAvIG53LCByZW1haW5pbmdIZWlnaHQgLyBuaCApOwoKCQkJCWVsZW1lbnQuc3R5bGUud2lkdGggPSAoIG53ICogZXMgKSArICdweCc7CgkJCQllbGVtZW50LnN0eWxlLmhlaWdodCA9ICggbmggKiBlcyApICsgJ3B4JzsKCgkJCX0KCQkJZWxzZSB7CgkJCQllbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnOwoJCQkJZWxlbWVudC5zdHlsZS5oZWlnaHQgPSByZW1haW5pbmdIZWlnaHQgKyAncHgnOwoJCQl9CgoJCX0gKTsKCgl9CgoJLyoqCgkgKiBDYWxjdWxhdGVzIHRoZSBjb21wdXRlZCBwaXhlbCBzaXplIG9mIG91ciBzbGlkZXMuIFRoZXNlCgkgKiB2YWx1ZXMgYXJlIGJhc2VkIG9uIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IGNvbmZpZ3VyYXRpb24KCSAqIG9wdGlvbnMuCgkgKgoJICogQHBhcmFtIHtudW1iZXJ9IFtwcmVzZW50YXRpb25XaWR0aD1kb20ud3JhcHBlci5vZmZzZXRXaWR0aF0KCSAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlc2VudGF0aW9uSGVpZ2h0PWRvbS53cmFwcGVyLm9mZnNldEhlaWdodF0KCSAqLwoJZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTbGlkZVNpemUoIHByZXNlbnRhdGlvbldpZHRoLCBwcmVzZW50YXRpb25IZWlnaHQgKSB7CgoJCXZhciBzaXplID0gewoJCQkvLyBTbGlkZSBzaXplCgkJCXdpZHRoOiBjb25maWcud2lkdGgsCgkJCWhlaWdodDogY29uZmlnLmhlaWdodCwKCgkJCS8vIFByZXNlbnRhdGlvbiBzaXplCgkJCXByZXNlbnRhdGlvbldpZHRoOiBwcmVzZW50YXRpb25XaWR0aCB8fCBkb20ud3JhcHBlci5vZmZzZXRXaWR0aCwKCQkJcHJlc2VudGF0aW9uSGVpZ2h0OiBwcmVzZW50YXRpb25IZWlnaHQgfHwgZG9tLndyYXBwZXIub2Zmc2V0SGVpZ2h0CgkJfTsKCgkJLy8gUmVkdWNlIGF2YWlsYWJsZSBzcGFjZSBieSBtYXJnaW4KCQlzaXplLnByZXNlbnRhdGlvbldpZHRoIC09ICggc2l6ZS5wcmVzZW50YXRpb25XaWR0aCAqIGNvbmZpZy5tYXJnaW4gKTsKCQlzaXplLnByZXNlbnRhdGlvbkhlaWdodCAtPSAoIHNpemUucHJlc2VudGF0aW9uSGVpZ2h0ICogY29uZmlnLm1hcmdpbiApOwoKCQkvLyBTbGlkZSB3aWR0aCBtYXkgYmUgYSBwZXJjZW50YWdlIG9mIGF2YWlsYWJsZSB3aWR0aAoJCWlmKCB0eXBlb2Ygc2l6ZS53aWR0aCA9PT0gJ3N0cmluZycgJiYgLyUkLy50ZXN0KCBzaXplLndpZHRoICkgKSB7CgkJCXNpemUud2lkdGggPSBwYXJzZUludCggc2l6ZS53aWR0aCwgMTAgKSAvIDEwMCAqIHNpemUucHJlc2VudGF0aW9uV2lkdGg7CgkJfQoKCQkvLyBTbGlkZSBoZWlnaHQgbWF5IGJlIGEgcGVyY2VudGFnZSBvZiBhdmFpbGFibGUgaGVpZ2h0CgkJaWYoIHR5cGVvZiBzaXplLmhlaWdodCA9PT0gJ3N0cmluZycgJiYgLyUkLy50ZXN0KCBzaXplLmhlaWdodCApICkgewoJCQlzaXplLmhlaWdodCA9IHBhcnNlSW50KCBzaXplLmhlaWdodCwgMTAgKSAvIDEwMCAqIHNpemUucHJlc2VudGF0aW9uSGVpZ2h0OwoJCX0KCgkJcmV0dXJuIHNpemU7CgoJfQoKCS8qKgoJICogU3RvcmVzIHRoZSB2ZXJ0aWNhbCBpbmRleCBvZiBhIHN0YWNrIHNvIHRoYXQgdGhlIHNhbWUKCSAqIHZlcnRpY2FsIHNsaWRlIGNhbiBiZSBzZWxlY3RlZCB3aGVuIG5hdmlnYXRpbmcgdG8gYW5kCgkgKiBmcm9tIHRoZSBzdGFjay4KCSAqCgkgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBzdGFjayBUaGUgdmVydGljYWwgc3RhY2sgZWxlbWVudAoJICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbdj0wXSBJbmRleCB0byBtZW1vcml6ZQoJICovCglmdW5jdGlvbiBzZXRQcmV2aW91c1ZlcnRpY2FsSW5kZXgoIHN0YWNrLCB2ICkgewoKCQlpZiggdHlwZW9mIHN0YWNrID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygc3RhY2suc2V0QXR0cmlidXRlID09PSAnZnVuY3Rpb24nICkgewoJCQlzdGFjay5zZXRBdHRyaWJ1dGUoICdkYXRhLXByZXZpb3VzLWluZGV4dicsIHYgfHwgMCApOwoJCX0KCgl9CgoJLyoqCgkgKiBSZXRyaWV2ZXMgdGhlIHZlcnRpY2FsIGluZGV4IHdoaWNoIHdhcyBzdG9yZWQgdXNpbmcKCSAqICNzZXRQcmV2aW91c1ZlcnRpY2FsSW5kZXgoKSBvciAwIGlmIG5vIHByZXZpb3VzIGluZGV4CgkgKiBleGlzdHMuCgkgKgoJICogQHBhcmFtIHtIVE1MRWxlbWVudH0gc3RhY2sgVGhlIHZlcnRpY2FsIHN0YWNrIGVsZW1lbnQKCSAqLwoJZnVuY3Rpb24gZ2V0UHJldmlvdXNWZXJ0aWNhbEluZGV4KCBzdGFjayApIHsKCgkJaWYoIHR5cGVvZiBzdGFjayA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHN0YWNrLnNldEF0dHJpYnV0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiBzdGFjay5jbGFzc0xpc3QuY29udGFpbnMoICdzdGFjaycgKSApIHsKCQkJLy8gUHJlZmVyIG1hbnVhbGx5IGRlZmluZWQgc3RhcnQtaW5kZXh2CgkJCXZhciBhdHRyaWJ1dGVOYW1lID0gc3RhY2suaGFzQXR0cmlidXRlKCAnZGF0YS1zdGFydC1pbmRleHYnICkgPyAnZGF0YS1zdGFydC1pbmRleHYnIDogJ2RhdGEtcHJldmlvdXMtaW5kZXh2JzsKCgkJCXJldHVybiBwYXJzZUludCggc3RhY2suZ2V0QXR0cmlidXRlKCBhdHRyaWJ1dGVOYW1lICkgfHwgMCwgMTAgKTsKCQl9CgoJCXJldHVybiAwOwoKCX0KCgkvKioKCSAqIERpc3BsYXlzIHRoZSBvdmVydmlldyBvZiBzbGlkZXMgKHF1aWNrIG5hdikgYnkgc2NhbGluZwoJICogZG93biBhbmQgYXJyYW5naW5nIGFsbCBzbGlkZSBlbGVtZW50cy4KCSAqLwoJZnVuY3Rpb24gYWN0aXZhdGVPdmVydmlldygpIHsKCgkJLy8gT25seSBwcm9jZWVkIGlmIGVuYWJsZWQgaW4gY29uZmlnCgkJaWYoIGNvbmZpZy5vdmVydmlldyAmJiAhaXNPdmVydmlldygpICkgewoKCQkJb3ZlcnZpZXcgPSB0cnVlOwoKCQkJZG9tLndyYXBwZXIuY2xhc3NMaXN0LmFkZCggJ292ZXJ2aWV3JyApOwoJCQlkb20ud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCAnb3ZlcnZpZXctZGVhY3RpdmF0aW5nJyApOwoKCQkJaWYoIGZlYXR1cmVzLm92ZXJ2aWV3VHJhbnNpdGlvbnMgKSB7CgkJCQlzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsKCQkJCQlkb20ud3JhcHBlci5jbGFzc0xpc3QuYWRkKCAnb3ZlcnZpZXctYW5pbWF0ZWQnICk7CgkJCQl9LCAxICk7CgkJCX0KCgkJCS8vIERvbid0IGF1dG8tc2xpZGUgd2hpbGUgaW4gb3ZlcnZpZXcgbW9kZQoJCQljYW5jZWxBdXRvU2xpZGUoKTsKCgkJCS8vIE1vdmUgdGhlIGJhY2tncm91bmRzIGVsZW1lbnQgaW50byB0aGUgc2xpZGUgY29udGFpbmVyIHRvCgkJCS8vIHRoYXQgdGhlIHNhbWUgc2NhbGluZyBpcyBhcHBsaWVkCgkJCWRvbS5zbGlkZXMuYXBwZW5kQ2hpbGQoIGRvbS5iYWNrZ3JvdW5kICk7CgoJCQkvLyBDbGlja2luZyBvbiBhbiBvdmVydmlldyBzbGlkZSBuYXZpZ2F0ZXMgdG8gaXQKCQkJdG9BcnJheSggZG9tLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbCggU0xJREVTX1NFTEVDVE9SICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggc2xpZGUgKSB7CgkJCQlpZiggIXNsaWRlLmNsYXNzTGlzdC5jb250YWlucyggJ3N0YWNrJyApICkgewoJCQkJCXNsaWRlLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIG9uT3ZlcnZpZXdTbGlkZUNsaWNrZWQsIHRydWUgKTsKCQkJCX0KCQkJfSApOwoKCQkJLy8gQ2FsY3VsYXRlIHNsaWRlIHNpemVzCgkJCXZhciBtYXJnaW4gPSA3MDsKCQkJdmFyIHNsaWRlU2l6ZSA9IGdldENvbXB1dGVkU2xpZGVTaXplKCk7CgkJCW92ZXJ2aWV3U2xpZGVXaWR0aCA9IHNsaWRlU2l6ZS53aWR0aCArIG1hcmdpbjsKCQkJb3ZlcnZpZXdTbGlkZUhlaWdodCA9IHNsaWRlU2l6ZS5oZWlnaHQgKyBtYXJnaW47CgoJCQkvLyBSZXZlcnNlIGluIFJUTCBtb2RlCgkJCWlmKCBjb25maWcucnRsICkgewoJCQkJb3ZlcnZpZXdTbGlkZVdpZHRoID0gLW92ZXJ2aWV3U2xpZGVXaWR0aDsKCQkJfQoKCQkJdXBkYXRlU2xpZGVzVmlzaWJpbGl0eSgpOwoJCQlsYXlvdXRPdmVydmlldygpOwoJCQl1cGRhdGVPdmVydmlldygpOwoKCQkJbGF5b3V0KCk7CgoJCQkvLyBOb3RpZnkgb2JzZXJ2ZXJzIG9mIHRoZSBvdmVydmlldyBzaG93aW5nCgkJCWRpc3BhdGNoRXZlbnQoICdvdmVydmlld3Nob3duJywgewoJCQkJJ2luZGV4aCc6IGluZGV4aCwKCQkJCSdpbmRleHYnOiBpbmRleHYsCgkJCQknY3VycmVudFNsaWRlJzogY3VycmVudFNsaWRlCgkJCX0gKTsKCgkJfQoKCX0KCgkvKioKCSAqIFVzZXMgQ1NTIHRyYW5zZm9ybXMgdG8gcG9zaXRpb24gYWxsIHNsaWRlcyBpbiBhIGdyaWQgZm9yCgkgKiBkaXNwbGF5IGluc2lkZSBvZiB0aGUgb3ZlcnZpZXcgbW9kZS4KCSAqLwoJZnVuY3Rpb24gbGF5b3V0T3ZlcnZpZXcoKSB7CgoJCS8vIExheW91dCBzbGlkZXMKCQl0b0FycmF5KCBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBIT1JJWk9OVEFMX1NMSURFU19TRUxFQ1RPUiApICkuZm9yRWFjaCggZnVuY3Rpb24oIGhzbGlkZSwgaCApIHsKCQkJaHNsaWRlLnNldEF0dHJpYnV0ZSggJ2RhdGEtaW5kZXgtaCcsIGggKTsKCQkJdHJhbnNmb3JtRWxlbWVudCggaHNsaWRlLCAndHJhbnNsYXRlM2QoJyArICggaCAqIG92ZXJ2aWV3U2xpZGVXaWR0aCApICsgJ3B4LCAwLCAwKScgKTsKCgkJCWlmKCBoc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCAnc3RhY2snICkgKSB7CgoJCQkJdG9BcnJheSggaHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICdzZWN0aW9uJyApICkuZm9yRWFjaCggZnVuY3Rpb24oIHZzbGlkZSwgdiApIHsKCQkJCQl2c2xpZGUuc2V0QXR0cmlidXRlKCAnZGF0YS1pbmRleC1oJywgaCApOwoJCQkJCXZzbGlkZS5zZXRBdHRyaWJ1dGUoICdkYXRhLWluZGV4LXYnLCB2ICk7CgoJCQkJCXRyYW5zZm9ybUVsZW1lbnQoIHZzbGlkZSwgJ3RyYW5zbGF0ZTNkKDAsICcgKyAoIHYgKiBvdmVydmlld1NsaWRlSGVpZ2h0ICkgKyAncHgsIDApJyApOwoJCQkJfSApOwoKCQkJfQoJCX0gKTsKCgkJLy8gTGF5b3V0IHNsaWRlIGJhY2tncm91bmRzCgkJdG9BcnJheSggZG9tLmJhY2tncm91bmQuY2hpbGROb2RlcyApLmZvckVhY2goIGZ1bmN0aW9uKCBoYmFja2dyb3VuZCwgaCApIHsKCQkJdHJhbnNmb3JtRWxlbWVudCggaGJhY2tncm91bmQsICd0cmFuc2xhdGUzZCgnICsgKCBoICogb3ZlcnZpZXdTbGlkZVdpZHRoICkgKyAncHgsIDAsIDApJyApOwoKCQkJdG9BcnJheSggaGJhY2tncm91bmQucXVlcnlTZWxlY3RvckFsbCggJy5zbGlkZS1iYWNrZ3JvdW5kJyApICkuZm9yRWFjaCggZnVuY3Rpb24oIHZiYWNrZ3JvdW5kLCB2ICkgewoJCQkJdHJhbnNmb3JtRWxlbWVudCggdmJhY2tncm91bmQsICd0cmFuc2xhdGUzZCgwLCAnICsgKCB2ICogb3ZlcnZpZXdTbGlkZUhlaWdodCApICsgJ3B4LCAwKScgKTsKCQkJfSApOwoJCX0gKTsKCgl9CgoJLyoqCgkgKiBNb3ZlcyB0aGUgb3ZlcnZpZXcgdmlld3BvcnQgdG8gdGhlIGN1cnJlbnQgc2xpZGVzLgoJICogQ2FsbGVkIGVhY2ggdGltZSB0aGUgY3VycmVudCBzbGlkZSBjaGFuZ2VzLgoJICovCglmdW5jdGlvbiB1cGRhdGVPdmVydmlldygpIHsKCgkJdmFyIHZtaW4gPSBNYXRoLm1pbiggd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCApOwoJCXZhciBzY2FsZSA9IE1hdGgubWF4KCB2bWluIC8gNSwgMTUwICkgLyB2bWluOwoKCQl0cmFuc2Zvcm1TbGlkZXMoIHsKCQkJb3ZlcnZpZXc6IFsKCQkJCSdzY2FsZSgnKyBzY2FsZSArJyknLAoJCQkJJ3RyYW5zbGF0ZVgoJysgKCAtaW5kZXhoICogb3ZlcnZpZXdTbGlkZVdpZHRoICkgKydweCknLAoJCQkJJ3RyYW5zbGF0ZVkoJysgKCAtaW5kZXh2ICogb3ZlcnZpZXdTbGlkZUhlaWdodCApICsncHgpJwoJCQldLmpvaW4oICcgJyApCgkJfSApOwoKCX0KCgkvKioKCSAqIEV4aXRzIHRoZSBzbGlkZSBvdmVydmlldyBhbmQgZW50ZXJzIHRoZSBjdXJyZW50bHkKCSAqIGFjdGl2ZSBzbGlkZS4KCSAqLwoJZnVuY3Rpb24gZGVhY3RpdmF0ZU92ZXJ2aWV3KCkgewoKCQkvLyBPbmx5IHByb2NlZWQgaWYgZW5hYmxlZCBpbiBjb25maWcKCQlpZiggY29uZmlnLm92ZXJ2aWV3ICkgewoKCQkJb3ZlcnZpZXcgPSBmYWxzZTsKCgkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoICdvdmVydmlldycgKTsKCQkJZG9tLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSggJ292ZXJ2aWV3LWFuaW1hdGVkJyApOwoKCQkJLy8gVGVtcG9yYXJpbHkgYWRkIGEgY2xhc3Mgc28gdGhhdCB0cmFuc2l0aW9ucyBjYW4gZG8gZGlmZmVyZW50IHRoaW5ncwoJCQkvLyBkZXBlbmRpbmcgb24gd2hldGhlciB0aGV5IGFyZSBleGl0aW5nL2VudGVyaW5nIG92ZXJ2aWV3LCBvciBqdXN0CgkJCS8vIG1vdmluZyBmcm9tIHNsaWRlIHRvIHNsaWRlCgkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5hZGQoICdvdmVydmlldy1kZWFjdGl2YXRpbmcnICk7CgoJCQlzZXRUaW1lb3V0KCBmdW5jdGlvbiAoKSB7CgkJCQlkb20ud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCAnb3ZlcnZpZXctZGVhY3RpdmF0aW5nJyApOwoJCQl9LCAxICk7CgoJCQkvLyBNb3ZlIHRoZSBiYWNrZ3JvdW5kIGVsZW1lbnQgYmFjayBvdXQKCQkJZG9tLndyYXBwZXIuYXBwZW5kQ2hpbGQoIGRvbS5iYWNrZ3JvdW5kICk7CgoJCQkvLyBDbGVhbiB1cCBjaGFuZ2VzIG1hZGUgdG8gc2xpZGVzCgkJCXRvQXJyYXkoIGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIFNMSURFU19TRUxFQ1RPUiApICkuZm9yRWFjaCggZnVuY3Rpb24oIHNsaWRlICkgewoJCQkJdHJhbnNmb3JtRWxlbWVudCggc2xpZGUsICcnICk7CgoJCQkJc2xpZGUucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgb25PdmVydmlld1NsaWRlQ2xpY2tlZCwgdHJ1ZSApOwoJCQl9ICk7CgoJCQkvLyBDbGVhbiB1cCBjaGFuZ2VzIG1hZGUgdG8gYmFja2dyb3VuZHMKCQkJdG9BcnJheSggZG9tLmJhY2tncm91bmQucXVlcnlTZWxlY3RvckFsbCggJy5zbGlkZS1iYWNrZ3JvdW5kJyApICkuZm9yRWFjaCggZnVuY3Rpb24oIGJhY2tncm91bmQgKSB7CgkJCQl0cmFuc2Zvcm1FbGVtZW50KCBiYWNrZ3JvdW5kLCAnJyApOwoJCQl9ICk7CgoJCQl0cmFuc2Zvcm1TbGlkZXMoIHsgb3ZlcnZpZXc6ICcnIH0gKTsKCgkJCXNsaWRlKCBpbmRleGgsIGluZGV4diApOwoKCQkJbGF5b3V0KCk7CgoJCQljdWVBdXRvU2xpZGUoKTsKCgkJCS8vIE5vdGlmeSBvYnNlcnZlcnMgb2YgdGhlIG92ZXJ2aWV3IGhpZGluZwoJCQlkaXNwYXRjaEV2ZW50KCAnb3ZlcnZpZXdoaWRkZW4nLCB7CgkJCQknaW5kZXhoJzogaW5kZXhoLAoJCQkJJ2luZGV4dic6IGluZGV4diwKCQkJCSdjdXJyZW50U2xpZGUnOiBjdXJyZW50U2xpZGUKCQkJfSApOwoKCQl9Cgl9CgoJLyoqCgkgKiBUb2dnbGVzIHRoZSBzbGlkZSBvdmVydmlldyBtb2RlIG9uIGFuZCBvZmYuCgkgKgoJICogQHBhcmFtIHtCb29sZWFufSBbb3ZlcnJpZGVdIEZsYWcgd2hpY2ggb3ZlcnJpZGVzIHRoZQoJICogdG9nZ2xlIGxvZ2ljIGFuZCBmb3JjaWJseSBzZXRzIHRoZSBkZXNpcmVkIHN0YXRlLiBUcnVlIG1lYW5zCgkgKiBvdmVydmlldyBpcyBvcGVuLCBmYWxzZSBtZWFucyBpdCdzIGNsb3NlZC4KCSAqLwoJZnVuY3Rpb24gdG9nZ2xlT3ZlcnZpZXcoIG92ZXJyaWRlICkgewoKCQlpZiggdHlwZW9mIG92ZXJyaWRlID09PSAnYm9vbGVhbicgKSB7CgkJCW92ZXJyaWRlID8gYWN0aXZhdGVPdmVydmlldygpIDogZGVhY3RpdmF0ZU92ZXJ2aWV3KCk7CgkJfQoJCWVsc2UgewoJCQlpc092ZXJ2aWV3KCkgPyBkZWFjdGl2YXRlT3ZlcnZpZXcoKSA6IGFjdGl2YXRlT3ZlcnZpZXcoKTsKCQl9CgoJfQoKCS8qKgoJICogQ2hlY2tzIGlmIHRoZSBvdmVydmlldyBpcyBjdXJyZW50bHkgYWN0aXZlLgoJICoKCSAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIG92ZXJ2aWV3IGlzIGFjdGl2ZSwKCSAqIGZhbHNlIG90aGVyd2lzZQoJICovCglmdW5jdGlvbiBpc092ZXJ2aWV3KCkgewoKCQlyZXR1cm4gb3ZlcnZpZXc7CgoJfQoKCS8qKgoJICogUmV0dXJuIGEgaGFzaCBVUkwgdGhhdCB3aWxsIHJlc29sdmUgdG8gdGhlIGN1cnJlbnQgc2xpZGUgbG9jYXRpb24uCgkgKi8KCWZ1bmN0aW9uIGxvY2F0aW9uSGFzaCgpIHsKCgkJdmFyIHVybCA9ICcvJzsKCgkJLy8gQXR0ZW1wdCB0byBjcmVhdGUgYSBuYW1lZCBsaW5rIGJhc2VkIG9uIHRoZSBzbGlkZSdzIElECgkJdmFyIGlkID0gY3VycmVudFNsaWRlID8gY3VycmVudFNsaWRlLmdldEF0dHJpYnV0ZSggJ2lkJyApIDogbnVsbDsKCQlpZiggaWQgKSB7CgkJCWlkID0gZW5jb2RlVVJJQ29tcG9uZW50KCBpZCApOwoJCX0KCgkJdmFyIGluZGV4ZjsKCQlpZiggY29uZmlnLmZyYWdtZW50SW5VUkwgKSB7CgkJCWluZGV4ZiA9IGdldEluZGljZXMoKS5mOwoJCX0KCgkJLy8gSWYgdGhlIGN1cnJlbnQgc2xpZGUgaGFzIGFuIElELCB1c2UgdGhhdCBhcyBhIG5hbWVkIGxpbmssCgkJLy8gYnV0IHdlIGRvbid0IHN1cHBvcnQgbmFtZWQgbGlua3Mgd2l0aCBhIGZyYWdtZW50IGluZGV4CgkJaWYoIHR5cGVvZiBpZCA9PT0gJ3N0cmluZycgJiYgaWQubGVuZ3RoICYmIGluZGV4ZiA9PT0gdW5kZWZpbmVkICkgewoJCQl1cmwgPSAnLycgKyBpZDsKCQl9CgkJLy8gT3RoZXJ3aXNlIHVzZSB0aGUgL2gvdiBpbmRleAoJCWVsc2UgewoJCQl2YXIgaGFzaEluZGV4QmFzZSA9IGNvbmZpZy5oYXNoT25lQmFzZWRJbmRleCA/IDEgOiAwOwoJCQlpZiggaW5kZXhoID4gMCB8fCBpbmRleHYgPiAwIHx8IGluZGV4ZiAhPT0gdW5kZWZpbmVkICkgdXJsICs9IGluZGV4aCArIGhhc2hJbmRleEJhc2U7CgkJCWlmKCBpbmRleHYgPiAwIHx8IGluZGV4ZiAhPT0gdW5kZWZpbmVkICkgdXJsICs9ICcvJyArIChpbmRleHYgKyBoYXNoSW5kZXhCYXNlICk7CgkJCWlmKCBpbmRleGYgIT09IHVuZGVmaW5lZCApIHVybCArPSAnLycgKyBpbmRleGY7CgkJfQoKCQlyZXR1cm4gdXJsOwoKCX0KCgkvKioKCSAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBvciBzcGVjaWZpZWQgc2xpZGUgaXMgdmVydGljYWwKCSAqIChuZXN0ZWQgd2l0aGluIGFub3RoZXIgc2xpZGUpLgoJICoKCSAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtzbGlkZT1jdXJyZW50U2xpZGVdIFRoZSBzbGlkZSB0byBjaGVjawoJICogb3JpZW50YXRpb24gb2YKCSAqIEByZXR1cm4ge0Jvb2xlYW59CgkgKi8KCWZ1bmN0aW9uIGlzVmVydGljYWxTbGlkZSggc2xpZGUgKSB7CgoJCS8vIFByZWZlciBzbGlkZSBhcmd1bWVudCwgb3RoZXJ3aXNlIHVzZSBjdXJyZW50IHNsaWRlCgkJc2xpZGUgPSBzbGlkZSA/IHNsaWRlIDogY3VycmVudFNsaWRlOwoKCQlyZXR1cm4gc2xpZGUgJiYgc2xpZGUucGFyZW50Tm9kZSAmJiAhIXNsaWRlLnBhcmVudE5vZGUubm9kZU5hbWUubWF0Y2goIC9zZWN0aW9uL2kgKTsKCgl9CgoJLyoqCgkgKiBIYW5kbGluZyB0aGUgZnVsbHNjcmVlbiBmdW5jdGlvbmFsaXR5IHZpYSB0aGUgZnVsbHNjcmVlbiBBUEkKCSAqCgkgKiBAc2VlIGh0dHA6Ly9mdWxsc2NyZWVuLnNwZWMud2hhdHdnLm9yZy8KCSAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9ET00vVXNpbmdfZnVsbHNjcmVlbl9tb2RlCgkgKi8KCWZ1bmN0aW9uIGVudGVyRnVsbHNjcmVlbigpIHsKCgkJdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CgoJCS8vIENoZWNrIHdoaWNoIGltcGxlbWVudGF0aW9uIGlzIGF2YWlsYWJsZQoJCXZhciByZXF1ZXN0TWV0aG9kID0gZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbiB8fAoJCQkJCQkJZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiB8fAoJCQkJCQkJZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiB8fAoJCQkJCQkJZWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbiB8fAoJCQkJCQkJZWxlbWVudC5tc1JlcXVlc3RGdWxsc2NyZWVuOwoKCQlpZiggcmVxdWVzdE1ldGhvZCApIHsKCQkJcmVxdWVzdE1ldGhvZC5hcHBseSggZWxlbWVudCApOwoJCX0KCgl9CgoJLyoqCgkgKiBFbnRlcnMgdGhlIHBhdXNlZCBtb2RlIHdoaWNoIGZhZGVzIGV2ZXJ5dGhpbmcgb24gc2NyZWVuIHRvCgkgKiBibGFjay4KCSAqLwoJZnVuY3Rpb24gcGF1c2UoKSB7CgoJCWlmKCBjb25maWcucGF1c2UgKSB7CgkJCXZhciB3YXNQYXVzZWQgPSBkb20ud3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoICdwYXVzZWQnICk7CgoJCQljYW5jZWxBdXRvU2xpZGUoKTsKCQkJZG9tLndyYXBwZXIuY2xhc3NMaXN0LmFkZCggJ3BhdXNlZCcgKTsKCgkJCWlmKCB3YXNQYXVzZWQgPT09IGZhbHNlICkgewoJCQkJZGlzcGF0Y2hFdmVudCggJ3BhdXNlZCcgKTsKCQkJfQoJCX0KCgl9CgoJLyoqCgkgKiBFeGl0cyBmcm9tIHRoZSBwYXVzZWQgbW9kZS4KCSAqLwoJZnVuY3Rpb24gcmVzdW1lKCkgewoKCQl2YXIgd2FzUGF1c2VkID0gZG9tLndyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCAncGF1c2VkJyApOwoJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoICdwYXVzZWQnICk7CgoJCWN1ZUF1dG9TbGlkZSgpOwoKCQlpZiggd2FzUGF1c2VkICkgewoJCQlkaXNwYXRjaEV2ZW50KCAncmVzdW1lZCcgKTsKCQl9CgoJfQoKCS8qKgoJICogVG9nZ2xlcyB0aGUgcGF1c2VkIG1vZGUgb24gYW5kIG9mZi4KCSAqLwoJZnVuY3Rpb24gdG9nZ2xlUGF1c2UoIG92ZXJyaWRlICkgewoKCQlpZiggdHlwZW9mIG92ZXJyaWRlID09PSAnYm9vbGVhbicgKSB7CgkJCW92ZXJyaWRlID8gcGF1c2UoKSA6IHJlc3VtZSgpOwoJCX0KCQllbHNlIHsKCQkJaXNQYXVzZWQoKSA/IHJlc3VtZSgpIDogcGF1c2UoKTsKCQl9CgoJfQoKCS8qKgoJICogQ2hlY2tzIGlmIHdlIGFyZSBjdXJyZW50bHkgaW4gdGhlIHBhdXNlZCBtb2RlLgoJICoKCSAqIEByZXR1cm4ge0Jvb2xlYW59CgkgKi8KCWZ1bmN0aW9uIGlzUGF1c2VkKCkgewoKCQlyZXR1cm4gZG9tLndyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCAncGF1c2VkJyApOwoKCX0KCgkvKioKCSAqIFRvZ2dsZXMgdGhlIGF1dG8gc2xpZGUgbW9kZSBvbiBhbmQgb2ZmLgoJICoKCSAqIEBwYXJhbSB7Qm9vbGVhbn0gW292ZXJyaWRlXSBGbGFnIHdoaWNoIHNldHMgdGhlIGRlc2lyZWQgc3RhdGUuCgkgKiBUcnVlIG1lYW5zIGF1dG9wbGF5IHN0YXJ0cywgZmFsc2UgbWVhbnMgaXQgc3RvcHMuCgkgKi8KCglmdW5jdGlvbiB0b2dnbGVBdXRvU2xpZGUoIG92ZXJyaWRlICkgewoKCQlpZiggdHlwZW9mIG92ZXJyaWRlID09PSAnYm9vbGVhbicgKSB7CgkJCW92ZXJyaWRlID8gcmVzdW1lQXV0b1NsaWRlKCkgOiBwYXVzZUF1dG9TbGlkZSgpOwoJCX0KCgkJZWxzZSB7CgkJCWF1dG9TbGlkZVBhdXNlZCA/IHJlc3VtZUF1dG9TbGlkZSgpIDogcGF1c2VBdXRvU2xpZGUoKTsKCQl9CgoJfQoKCS8qKgoJICogQ2hlY2tzIGlmIHRoZSBhdXRvIHNsaWRlIG1vZGUgaXMgY3VycmVudGx5IG9uLgoJICoKCSAqIEByZXR1cm4ge0Jvb2xlYW59CgkgKi8KCWZ1bmN0aW9uIGlzQXV0b1NsaWRpbmcoKSB7CgoJCXJldHVybiAhISggYXV0b1NsaWRlICYmICFhdXRvU2xpZGVQYXVzZWQgKTsKCgl9CgoJLyoqCgkgKiBTdGVwcyBmcm9tIHRoZSBjdXJyZW50IHBvaW50IGluIHRoZSBwcmVzZW50YXRpb24gdG8gdGhlCgkgKiBzbGlkZSB3aGljaCBtYXRjaGVzIHRoZSBzcGVjaWZpZWQgaG9yaXpvbnRhbCBhbmQgdmVydGljYWwKCSAqIGluZGljZXMuCgkgKgoJICogQHBhcmFtIHtudW1iZXJ9IFtoPWluZGV4aF0gSG9yaXpvbnRhbCBpbmRleCBvZiB0aGUgdGFyZ2V0IHNsaWRlCgkgKiBAcGFyYW0ge251bWJlcn0gW3Y9aW5kZXh2XSBWZXJ0aWNhbCBpbmRleCBvZiB0aGUgdGFyZ2V0IHNsaWRlCgkgKiBAcGFyYW0ge251bWJlcn0gW2ZdIEluZGV4IG9mIGEgZnJhZ21lbnQgd2l0aGluIHRoZQoJICogdGFyZ2V0IHNsaWRlIHRvIGFjdGl2YXRlCgkgKiBAcGFyYW0ge251bWJlcn0gW29dIE9yaWdpbiBmb3IgdXNlIGluIG11bHRpbWFzdGVyIGVudmlyb25tZW50cwoJICovCglmdW5jdGlvbiBzbGlkZSggaCwgdiwgZiwgbyApIHsKCgkJLy8gUmVtZW1iZXIgd2hlcmUgd2Ugd2VyZSBhdCBiZWZvcmUKCQlwcmV2aW91c1NsaWRlID0gY3VycmVudFNsaWRlOwoKCQkvLyBRdWVyeSBhbGwgaG9yaXpvbnRhbCBzbGlkZXMgaW4gdGhlIGRlY2sKCQl2YXIgaG9yaXpvbnRhbFNsaWRlcyA9IGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIEhPUklaT05UQUxfU0xJREVTX1NFTEVDVE9SICk7CgoJCS8vIEFib3J0IGlmIHRoZXJlIGFyZSBubyBzbGlkZXMKCQlpZiggaG9yaXpvbnRhbFNsaWRlcy5sZW5ndGggPT09IDAgKSByZXR1cm47CgoJCS8vIElmIG5vIHZlcnRpY2FsIGluZGV4IGlzIHNwZWNpZmllZCBhbmQgdGhlIHVwY29taW5nIHNsaWRlIGlzIGEKCQkvLyBzdGFjaywgcmVzdW1lIGF0IGl0cyBwcmV2aW91cyB2ZXJ0aWNhbCBpbmRleAoJCWlmKCB2ID09PSB1bmRlZmluZWQgJiYgIWlzT3ZlcnZpZXcoKSApIHsKCQkJdiA9IGdldFByZXZpb3VzVmVydGljYWxJbmRleCggaG9yaXpvbnRhbFNsaWRlc1sgaCBdICk7CgkJfQoKCQkvLyBJZiB3ZSB3ZXJlIG9uIGEgdmVydGljYWwgc3RhY2ssIHJlbWVtYmVyIHdoYXQgdmVydGljYWwgaW5kZXgKCQkvLyBpdCB3YXMgb24gc28gd2UgY2FuIHJlc3VtZSBhdCB0aGUgc2FtZSBwb3NpdGlvbiB3aGVuIHJldHVybmluZwoJCWlmKCBwcmV2aW91c1NsaWRlICYmIHByZXZpb3VzU2xpZGUucGFyZW50Tm9kZSAmJiBwcmV2aW91c1NsaWRlLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCAnc3RhY2snICkgKSB7CgkJCXNldFByZXZpb3VzVmVydGljYWxJbmRleCggcHJldmlvdXNTbGlkZS5wYXJlbnROb2RlLCBpbmRleHYgKTsKCQl9CgoJCS8vIFJlbWVtYmVyIHRoZSBzdGF0ZSBiZWZvcmUgdGhpcyBzbGlkZQoJCXZhciBzdGF0ZUJlZm9yZSA9IHN0YXRlLmNvbmNhdCgpOwoKCQkvLyBSZXNldCB0aGUgc3RhdGUgYXJyYXkKCQlzdGF0ZS5sZW5ndGggPSAwOwoKCQl2YXIgaW5kZXhoQmVmb3JlID0gaW5kZXhoIHx8IDAsCgkJCWluZGV4dkJlZm9yZSA9IGluZGV4diB8fCAwOwoKCQkvLyBBY3RpdmF0ZSBhbmQgdHJhbnNpdGlvbiB0byB0aGUgbmV3IHNsaWRlCgkJaW5kZXhoID0gdXBkYXRlU2xpZGVzKCBIT1JJWk9OVEFMX1NMSURFU19TRUxFQ1RPUiwgaCA9PT0gdW5kZWZpbmVkID8gaW5kZXhoIDogaCApOwoJCWluZGV4diA9IHVwZGF0ZVNsaWRlcyggVkVSVElDQUxfU0xJREVTX1NFTEVDVE9SLCB2ID09PSB1bmRlZmluZWQgPyBpbmRleHYgOiB2ICk7CgoJCS8vIFVwZGF0ZSB0aGUgdmlzaWJpbGl0eSBvZiBzbGlkZXMgbm93IHRoYXQgdGhlIGluZGljZXMgaGF2ZSBjaGFuZ2VkCgkJdXBkYXRlU2xpZGVzVmlzaWJpbGl0eSgpOwoKCQlsYXlvdXQoKTsKCgkJLy8gQXBwbHkgdGhlIG5ldyBzdGF0ZQoJCXN0YXRlTG9vcDogZm9yKCB2YXIgaSA9IDAsIGxlbiA9IHN0YXRlLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkgewoJCQkvLyBDaGVjayBpZiB0aGlzIHN0YXRlIGV4aXN0ZWQgb24gdGhlIHByZXZpb3VzIHNsaWRlLiBJZiBpdAoJCQkvLyBkaWQsIHdlIHdpbGwgYXZvaWQgYWRkaW5nIGl0IHJlcGVhdGVkbHkKCQkJZm9yKCB2YXIgaiA9IDA7IGogPCBzdGF0ZUJlZm9yZS5sZW5ndGg7IGorKyApIHsKCQkJCWlmKCBzdGF0ZUJlZm9yZVtqXSA9PT0gc3RhdGVbaV0gKSB7CgkJCQkJc3RhdGVCZWZvcmUuc3BsaWNlKCBqLCAxICk7CgkJCQkJY29udGludWUgc3RhdGVMb29wOwoJCQkJfQoJCQl9CgoJCQlkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCggc3RhdGVbaV0gKTsKCgkJCS8vIERpc3BhdGNoIGN1c3RvbSBldmVudCBtYXRjaGluZyB0aGUgc3RhdGUncyBuYW1lCgkJCWRpc3BhdGNoRXZlbnQoIHN0YXRlW2ldICk7CgkJfQoKCQkvLyBDbGVhbiB1cCB0aGUgcmVtYWlucyBvZiB0aGUgcHJldmlvdXMgc3RhdGUKCQl3aGlsZSggc3RhdGVCZWZvcmUubGVuZ3RoICkgewoJCQlkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggc3RhdGVCZWZvcmUucG9wKCkgKTsKCQl9CgoJCS8vIFVwZGF0ZSB0aGUgb3ZlcnZpZXcgaWYgaXQncyBjdXJyZW50bHkgYWN0aXZlCgkJaWYoIGlzT3ZlcnZpZXcoKSApIHsKCQkJdXBkYXRlT3ZlcnZpZXcoKTsKCQl9CgoJCS8vIEZpbmQgdGhlIGN1cnJlbnQgaG9yaXpvbnRhbCBzbGlkZSBhbmQgYW55IHBvc3NpYmxlIHZlcnRpY2FsIHNsaWRlcwoJCS8vIHdpdGhpbiBpdAoJCXZhciBjdXJyZW50SG9yaXpvbnRhbFNsaWRlID0gaG9yaXpvbnRhbFNsaWRlc1sgaW5kZXhoIF0sCgkJCWN1cnJlbnRWZXJ0aWNhbFNsaWRlcyA9IGN1cnJlbnRIb3Jpem9udGFsU2xpZGUucXVlcnlTZWxlY3RvckFsbCggJ3NlY3Rpb24nICk7CgoJCS8vIFN0b3JlIHJlZmVyZW5jZXMgdG8gdGhlIHByZXZpb3VzIGFuZCBjdXJyZW50IHNsaWRlcwoJCWN1cnJlbnRTbGlkZSA9IGN1cnJlbnRWZXJ0aWNhbFNsaWRlc1sgaW5kZXh2IF0gfHwgY3VycmVudEhvcml6b250YWxTbGlkZTsKCgkJLy8gU2hvdyBmcmFnbWVudCwgaWYgc3BlY2lmaWVkCgkJaWYoIHR5cGVvZiBmICE9PSAndW5kZWZpbmVkJyApIHsKCQkJbmF2aWdhdGVGcmFnbWVudCggZiApOwoJCX0KCgkJLy8gRGlzcGF0Y2ggYW4gZXZlbnQgaWYgdGhlIHNsaWRlIGNoYW5nZWQKCQl2YXIgc2xpZGVDaGFuZ2VkID0gKCBpbmRleGggIT09IGluZGV4aEJlZm9yZSB8fCBpbmRleHYgIT09IGluZGV4dkJlZm9yZSApOwoJCWlmICghc2xpZGVDaGFuZ2VkKSB7CgkJCS8vIEVuc3VyZSB0aGF0IHRoZSBwcmV2aW91cyBzbGlkZSBpcyBuZXZlciB0aGUgc2FtZSBhcyB0aGUgY3VycmVudAoJCQlwcmV2aW91c1NsaWRlID0gbnVsbDsKCQl9CgoJCS8vIFNvbHZlcyBhbiBlZGdlIGNhc2Ugd2hlcmUgdGhlIHByZXZpb3VzIHNsaWRlIG1haW50YWlucyB0aGUKCQkvLyAncHJlc2VudCcgY2xhc3Mgd2hlbiBuYXZpZ2F0aW5nIGJldHdlZW4gYWRqYWNlbnQgdmVydGljYWwKCQkvLyBzdGFja3MKCQlpZiggcHJldmlvdXNTbGlkZSAmJiBwcmV2aW91c1NsaWRlICE9PSBjdXJyZW50U2xpZGUgKSB7CgkJCXByZXZpb3VzU2xpZGUuY2xhc3NMaXN0LnJlbW92ZSggJ3ByZXNlbnQnICk7CgkJCXByZXZpb3VzU2xpZGUuc2V0QXR0cmlidXRlKCAnYXJpYS1oaWRkZW4nLCAndHJ1ZScgKTsKCgkJCS8vIFJlc2V0IGFsbCBzbGlkZXMgdXBvbiBuYXZpZ2F0ZSB0byBob21lCgkJCS8vIElzc3VlOiAjMjg1CgkJCWlmICggZG9tLndyYXBwZXIucXVlcnlTZWxlY3RvciggSE9NRV9TTElERV9TRUxFQ1RPUiApLmNsYXNzTGlzdC5jb250YWlucyggJ3ByZXNlbnQnICkgKSB7CgkJCQkvLyBMYXVuY2ggYXN5bmMgdGFzawoJCQkJc2V0VGltZW91dCggZnVuY3Rpb24gKCkgewoJCQkJCXZhciBzbGlkZXMgPSB0b0FycmF5KCBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBIT1JJWk9OVEFMX1NMSURFU19TRUxFQ1RPUiArICcuc3RhY2snKSApLCBpOwoJCQkJCWZvciggaSBpbiBzbGlkZXMgKSB7CgkJCQkJCWlmKCBzbGlkZXNbaV0gKSB7CgkJCQkJCQkvLyBSZXNldCBzdGFjawoJCQkJCQkJc2V0UHJldmlvdXNWZXJ0aWNhbEluZGV4KCBzbGlkZXNbaV0sIDAgKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0sIDAgKTsKCQkJfQoJCX0KCgkJaWYoIHNsaWRlQ2hhbmdlZCApIHsKCQkJZGlzcGF0Y2hFdmVudCggJ3NsaWRlY2hhbmdlZCcsIHsKCQkJCSdpbmRleGgnOiBpbmRleGgsCgkJCQknaW5kZXh2JzogaW5kZXh2LAoJCQkJJ3ByZXZpb3VzU2xpZGUnOiBwcmV2aW91c1NsaWRlLAoJCQkJJ2N1cnJlbnRTbGlkZSc6IGN1cnJlbnRTbGlkZSwKCQkJCSdvcmlnaW4nOiBvCgkJCX0gKTsKCQl9CgoJCS8vIEhhbmRsZSBlbWJlZGRlZCBjb250ZW50CgkJaWYoIHNsaWRlQ2hhbmdlZCB8fCAhcHJldmlvdXNTbGlkZSApIHsKCQkJc3RvcEVtYmVkZGVkQ29udGVudCggcHJldmlvdXNTbGlkZSApOwoJCQlzdGFydEVtYmVkZGVkQ29udGVudCggY3VycmVudFNsaWRlICk7CgkJfQoKCQkvLyBBbm5vdW5jZSB0aGUgY3VycmVudCBzbGlkZSBjb250ZW50cywgZm9yIHNjcmVlbiByZWFkZXJzCgkJZG9tLnN0YXR1c0Rpdi50ZXh0Q29udGVudCA9IGdldFN0YXR1c1RleHQoIGN1cnJlbnRTbGlkZSApOwoKCQl1cGRhdGVDb250cm9scygpOwoJCXVwZGF0ZVByb2dyZXNzKCk7CgkJdXBkYXRlQmFja2dyb3VuZCgpOwoJCXVwZGF0ZVBhcmFsbGF4KCk7CgkJdXBkYXRlU2xpZGVOdW1iZXIoKTsKCQl1cGRhdGVOb3RlcygpOwoKCQkvLyBVcGRhdGUgdGhlIFVSTCBoYXNoCgkJd3JpdGVVUkwoKTsKCgkJY3VlQXV0b1NsaWRlKCk7CgoJfQoKCS8qKgoJICogU3luY3MgdGhlIHByZXNlbnRhdGlvbiB3aXRoIHRoZSBjdXJyZW50IERPTS4gVXNlZnVsCgkgKiB3aGVuIG5ldyBzbGlkZXMgb3IgY29udHJvbCBlbGVtZW50cyBhcmUgYWRkZWQgb3Igd2hlbgoJICogdGhlIGNvbmZpZ3VyYXRpb24gaGFzIGNoYW5nZWQuCgkgKi8KCWZ1bmN0aW9uIHN5bmMoKSB7CgoJCS8vIFN1YnNjcmliZSB0byBpbnB1dAoJCXJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7CgkJYWRkRXZlbnRMaXN0ZW5lcnMoKTsKCgkJLy8gRm9yY2UgYSBsYXlvdXQgdG8gbWFrZSBzdXJlIHRoZSBjdXJyZW50IGNvbmZpZyBpcyBhY2NvdW50ZWQgZm9yCgkJbGF5b3V0KCk7CgoJCS8vIFJlZmxlY3QgdGhlIGN1cnJlbnQgYXV0b1NsaWRlIHZhbHVlCgkJYXV0b1NsaWRlID0gY29uZmlnLmF1dG9TbGlkZTsKCgkJLy8gU3RhcnQgYXV0by1zbGlkaW5nIGlmIGl0J3MgZW5hYmxlZAoJCWN1ZUF1dG9TbGlkZSgpOwoKCQkvLyBSZS1jcmVhdGUgdGhlIHNsaWRlIGJhY2tncm91bmRzCgkJY3JlYXRlQmFja2dyb3VuZHMoKTsKCgkJLy8gV3JpdGUgdGhlIGN1cnJlbnQgaGFzaCB0byB0aGUgVVJMCgkJd3JpdGVVUkwoKTsKCgkJc29ydEFsbEZyYWdtZW50cygpOwoKCQl1cGRhdGVDb250cm9scygpOwoJCXVwZGF0ZVByb2dyZXNzKCk7CgkJdXBkYXRlU2xpZGVOdW1iZXIoKTsKCQl1cGRhdGVTbGlkZXNWaXNpYmlsaXR5KCk7CgkJdXBkYXRlQmFja2dyb3VuZCggdHJ1ZSApOwoJCXVwZGF0ZU5vdGVzVmlzaWJpbGl0eSgpOwoJCXVwZGF0ZU5vdGVzKCk7CgoJCWZvcm1hdEVtYmVkZGVkQ29udGVudCgpOwoKCQkvLyBTdGFydCBvciBzdG9wIGVtYmVkZGVkIGNvbnRlbnQgZGVwZW5kaW5nIG9uIGdsb2JhbCBjb25maWcKCQlpZiggY29uZmlnLmF1dG9QbGF5TWVkaWEgPT09IGZhbHNlICkgewoJCQlzdG9wRW1iZWRkZWRDb250ZW50KCBjdXJyZW50U2xpZGUsIHsgdW5sb2FkSWZyYW1lczogZmFsc2UgfSApOwoJCX0KCQllbHNlIHsKCQkJc3RhcnRFbWJlZGRlZENvbnRlbnQoIGN1cnJlbnRTbGlkZSApOwoJCX0KCgkJaWYoIGlzT3ZlcnZpZXcoKSApIHsKCQkJbGF5b3V0T3ZlcnZpZXcoKTsKCQl9CgoJfQoKCS8qKgoJICogVXBkYXRlcyByZXZlYWwuanMgdG8ga2VlcCBpbiBzeW5jIHdpdGggbmV3IHNsaWRlIGF0dHJpYnV0ZXMuIEZvcgoJICogZXhhbXBsZSwgaWYgeW91IGFkZCBhIG5ldyBgZGF0YS1iYWNrZ3JvdW5kLWltYWdlYCB5b3UgY2FuIGNhbGwKCSAqIHRoaXMgdG8gaGF2ZSByZXZlYWwuanMgcmVuZGVyIHRoZSBuZXcgYmFja2dyb3VuZCBpbWFnZS4KCSAqCgkgKiBTaW1pbGFyIHRvICNzeW5jKCkgYnV0IG1vcmUgZWZmaWNpZW50IHdoZW4geW91IG9ubHkgbmVlZCB0bwoJICogcmVmcmVzaCBhIHNwZWNpZmljIHNsaWRlLgoJICoKCSAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHNsaWRlCgkgKi8KCWZ1bmN0aW9uIHN5bmNTbGlkZSggc2xpZGUgKSB7CgoJCXN5bmNCYWNrZ3JvdW5kKCBzbGlkZSApOwoJCXN5bmNGcmFnbWVudHMoIHNsaWRlICk7CgoJCXVwZGF0ZUJhY2tncm91bmQoKTsKCQl1cGRhdGVOb3RlcygpOwoKCQlsb2FkU2xpZGUoIHNsaWRlICk7CgoJfQoKCS8qKgoJICogRm9ybWF0cyB0aGUgZnJhZ21lbnRzIG9uIHRoZSBnaXZlbiBzbGlkZSBzbyB0aGF0IHRoZXkgaGF2ZQoJICogdmFsaWQgaW5kaWNlcy4gQ2FsbCB0aGlzIGlmIGZyYWdtZW50cyBhcmUgY2hhbmdlZCBpbiB0aGUgRE9NCgkgKiBhZnRlciByZXZlYWwuanMgaGFzIGFscmVhZHkgaW5pdGlhbGl6ZWQuCgkgKgoJICogQHBhcmFtIHtIVE1MRWxlbWVudH0gc2xpZGUKCSAqLwoJZnVuY3Rpb24gc3luY0ZyYWdtZW50cyggc2xpZGUgKSB7CgoJCXNvcnRGcmFnbWVudHMoIHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICcuZnJhZ21lbnQnICkgKTsKCgl9CgoJLyoqCgkgKiBSZXNldHMgYWxsIHZlcnRpY2FsIHNsaWRlcyBzbyB0aGF0IG9ubHkgdGhlIGZpcnN0CgkgKiBpcyB2aXNpYmxlLgoJICovCglmdW5jdGlvbiByZXNldFZlcnRpY2FsU2xpZGVzKCkgewoKCQl2YXIgaG9yaXpvbnRhbFNsaWRlcyA9IHRvQXJyYXkoIGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIEhPUklaT05UQUxfU0xJREVTX1NFTEVDVE9SICkgKTsKCQlob3Jpem9udGFsU2xpZGVzLmZvckVhY2goIGZ1bmN0aW9uKCBob3Jpem9udGFsU2xpZGUgKSB7CgoJCQl2YXIgdmVydGljYWxTbGlkZXMgPSB0b0FycmF5KCBob3Jpem9udGFsU2xpZGUucXVlcnlTZWxlY3RvckFsbCggJ3NlY3Rpb24nICkgKTsKCQkJdmVydGljYWxTbGlkZXMuZm9yRWFjaCggZnVuY3Rpb24oIHZlcnRpY2FsU2xpZGUsIHkgKSB7CgoJCQkJaWYoIHkgPiAwICkgewoJCQkJCXZlcnRpY2FsU2xpZGUuY2xhc3NMaXN0LnJlbW92ZSggJ3ByZXNlbnQnICk7CgkJCQkJdmVydGljYWxTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCAncGFzdCcgKTsKCQkJCQl2ZXJ0aWNhbFNsaWRlLmNsYXNzTGlzdC5hZGQoICdmdXR1cmUnICk7CgkJCQkJdmVydGljYWxTbGlkZS5zZXRBdHRyaWJ1dGUoICdhcmlhLWhpZGRlbicsICd0cnVlJyApOwoJCQkJfQoKCQkJfSApOwoKCQl9ICk7CgoJfQoKCS8qKgoJICogU29ydHMgYW5kIGZvcm1hdHMgYWxsIG9mIGZyYWdtZW50cyBpbiB0aGUKCSAqIHByZXNlbnRhdGlvbi4KCSAqLwoJZnVuY3Rpb24gc29ydEFsbEZyYWdtZW50cygpIHsKCgkJdmFyIGhvcml6b250YWxTbGlkZXMgPSB0b0FycmF5KCBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBIT1JJWk9OVEFMX1NMSURFU19TRUxFQ1RPUiApICk7CgkJaG9yaXpvbnRhbFNsaWRlcy5mb3JFYWNoKCBmdW5jdGlvbiggaG9yaXpvbnRhbFNsaWRlICkgewoKCQkJdmFyIHZlcnRpY2FsU2xpZGVzID0gdG9BcnJheSggaG9yaXpvbnRhbFNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICdzZWN0aW9uJyApICk7CgkJCXZlcnRpY2FsU2xpZGVzLmZvckVhY2goIGZ1bmN0aW9uKCB2ZXJ0aWNhbFNsaWRlLCB5ICkgewoKCQkJCXNvcnRGcmFnbWVudHMoIHZlcnRpY2FsU2xpZGUucXVlcnlTZWxlY3RvckFsbCggJy5mcmFnbWVudCcgKSApOwoKCQkJfSApOwoKCQkJaWYoIHZlcnRpY2FsU2xpZGVzLmxlbmd0aCA9PT0gMCApIHNvcnRGcmFnbWVudHMoIGhvcml6b250YWxTbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCAnLmZyYWdtZW50JyApICk7CgoJCX0gKTsKCgl9CgoJLyoqCgkgKiBSYW5kb21seSBzaHVmZmxlcyBhbGwgc2xpZGVzIGluIHRoZSBkZWNrLgoJICovCglmdW5jdGlvbiBzaHVmZmxlKCkgewoKCQl2YXIgc2xpZGVzID0gdG9BcnJheSggZG9tLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbCggSE9SSVpPTlRBTF9TTElERVNfU0VMRUNUT1IgKSApOwoKCQlzbGlkZXMuZm9yRWFjaCggZnVuY3Rpb24oIHNsaWRlICkgewoKCQkJLy8gSW5zZXJ0IHRoaXMgc2xpZGUgbmV4dCB0byBhbm90aGVyIHJhbmRvbSBzbGlkZS4gVGhpcyBtYXkKCQkJLy8gY2F1c2UgdGhlIHNsaWRlIHRvIGluc2VydCBiZWZvcmUgaXRzZWxmIGJ1dCB0aGF0J3MgZmluZS4KCQkJZG9tLnNsaWRlcy5pbnNlcnRCZWZvcmUoIHNsaWRlLCBzbGlkZXNbIE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiBzbGlkZXMubGVuZ3RoICkgXSApOwoKCQl9ICk7CgoJfQoKCS8qKgoJICogVXBkYXRlcyBvbmUgZGltZW5zaW9uIG9mIHNsaWRlcyBieSBzaG93aW5nIHRoZSBzbGlkZQoJICogd2l0aCB0aGUgc3BlY2lmaWVkIGluZGV4LgoJICoKCSAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBBIENTUyBzZWxlY3RvciB0aGF0IHdpbGwgZmV0Y2gKCSAqIHRoZSBncm91cCBvZiBzbGlkZXMgd2UgYXJlIHdvcmtpbmcgd2l0aAoJICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgc2xpZGUgdGhhdCBzaG91bGQgYmUKCSAqIHNob3duCgkgKgoJICogQHJldHVybiB7bnVtYmVyfSBUaGUgaW5kZXggb2YgdGhlIHNsaWRlIHRoYXQgaXMgbm93IHNob3duLAoJICogbWlnaHQgZGlmZmVyIGZyb20gdGhlIHBhc3NlZCBpbiBpbmRleCBpZiBpdCB3YXMgb3V0IG9mCgkgKiBib3VuZHMuCgkgKi8KCWZ1bmN0aW9uIHVwZGF0ZVNsaWRlcyggc2VsZWN0b3IsIGluZGV4ICkgewoKCQkvLyBTZWxlY3QgYWxsIHNsaWRlcyBhbmQgY29udmVydCB0aGUgTm9kZUxpc3QgcmVzdWx0IHRvCgkJLy8gYW4gYXJyYXkKCQl2YXIgc2xpZGVzID0gdG9BcnJheSggZG9tLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbCggc2VsZWN0b3IgKSApLAoJCQlzbGlkZXNMZW5ndGggPSBzbGlkZXMubGVuZ3RoOwoKCQl2YXIgcHJpbnRNb2RlID0gaXNQcmludGluZ1BERigpOwoKCQlpZiggc2xpZGVzTGVuZ3RoICkgewoKCQkJLy8gU2hvdWxkIHRoZSBpbmRleCBsb29wPwoJCQlpZiggY29uZmlnLmxvb3AgKSB7CgkJCQlpbmRleCAlPSBzbGlkZXNMZW5ndGg7CgoJCQkJaWYoIGluZGV4IDwgMCApIHsKCQkJCQlpbmRleCA9IHNsaWRlc0xlbmd0aCArIGluZGV4OwoJCQkJfQoJCQl9CgoJCQkvLyBFbmZvcmNlIG1heCBhbmQgbWluaW11bSBpbmRleCBib3VuZHMKCQkJaW5kZXggPSBNYXRoLm1heCggTWF0aC5taW4oIGluZGV4LCBzbGlkZXNMZW5ndGggLSAxICksIDAgKTsKCgkJCWZvciggdmFyIGkgPSAwOyBpIDwgc2xpZGVzTGVuZ3RoOyBpKysgKSB7CgkJCQl2YXIgZWxlbWVudCA9IHNsaWRlc1tpXTsKCgkJCQl2YXIgcmV2ZXJzZSA9IGNvbmZpZy5ydGwgJiYgIWlzVmVydGljYWxTbGlkZSggZWxlbWVudCApOwoKCQkJCWVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3Bhc3QnICk7CgkJCQllbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICdwcmVzZW50JyApOwoJCQkJZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAnZnV0dXJlJyApOwoKCQkJCS8vIGh0dHA6Ly93d3cudzMub3JnL2h0bWwvd2cvZHJhZnRzL2h0bWwvbWFzdGVyL2VkaXRpbmcuaHRtbCN0aGUtaGlkZGVuLWF0dHJpYnV0ZQoJCQkJZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdoaWRkZW4nLCAnJyApOwoJCQkJZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdhcmlhLWhpZGRlbicsICd0cnVlJyApOwoKCQkJCS8vIElmIHRoaXMgZWxlbWVudCBjb250YWlucyB2ZXJ0aWNhbCBzbGlkZXMKCQkJCWlmKCBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoICdzZWN0aW9uJyApICkgewoJCQkJCWVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3N0YWNrJyApOwoJCQkJfQoKCQkJCS8vIElmIHdlJ3JlIHByaW50aW5nIHN0YXRpYyBzbGlkZXMsIGFsbCBzbGlkZXMgYXJlICJwcmVzZW50IgoJCQkJaWYoIHByaW50TW9kZSApIHsKCQkJCQllbGVtZW50LmNsYXNzTGlzdC5hZGQoICdwcmVzZW50JyApOwoJCQkJCWNvbnRpbnVlOwoJCQkJfQoKCQkJCWlmKCBpIDwgaW5kZXggKSB7CgkJCQkJLy8gQW55IGVsZW1lbnQgcHJldmlvdXMgdG8gaW5kZXggaXMgZ2l2ZW4gdGhlICdwYXN0JyBjbGFzcwoJCQkJCWVsZW1lbnQuY2xhc3NMaXN0LmFkZCggcmV2ZXJzZSA/ICdmdXR1cmUnIDogJ3Bhc3QnICk7CgoJCQkJCWlmKCBjb25maWcuZnJhZ21lbnRzICkgewoJCQkJCQl2YXIgcGFzdEZyYWdtZW50cyA9IHRvQXJyYXkoIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy5mcmFnbWVudCcgKSApOwoKCQkJCQkJLy8gU2hvdyBhbGwgZnJhZ21lbnRzIG9uIHByaW9yIHNsaWRlcwoJCQkJCQl3aGlsZSggcGFzdEZyYWdtZW50cy5sZW5ndGggKSB7CgkJCQkJCQl2YXIgcGFzdEZyYWdtZW50ID0gcGFzdEZyYWdtZW50cy5wb3AoKTsKCQkJCQkJCXBhc3RGcmFnbWVudC5jbGFzc0xpc3QuYWRkKCAndmlzaWJsZScgKTsKCQkJCQkJCXBhc3RGcmFnbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAnY3VycmVudC1mcmFnbWVudCcgKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJCWVsc2UgaWYoIGkgPiBpbmRleCApIHsKCQkJCQkvLyBBbnkgZWxlbWVudCBzdWJzZXF1ZW50IHRvIGluZGV4IGlzIGdpdmVuIHRoZSAnZnV0dXJlJyBjbGFzcwoJCQkJCWVsZW1lbnQuY2xhc3NMaXN0LmFkZCggcmV2ZXJzZSA/ICdwYXN0JyA6ICdmdXR1cmUnICk7CgoJCQkJCWlmKCBjb25maWcuZnJhZ21lbnRzICkgewoJCQkJCQl2YXIgZnV0dXJlRnJhZ21lbnRzID0gdG9BcnJheSggZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLmZyYWdtZW50LnZpc2libGUnICkgKTsKCgkJCQkJCS8vIE5vIGZyYWdtZW50cyBpbiBmdXR1cmUgc2xpZGVzIHNob3VsZCBiZSB2aXNpYmxlIGFoZWFkIG9mIHRpbWUKCQkJCQkJd2hpbGUoIGZ1dHVyZUZyYWdtZW50cy5sZW5ndGggKSB7CgkJCQkJCQl2YXIgZnV0dXJlRnJhZ21lbnQgPSBmdXR1cmVGcmFnbWVudHMucG9wKCk7CgkJCQkJCQlmdXR1cmVGcmFnbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAndmlzaWJsZScgKTsKCQkJCQkJCWZ1dHVyZUZyYWdtZW50LmNsYXNzTGlzdC5yZW1vdmUoICdjdXJyZW50LWZyYWdtZW50JyApOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQkvLyBNYXJrIHRoZSBjdXJyZW50IHNsaWRlIGFzIHByZXNlbnQKCQkJc2xpZGVzW2luZGV4XS5jbGFzc0xpc3QuYWRkKCAncHJlc2VudCcgKTsKCQkJc2xpZGVzW2luZGV4XS5yZW1vdmVBdHRyaWJ1dGUoICdoaWRkZW4nICk7CgkJCXNsaWRlc1tpbmRleF0ucmVtb3ZlQXR0cmlidXRlKCAnYXJpYS1oaWRkZW4nICk7CgoJCQkvLyBJZiB0aGlzIHNsaWRlIGhhcyBhIHN0YXRlIGFzc29jaWF0ZWQgd2l0aCBpdCwgYWRkIGl0CgkJCS8vIG9udG8gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGRlY2sKCQkJdmFyIHNsaWRlU3RhdGUgPSBzbGlkZXNbaW5kZXhdLmdldEF0dHJpYnV0ZSggJ2RhdGEtc3RhdGUnICk7CgkJCWlmKCBzbGlkZVN0YXRlICkgewoJCQkJc3RhdGUgPSBzdGF0ZS5jb25jYXQoIHNsaWRlU3RhdGUuc3BsaXQoICcgJyApICk7CgkJCX0KCgkJfQoJCWVsc2UgewoJCQkvLyBTaW5jZSB0aGVyZSBhcmUgbm8gc2xpZGVzIHdlIGNhbid0IGJlIGFueXdoZXJlIGJleW9uZCB0aGUKCQkJLy8gemVyb3RoIGluZGV4CgkJCWluZGV4ID0gMDsKCQl9CgoJCXJldHVybiBpbmRleDsKCgl9CgoJLyoqCgkgKiBPcHRpbWl6YXRpb24gbWV0aG9kOyBoaWRlIGFsbCBzbGlkZXMgdGhhdCBhcmUgZmFyIGF3YXkKCSAqIGZyb20gdGhlIHByZXNlbnQgc2xpZGUuCgkgKi8KCWZ1bmN0aW9uIHVwZGF0ZVNsaWRlc1Zpc2liaWxpdHkoKSB7CgoJCS8vIFNlbGVjdCBhbGwgc2xpZGVzIGFuZCBjb252ZXJ0IHRoZSBOb2RlTGlzdCByZXN1bHQgdG8KCQkvLyBhbiBhcnJheQoJCXZhciBob3Jpem9udGFsU2xpZGVzID0gdG9BcnJheSggZG9tLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbCggSE9SSVpPTlRBTF9TTElERVNfU0VMRUNUT1IgKSApLAoJCQlob3Jpem9udGFsU2xpZGVzTGVuZ3RoID0gaG9yaXpvbnRhbFNsaWRlcy5sZW5ndGgsCgkJCWRpc3RhbmNlWCwKCQkJZGlzdGFuY2VZOwoKCQlpZiggaG9yaXpvbnRhbFNsaWRlc0xlbmd0aCAmJiB0eXBlb2YgaW5kZXhoICE9PSAndW5kZWZpbmVkJyApIHsKCgkJCS8vIFRoZSBudW1iZXIgb2Ygc3RlcHMgYXdheSBmcm9tIHRoZSBwcmVzZW50IHNsaWRlIHRoYXQgd2lsbAoJCQkvLyBiZSB2aXNpYmxlCgkJCXZhciB2aWV3RGlzdGFuY2UgPSBpc092ZXJ2aWV3KCkgPyAxMCA6IGNvbmZpZy52aWV3RGlzdGFuY2U7CgoJCQkvLyBMaW1pdCB2aWV3IGRpc3RhbmNlIG9uIHdlYWtlciBkZXZpY2VzCgkJCWlmKCBpc01vYmlsZURldmljZSApIHsKCQkJCXZpZXdEaXN0YW5jZSA9IGlzT3ZlcnZpZXcoKSA/IDYgOiAyOwoJCQl9CgoJCQkvLyBBbGwgc2xpZGVzIG5lZWQgdG8gYmUgdmlzaWJsZSB3aGVuIGV4cG9ydGluZyB0byBQREYKCQkJaWYoIGlzUHJpbnRpbmdQREYoKSApIHsKCQkJCXZpZXdEaXN0YW5jZSA9IE51bWJlci5NQVhfVkFMVUU7CgkJCX0KCgkJCWZvciggdmFyIHggPSAwOyB4IDwgaG9yaXpvbnRhbFNsaWRlc0xlbmd0aDsgeCsrICkgewoJCQkJdmFyIGhvcml6b250YWxTbGlkZSA9IGhvcml6b250YWxTbGlkZXNbeF07CgoJCQkJdmFyIHZlcnRpY2FsU2xpZGVzID0gdG9BcnJheSggaG9yaXpvbnRhbFNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICdzZWN0aW9uJyApICksCgkJCQkJdmVydGljYWxTbGlkZXNMZW5ndGggPSB2ZXJ0aWNhbFNsaWRlcy5sZW5ndGg7CgoJCQkJLy8gRGV0ZXJtaW5lIGhvdyBmYXIgYXdheSB0aGlzIHNsaWRlIGlzIGZyb20gdGhlIHByZXNlbnQKCQkJCWRpc3RhbmNlWCA9IE1hdGguYWJzKCAoIGluZGV4aCB8fCAwICkgLSB4ICkgfHwgMDsKCgkJCQkvLyBJZiB0aGUgcHJlc2VudGF0aW9uIGlzIGxvb3BlZCwgZGlzdGFuY2Ugc2hvdWxkIG1lYXN1cmUKCQkJCS8vIDEgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3Qgc2xpZGVzCgkJCQlpZiggY29uZmlnLmxvb3AgKSB7CgkJCQkJZGlzdGFuY2VYID0gTWF0aC5hYnMoICggKCBpbmRleGggfHwgMCApIC0geCApICUgKCBob3Jpem9udGFsU2xpZGVzTGVuZ3RoIC0gdmlld0Rpc3RhbmNlICkgKSB8fCAwOwoJCQkJfQoKCQkJCS8vIFNob3cgdGhlIGhvcml6b250YWwgc2xpZGUgaWYgaXQncyB3aXRoaW4gdGhlIHZpZXcgZGlzdGFuY2UKCQkJCWlmKCBkaXN0YW5jZVggPCB2aWV3RGlzdGFuY2UgKSB7CgkJCQkJbG9hZFNsaWRlKCBob3Jpem9udGFsU2xpZGUgKTsKCQkJCX0KCQkJCWVsc2UgewoJCQkJCXVubG9hZFNsaWRlKCBob3Jpem9udGFsU2xpZGUgKTsKCQkJCX0KCgkJCQlpZiggdmVydGljYWxTbGlkZXNMZW5ndGggKSB7CgoJCQkJCXZhciBveSA9IGdldFByZXZpb3VzVmVydGljYWxJbmRleCggaG9yaXpvbnRhbFNsaWRlICk7CgoJCQkJCWZvciggdmFyIHkgPSAwOyB5IDwgdmVydGljYWxTbGlkZXNMZW5ndGg7IHkrKyApIHsKCQkJCQkJdmFyIHZlcnRpY2FsU2xpZGUgPSB2ZXJ0aWNhbFNsaWRlc1t5XTsKCgkJCQkJCWRpc3RhbmNlWSA9IHggPT09ICggaW5kZXhoIHx8IDAgKSA/IE1hdGguYWJzKCAoIGluZGV4diB8fCAwICkgLSB5ICkgOiBNYXRoLmFicyggeSAtIG95ICk7CgoJCQkJCQlpZiggZGlzdGFuY2VYICsgZGlzdGFuY2VZIDwgdmlld0Rpc3RhbmNlICkgewoJCQkJCQkJbG9hZFNsaWRlKCB2ZXJ0aWNhbFNsaWRlICk7CgkJCQkJCX0KCQkJCQkJZWxzZSB7CgkJCQkJCQl1bmxvYWRTbGlkZSggdmVydGljYWxTbGlkZSApOwoJCQkJCQl9CgkJCQkJfQoKCQkJCX0KCQkJfQoKCQkJLy8gRmxhZyBpZiB0aGVyZSBhcmUgQU5ZIHZlcnRpY2FsIHNsaWRlcywgYW55d2hlcmUgaW4gdGhlIGRlY2sKCQkJaWYoIGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoICcuc2xpZGVzPnNlY3Rpb24+c2VjdGlvbicgKS5sZW5ndGggKSB7CgkJCQlkb20ud3JhcHBlci5jbGFzc0xpc3QuYWRkKCAnaGFzLXZlcnRpY2FsLXNsaWRlcycgKTsKCQkJfQoJCQllbHNlIHsKCQkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoICdoYXMtdmVydGljYWwtc2xpZGVzJyApOwoJCQl9CgoJCQkvLyBGbGFnIGlmIHRoZXJlIGFyZSBBTlkgaG9yaXpvbnRhbCBzbGlkZXMsIGFueXdoZXJlIGluIHRoZSBkZWNrCgkJCWlmKCBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCAnLnNsaWRlcz5zZWN0aW9uJyApLmxlbmd0aCA+IDEgKSB7CgkJCQlkb20ud3JhcHBlci5jbGFzc0xpc3QuYWRkKCAnaGFzLWhvcml6b250YWwtc2xpZGVzJyApOwoJCQl9CgkJCWVsc2UgewoJCQkJZG9tLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSggJ2hhcy1ob3Jpem9udGFsLXNsaWRlcycgKTsKCQkJfQoKCQl9CgoJfQoKCS8qKgoJICogUGljayB1cCBub3RlcyBmcm9tIHRoZSBjdXJyZW50IHNsaWRlIGFuZCBkaXNwbGF5IHRoZW0KCSAqIHRvIHRoZSB2aWV3ZXIuCgkgKgoJICogQHNlZSB7QGxpbmsgY29uZmlnLnNob3dOb3Rlc30KCSAqLwoJZnVuY3Rpb24gdXBkYXRlTm90ZXMoKSB7CgoJCWlmKCBjb25maWcuc2hvd05vdGVzICYmIGRvbS5zcGVha2VyTm90ZXMgJiYgY3VycmVudFNsaWRlICYmICFpc1ByaW50aW5nUERGKCkgKSB7CgoJCQlkb20uc3BlYWtlck5vdGVzLmlubmVySFRNTCA9IGdldFNsaWRlTm90ZXMoKSB8fCAnPHNwYW4gY2xhc3M9Im5vdGVzLXBsYWNlaG9sZGVyIj5ObyBub3RlcyBvbiB0aGlzIHNsaWRlLjwvc3Bhbj4nOwoKCQl9CgoJfQoKCS8qKgoJICogVXBkYXRlcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgc3BlYWtlciBub3RlcyBzaWRlYmFyIHRoYXQKCSAqIGlzIHVzZWQgdG8gc2hhcmUgYW5ub3RhdGVkIHNsaWRlcy4gVGhlIG5vdGVzIHNpZGViYXIgaXMKCSAqIG9ubHkgdmlzaWJsZSBpZiBzaG93Tm90ZXMgaXMgdHJ1ZSBhbmQgdGhlcmUgYXJlIG5vdGVzIG9uCgkgKiBvbmUgb3IgbW9yZSBzbGlkZXMgaW4gdGhlIGRlY2suCgkgKi8KCWZ1bmN0aW9uIHVwZGF0ZU5vdGVzVmlzaWJpbGl0eSgpIHsKCgkJaWYoIGNvbmZpZy5zaG93Tm90ZXMgJiYgaGFzTm90ZXMoKSApIHsKCQkJZG9tLndyYXBwZXIuY2xhc3NMaXN0LmFkZCggJ3Nob3ctbm90ZXMnICk7CgkJfQoJCWVsc2UgewoJCQlkb20ud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCAnc2hvdy1ub3RlcycgKTsKCQl9CgoJfQoKCS8qKgoJICogQ2hlY2tzIGlmIHRoZXJlIGFyZSBzcGVha2VyIG5vdGVzIGZvciBBTlkgc2xpZGUgaW4gdGhlCgkgKiBwcmVzZW50YXRpb24uCgkgKi8KCWZ1bmN0aW9uIGhhc05vdGVzKCkgewoKCQlyZXR1cm4gZG9tLnNsaWRlcy5xdWVyeVNlbGVjdG9yQWxsKCAnW2RhdGEtbm90ZXNdLCBhc2lkZS5ub3RlcycgKS5sZW5ndGggPiAwOwoKCX0KCgkvKioKCSAqIFVwZGF0ZXMgdGhlIHByb2dyZXNzIGJhciB0byByZWZsZWN0IHRoZSBjdXJyZW50IHNsaWRlLgoJICovCglmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcygpIHsKCgkJLy8gVXBkYXRlIHByb2dyZXNzIGlmIGVuYWJsZWQKCQlpZiggY29uZmlnLnByb2dyZXNzICYmIGRvbS5wcm9ncmVzc2JhciApIHsKCgkJCWRvbS5wcm9ncmVzc2Jhci5zdHlsZS53aWR0aCA9IGdldFByb2dyZXNzKCkgKiBkb20ud3JhcHBlci5vZmZzZXRXaWR0aCArICdweCc7CgoJCX0KCgl9CgoKCS8qKgoJICogVXBkYXRlcyB0aGUgc2xpZGUgbnVtYmVyIGRpdiB0byByZWZsZWN0IHRoZSBjdXJyZW50IHNsaWRlLgoJICoKCSAqIFRoZSBmb2xsb3dpbmcgc2xpZGUgbnVtYmVyIGZvcm1hdHMgYXJlIGF2YWlsYWJsZToKCSAqICAiaC52IjoJaG9yaXpvbnRhbCAuIHZlcnRpY2FsIHNsaWRlIG51bWJlciAoZGVmYXVsdCkKCSAqICAiaC92IjoJaG9yaXpvbnRhbCAvIHZlcnRpY2FsIHNsaWRlIG51bWJlcgoJICogICAgImMiOglmbGF0dGVuZWQgc2xpZGUgbnVtYmVyCgkgKiAgImMvdCI6CWZsYXR0ZW5lZCBzbGlkZSBudW1iZXIgLyB0b3RhbCBzbGlkZXMKCSAqLwoJZnVuY3Rpb24gdXBkYXRlU2xpZGVOdW1iZXIoKSB7CgoJCS8vIFVwZGF0ZSBzbGlkZSBudW1iZXIgaWYgZW5hYmxlZAoJCWlmKCBjb25maWcuc2xpZGVOdW1iZXIgJiYgZG9tLnNsaWRlTnVtYmVyICkgewoKCQkJdmFyIHZhbHVlID0gW107CgkJCXZhciBmb3JtYXQgPSAnaC52JzsKCgkJCS8vIENoZWNrIGlmIGEgY3VzdG9tIG51bWJlciBmb3JtYXQgaXMgYXZhaWxhYmxlCgkJCWlmKCB0eXBlb2YgY29uZmlnLnNsaWRlTnVtYmVyID09PSAnc3RyaW5nJyApIHsKCQkJCWZvcm1hdCA9IGNvbmZpZy5zbGlkZU51bWJlcjsKCQkJfQoKCQkJLy8gSWYgdGhlcmUgYXJlIE9OTFkgdmVydGljYWwgc2xpZGVzIGluIHRoaXMgZGVjaywgYWx3YXlzIHVzZQoJCQkvLyBhIGZsYXR0ZW5lZCBzbGlkZSBudW1iZXIKCQkJaWYoICEvYy8udGVzdCggZm9ybWF0ICkgJiYgZG9tLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbCggSE9SSVpPTlRBTF9TTElERVNfU0VMRUNUT1IgKS5sZW5ndGggPT09IDEgKSB7CgkJCQlmb3JtYXQgPSAnYyc7CgkJCX0KCgkJCXN3aXRjaCggZm9ybWF0ICkgewoJCQkJY2FzZSAnYyc6CgkJCQkJdmFsdWUucHVzaCggZ2V0U2xpZGVQYXN0Q291bnQoKSArIDEgKTsKCQkJCQlicmVhazsKCQkJCWNhc2UgJ2MvdCc6CgkJCQkJdmFsdWUucHVzaCggZ2V0U2xpZGVQYXN0Q291bnQoKSArIDEsICcvJywgZ2V0VG90YWxTbGlkZXMoKSApOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSAnaC92JzoKCQkJCQl2YWx1ZS5wdXNoKCBpbmRleGggKyAxICk7CgkJCQkJaWYoIGlzVmVydGljYWxTbGlkZSgpICkgdmFsdWUucHVzaCggJy8nLCBpbmRleHYgKyAxICk7CgkJCQkJYnJlYWs7CgkJCQlkZWZhdWx0OgoJCQkJCXZhbHVlLnB1c2goIGluZGV4aCArIDEgKTsKCQkJCQlpZiggaXNWZXJ0aWNhbFNsaWRlKCkgKSB2YWx1ZS5wdXNoKCAnLicsIGluZGV4diArIDEgKTsKCQkJfQoKCQkJZG9tLnNsaWRlTnVtYmVyLmlubmVySFRNTCA9IGZvcm1hdFNsaWRlTnVtYmVyKCB2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdICk7CgkJfQoKCX0KCgkvKioKCSAqIEFwcGxpZXMgSFRNTCBmb3JtYXR0aW5nIHRvIGEgc2xpZGUgbnVtYmVyIGJlZm9yZSBpdCdzCgkgKiB3cml0dGVuIHRvIHRoZSBET00uCgkgKgoJICogQHBhcmFtIHtudW1iZXJ9IGEgQ3VycmVudCBzbGlkZQoJICogQHBhcmFtIHtzdHJpbmd9IGRlbGltaXRlciBDaGFyYWN0ZXIgdG8gc2VwYXJhdGUgc2xpZGUgbnVtYmVycwoJICogQHBhcmFtIHsobnVtYmVyfCopfSBiIFRvdGFsIHNsaWRlcwoJICogQHJldHVybiB7c3RyaW5nfSBIVE1MIHN0cmluZyBmcmFnbWVudAoJICovCglmdW5jdGlvbiBmb3JtYXRTbGlkZU51bWJlciggYSwgZGVsaW1pdGVyLCBiICkgewoKCQl2YXIgdXJsID0gJyMnICsgbG9jYXRpb25IYXNoKCk7CgkJaWYoIHR5cGVvZiBiID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oIGIgKSApIHsKCQkJcmV0dXJuICAnPGEgaHJlZj0iJyArIHVybCArICciPicgKwoJCQkJCSc8c3BhbiBjbGFzcz0ic2xpZGUtbnVtYmVyLWEiPicrIGEgKyc8L3NwYW4+JyArCgkJCQkJJzxzcGFuIGNsYXNzPSJzbGlkZS1udW1iZXItZGVsaW1pdGVyIj4nKyBkZWxpbWl0ZXIgKyc8L3NwYW4+JyArCgkJCQkJJzxzcGFuIGNsYXNzPSJzbGlkZS1udW1iZXItYiI+JysgYiArJzwvc3Bhbj4nICsKCQkJCQknPC9hPic7CgkJfQoJCWVsc2UgewoJCQlyZXR1cm4gJzxhIGhyZWY9IicgKyB1cmwgKyAnIj4nICsKCQkJICAgICAgICc8c3BhbiBjbGFzcz0ic2xpZGUtbnVtYmVyLWEiPicrIGEgKyc8L3NwYW4+JyArCgkJCSAgICAgICAnPC9hPic7CgkJfQoKCX0KCgkvKioKCSAqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIGFsbCBjb250cm9sL25hdmlnYXRpb24gYXJyb3dzLgoJICovCglmdW5jdGlvbiB1cGRhdGVDb250cm9scygpIHsKCgkJdmFyIHJvdXRlcyA9IGF2YWlsYWJsZVJvdXRlcygpOwoJCXZhciBmcmFnbWVudHMgPSBhdmFpbGFibGVGcmFnbWVudHMoKTsKCgkJLy8gUmVtb3ZlIHRoZSAnZW5hYmxlZCcgY2xhc3MgZnJvbSBhbGwgZGlyZWN0aW9ucwoJCWRvbS5jb250cm9sc0xlZnQuY29uY2F0KCBkb20uY29udHJvbHNSaWdodCApCgkJCQkJCS5jb25jYXQoIGRvbS5jb250cm9sc1VwICkKCQkJCQkJLmNvbmNhdCggZG9tLmNvbnRyb2xzRG93biApCgkJCQkJCS5jb25jYXQoIGRvbS5jb250cm9sc1ByZXYgKQoJCQkJCQkuY29uY2F0KCBkb20uY29udHJvbHNOZXh0ICkuZm9yRWFjaCggZnVuY3Rpb24oIG5vZGUgKSB7CgkJCW5vZGUuY2xhc3NMaXN0LnJlbW92ZSggJ2VuYWJsZWQnICk7CgkJCW5vZGUuY2xhc3NMaXN0LnJlbW92ZSggJ2ZyYWdtZW50ZWQnICk7CgoJCQkvLyBTZXQgJ2Rpc2FibGVkJyBhdHRyaWJ1dGUgb24gYWxsIGRpcmVjdGlvbnMKCQkJbm9kZS5zZXRBdHRyaWJ1dGUoICdkaXNhYmxlZCcsICdkaXNhYmxlZCcgKTsKCQl9ICk7CgoJCS8vIEFkZCB0aGUgJ2VuYWJsZWQnIGNsYXNzIHRvIHRoZSBhdmFpbGFibGUgcm91dGVzOyByZW1vdmUgJ2Rpc2FibGVkJyBhdHRyaWJ1dGUgdG8gZW5hYmxlIGJ1dHRvbnMKCQlpZiggcm91dGVzLmxlZnQgKSBkb20uY29udHJvbHNMZWZ0LmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsgZWwuY2xhc3NMaXN0LmFkZCggJ2VuYWJsZWQnICk7IGVsLnJlbW92ZUF0dHJpYnV0ZSggJ2Rpc2FibGVkJyApOyB9ICk7CgkJaWYoIHJvdXRlcy5yaWdodCApIGRvbS5jb250cm9sc1JpZ2h0LmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsgZWwuY2xhc3NMaXN0LmFkZCggJ2VuYWJsZWQnICk7IGVsLnJlbW92ZUF0dHJpYnV0ZSggJ2Rpc2FibGVkJyApOyB9ICk7CgkJaWYoIHJvdXRlcy51cCApIGRvbS5jb250cm9sc1VwLmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsgZWwuY2xhc3NMaXN0LmFkZCggJ2VuYWJsZWQnICk7IGVsLnJlbW92ZUF0dHJpYnV0ZSggJ2Rpc2FibGVkJyApOyB9ICk7CgkJaWYoIHJvdXRlcy5kb3duICkgZG9tLmNvbnRyb2xzRG93bi5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7IGVsLmNsYXNzTGlzdC5hZGQoICdlbmFibGVkJyApOyBlbC5yZW1vdmVBdHRyaWJ1dGUoICdkaXNhYmxlZCcgKTsgfSApOwoKCQkvLyBQcmV2L25leHQgYnV0dG9ucwoJCWlmKCByb3V0ZXMubGVmdCB8fCByb3V0ZXMudXAgKSBkb20uY29udHJvbHNQcmV2LmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsgZWwuY2xhc3NMaXN0LmFkZCggJ2VuYWJsZWQnICk7IGVsLnJlbW92ZUF0dHJpYnV0ZSggJ2Rpc2FibGVkJyApOyB9ICk7CgkJaWYoIHJvdXRlcy5yaWdodCB8fCByb3V0ZXMuZG93biApIGRvbS5jb250cm9sc05leHQuZm9yRWFjaCggZnVuY3Rpb24oIGVsICkgeyBlbC5jbGFzc0xpc3QuYWRkKCAnZW5hYmxlZCcgKTsgZWwucmVtb3ZlQXR0cmlidXRlKCAnZGlzYWJsZWQnICk7IH0gKTsKCgkJLy8gSGlnaGxpZ2h0IGZyYWdtZW50IGRpcmVjdGlvbnMKCQlpZiggY3VycmVudFNsaWRlICkgewoKCQkJLy8gQWx3YXlzIGFwcGx5IGZyYWdtZW50IGRlY29yYXRvciB0byBwcmV2L25leHQgYnV0dG9ucwoJCQlpZiggZnJhZ21lbnRzLnByZXYgKSBkb20uY29udHJvbHNQcmV2LmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsgZWwuY2xhc3NMaXN0LmFkZCggJ2ZyYWdtZW50ZWQnLCAnZW5hYmxlZCcgKTsgZWwucmVtb3ZlQXR0cmlidXRlKCAnZGlzYWJsZWQnICk7IH0gKTsKCQkJaWYoIGZyYWdtZW50cy5uZXh0ICkgZG9tLmNvbnRyb2xzTmV4dC5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7IGVsLmNsYXNzTGlzdC5hZGQoICdmcmFnbWVudGVkJywgJ2VuYWJsZWQnICk7IGVsLnJlbW92ZUF0dHJpYnV0ZSggJ2Rpc2FibGVkJyApOyB9ICk7CgoJCQkvLyBBcHBseSBmcmFnbWVudCBkZWNvcmF0b3JzIHRvIGRpcmVjdGlvbmFsIGJ1dHRvbnMgYmFzZWQgb24KCQkJLy8gd2hhdCBzbGlkZSBheGlzIHRoZXkgYXJlIGluCgkJCWlmKCBpc1ZlcnRpY2FsU2xpZGUoIGN1cnJlbnRTbGlkZSApICkgewoJCQkJaWYoIGZyYWdtZW50cy5wcmV2ICkgZG9tLmNvbnRyb2xzVXAuZm9yRWFjaCggZnVuY3Rpb24oIGVsICkgeyBlbC5jbGFzc0xpc3QuYWRkKCAnZnJhZ21lbnRlZCcsICdlbmFibGVkJyApOyBlbC5yZW1vdmVBdHRyaWJ1dGUoICdkaXNhYmxlZCcgKTsgfSApOwoJCQkJaWYoIGZyYWdtZW50cy5uZXh0ICkgZG9tLmNvbnRyb2xzRG93bi5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7IGVsLmNsYXNzTGlzdC5hZGQoICdmcmFnbWVudGVkJywgJ2VuYWJsZWQnICk7IGVsLnJlbW92ZUF0dHJpYnV0ZSggJ2Rpc2FibGVkJyApOyB9ICk7CgkJCX0KCQkJZWxzZSB7CgkJCQlpZiggZnJhZ21lbnRzLnByZXYgKSBkb20uY29udHJvbHNMZWZ0LmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsgZWwuY2xhc3NMaXN0LmFkZCggJ2ZyYWdtZW50ZWQnLCAnZW5hYmxlZCcgKTsgZWwucmVtb3ZlQXR0cmlidXRlKCAnZGlzYWJsZWQnICk7IH0gKTsKCQkJCWlmKCBmcmFnbWVudHMubmV4dCApIGRvbS5jb250cm9sc1JpZ2h0LmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsgZWwuY2xhc3NMaXN0LmFkZCggJ2ZyYWdtZW50ZWQnLCAnZW5hYmxlZCcgKTsgZWwucmVtb3ZlQXR0cmlidXRlKCAnZGlzYWJsZWQnICk7IH0gKTsKCQkJfQoKCQl9CgoJCWlmKCBjb25maWcuY29udHJvbHNUdXRvcmlhbCApIHsKCgkJCS8vIEhpZ2hsaWdodCBjb250cm9sIGFycm93cyB3aXRoIGFuIGFuaW1hdGlvbiB0byBlbnN1cmUKCQkJLy8gdGhhdCB0aGUgdmlld2VyIGtub3dzIGhvdyB0byBuYXZpZ2F0ZQoJCQlpZiggIWhhc05hdmlnYXRlZERvd24gJiYgcm91dGVzLmRvd24gKSB7CgkJCQlkb20uY29udHJvbHNEb3duQXJyb3cuY2xhc3NMaXN0LmFkZCggJ2hpZ2hsaWdodCcgKTsKCQkJfQoJCQllbHNlIHsKCQkJCWRvbS5jb250cm9sc0Rvd25BcnJvdy5jbGFzc0xpc3QucmVtb3ZlKCAnaGlnaGxpZ2h0JyApOwoKCQkJCWlmKCAhaGFzTmF2aWdhdGVkUmlnaHQgJiYgcm91dGVzLnJpZ2h0ICYmIGluZGV4diA9PT0gMCApIHsKCQkJCQlkb20uY29udHJvbHNSaWdodEFycm93LmNsYXNzTGlzdC5hZGQoICdoaWdobGlnaHQnICk7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQlkb20uY29udHJvbHNSaWdodEFycm93LmNsYXNzTGlzdC5yZW1vdmUoICdoaWdobGlnaHQnICk7CgkJCQl9CgkJCX0KCgkJfQoKCX0KCgkvKioKCSAqIFVwZGF0ZXMgdGhlIGJhY2tncm91bmQgZWxlbWVudHMgdG8gcmVmbGVjdCB0aGUgY3VycmVudAoJICogc2xpZGUuCgkgKgoJICogQHBhcmFtIHtib29sZWFufSBpbmNsdWRlQWxsIElmIHRydWUsIHRoZSBiYWNrZ3JvdW5kcyBvZgoJICogYWxsIHZlcnRpY2FsIHNsaWRlcyAobm90IGp1c3QgdGhlIHByZXNlbnQpIHdpbGwgYmUgdXBkYXRlZC4KCSAqLwoJZnVuY3Rpb24gdXBkYXRlQmFja2dyb3VuZCggaW5jbHVkZUFsbCApIHsKCgkJdmFyIGN1cnJlbnRCYWNrZ3JvdW5kID0gbnVsbDsKCgkJLy8gUmV2ZXJzZSBwYXN0L2Z1dHVyZSBjbGFzc2VzIHdoZW4gaW4gUlRMIG1vZGUKCQl2YXIgaG9yaXpvbnRhbFBhc3QgPSBjb25maWcucnRsID8gJ2Z1dHVyZScgOiAncGFzdCcsCgkJCWhvcml6b250YWxGdXR1cmUgPSBjb25maWcucnRsID8gJ3Bhc3QnIDogJ2Z1dHVyZSc7CgoJCS8vIFVwZGF0ZSB0aGUgY2xhc3NlcyBvZiBhbGwgYmFja2dyb3VuZHMgdG8gbWF0Y2ggdGhlCgkJLy8gc3RhdGVzIG9mIHRoZWlyIHNsaWRlcyAocGFzdC9wcmVzZW50L2Z1dHVyZSkKCQl0b0FycmF5KCBkb20uYmFja2dyb3VuZC5jaGlsZE5vZGVzICkuZm9yRWFjaCggZnVuY3Rpb24oIGJhY2tncm91bmRoLCBoICkgewoKCQkJYmFja2dyb3VuZGguY2xhc3NMaXN0LnJlbW92ZSggJ3Bhc3QnICk7CgkJCWJhY2tncm91bmRoLmNsYXNzTGlzdC5yZW1vdmUoICdwcmVzZW50JyApOwoJCQliYWNrZ3JvdW5kaC5jbGFzc0xpc3QucmVtb3ZlKCAnZnV0dXJlJyApOwoKCQkJaWYoIGggPCBpbmRleGggKSB7CgkJCQliYWNrZ3JvdW5kaC5jbGFzc0xpc3QuYWRkKCBob3Jpem9udGFsUGFzdCApOwoJCQl9CgkJCWVsc2UgaWYgKCBoID4gaW5kZXhoICkgewoJCQkJYmFja2dyb3VuZGguY2xhc3NMaXN0LmFkZCggaG9yaXpvbnRhbEZ1dHVyZSApOwoJCQl9CgkJCWVsc2UgewoJCQkJYmFja2dyb3VuZGguY2xhc3NMaXN0LmFkZCggJ3ByZXNlbnQnICk7CgoJCQkJLy8gU3RvcmUgYSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgYmFja2dyb3VuZCBlbGVtZW50CgkJCQljdXJyZW50QmFja2dyb3VuZCA9IGJhY2tncm91bmRoOwoJCQl9CgoJCQlpZiggaW5jbHVkZUFsbCB8fCBoID09PSBpbmRleGggKSB7CgkJCQl0b0FycmF5KCBiYWNrZ3JvdW5kaC5xdWVyeVNlbGVjdG9yQWxsKCAnLnNsaWRlLWJhY2tncm91bmQnICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggYmFja2dyb3VuZHYsIHYgKSB7CgoJCQkJCWJhY2tncm91bmR2LmNsYXNzTGlzdC5yZW1vdmUoICdwYXN0JyApOwoJCQkJCWJhY2tncm91bmR2LmNsYXNzTGlzdC5yZW1vdmUoICdwcmVzZW50JyApOwoJCQkJCWJhY2tncm91bmR2LmNsYXNzTGlzdC5yZW1vdmUoICdmdXR1cmUnICk7CgoJCQkJCWlmKCB2IDwgaW5kZXh2ICkgewoJCQkJCQliYWNrZ3JvdW5kdi5jbGFzc0xpc3QuYWRkKCAncGFzdCcgKTsKCQkJCQl9CgkJCQkJZWxzZSBpZiAoIHYgPiBpbmRleHYgKSB7CgkJCQkJCWJhY2tncm91bmR2LmNsYXNzTGlzdC5hZGQoICdmdXR1cmUnICk7CgkJCQkJfQoJCQkJCWVsc2UgewoJCQkJCQliYWNrZ3JvdW5kdi5jbGFzc0xpc3QuYWRkKCAncHJlc2VudCcgKTsKCgkJCQkJCS8vIE9ubHkgaWYgdGhpcyBpcyB0aGUgcHJlc2VudCBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBzbGlkZQoJCQkJCQlpZiggaCA9PT0gaW5kZXhoICkgY3VycmVudEJhY2tncm91bmQgPSBiYWNrZ3JvdW5kdjsKCQkJCQl9CgoJCQkJfSApOwoJCQl9CgoJCX0gKTsKCgkJLy8gU3RvcCBjb250ZW50IGluc2lkZSBvZiBwcmV2aW91cyBiYWNrZ3JvdW5kcwoJCWlmKCBwcmV2aW91c0JhY2tncm91bmQgKSB7CgoJCQlzdG9wRW1iZWRkZWRDb250ZW50KCBwcmV2aW91c0JhY2tncm91bmQgKTsKCgkJfQoKCQkvLyBTdGFydCBjb250ZW50IGluIHRoZSBjdXJyZW50IGJhY2tncm91bmQKCQlpZiggY3VycmVudEJhY2tncm91bmQgKSB7CgoJCQlzdGFydEVtYmVkZGVkQ29udGVudCggY3VycmVudEJhY2tncm91bmQgKTsKCgkJCXZhciBjdXJyZW50QmFja2dyb3VuZENvbnRlbnQgPSBjdXJyZW50QmFja2dyb3VuZC5xdWVyeVNlbGVjdG9yKCAnLnNsaWRlLWJhY2tncm91bmQtY29udGVudCcgKTsKCQkJaWYoIGN1cnJlbnRCYWNrZ3JvdW5kQ29udGVudCApIHsKCgkJCQl2YXIgYmFja2dyb3VuZEltYWdlVVJMID0gY3VycmVudEJhY2tncm91bmRDb250ZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSB8fCAnJzsKCgkJCQkvLyBSZXN0YXJ0IEdJRnMgKGRvZXNuJ3Qgd29yayBpbiBGaXJlZm94KQoJCQkJaWYoIC9cLmdpZi9pLnRlc3QoIGJhY2tncm91bmRJbWFnZVVSTCApICkgewoJCQkJCWN1cnJlbnRCYWNrZ3JvdW5kQ29udGVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnJzsKCQkJCQl3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggY3VycmVudEJhY2tncm91bmRDb250ZW50ICkub3BhY2l0eTsKCQkJCQljdXJyZW50QmFja2dyb3VuZENvbnRlbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYmFja2dyb3VuZEltYWdlVVJMOwoJCQkJfQoKCQkJfQoKCQkJLy8gRG9uJ3QgdHJhbnNpdGlvbiBiZXR3ZWVuIGlkZW50aWNhbCBiYWNrZ3JvdW5kcy4gVGhpcwoJCQkvLyBwcmV2ZW50cyB1bndhbnRlZCBmbGlja2VyLgoJCQl2YXIgcHJldmlvdXNCYWNrZ3JvdW5kSGFzaCA9IHByZXZpb3VzQmFja2dyb3VuZCA/IHByZXZpb3VzQmFja2dyb3VuZC5nZXRBdHRyaWJ1dGUoICdkYXRhLWJhY2tncm91bmQtaGFzaCcgKSA6IG51bGw7CgkJCXZhciBjdXJyZW50QmFja2dyb3VuZEhhc2ggPSBjdXJyZW50QmFja2dyb3VuZC5nZXRBdHRyaWJ1dGUoICdkYXRhLWJhY2tncm91bmQtaGFzaCcgKTsKCQkJaWYoIGN1cnJlbnRCYWNrZ3JvdW5kSGFzaCAmJiBjdXJyZW50QmFja2dyb3VuZEhhc2ggPT09IHByZXZpb3VzQmFja2dyb3VuZEhhc2ggJiYgY3VycmVudEJhY2tncm91bmQgIT09IHByZXZpb3VzQmFja2dyb3VuZCApIHsKCQkJCWRvbS5iYWNrZ3JvdW5kLmNsYXNzTGlzdC5hZGQoICduby10cmFuc2l0aW9uJyApOwoJCQl9CgoJCQlwcmV2aW91c0JhY2tncm91bmQgPSBjdXJyZW50QmFja2dyb3VuZDsKCgkJfQoKCQkvLyBJZiB0aGVyZSdzIGEgYmFja2dyb3VuZCBicmlnaHRuZXNzIGZsYWcgZm9yIHRoaXMgc2xpZGUsCgkJLy8gYnViYmxlIGl0IHRvIHRoZSAucmV2ZWFsIGNvbnRhaW5lcgoJCWlmKCBjdXJyZW50U2xpZGUgKSB7CgkJCVsgJ2hhcy1saWdodC1iYWNrZ3JvdW5kJywgJ2hhcy1kYXJrLWJhY2tncm91bmQnIF0uZm9yRWFjaCggZnVuY3Rpb24oIGNsYXNzVG9CdWJibGUgKSB7CgkJCQlpZiggY3VycmVudFNsaWRlLmNsYXNzTGlzdC5jb250YWlucyggY2xhc3NUb0J1YmJsZSApICkgewoJCQkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5hZGQoIGNsYXNzVG9CdWJibGUgKTsKCQkJCX0KCQkJCWVsc2UgewoJCQkJCWRvbS53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoIGNsYXNzVG9CdWJibGUgKTsKCQkJCX0KCQkJfSApOwoJCX0KCgkJLy8gQWxsb3cgdGhlIGZpcnN0IGJhY2tncm91bmQgdG8gYXBwbHkgd2l0aG91dCB0cmFuc2l0aW9uCgkJc2V0VGltZW91dCggZnVuY3Rpb24oKSB7CgkJCWRvbS5iYWNrZ3JvdW5kLmNsYXNzTGlzdC5yZW1vdmUoICduby10cmFuc2l0aW9uJyApOwoJCX0sIDEgKTsKCgl9CgoJLyoqCgkgKiBVcGRhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGFyYWxsYXggYmFja2dyb3VuZCBiYXNlZAoJICogb24gdGhlIGN1cnJlbnQgc2xpZGUgaW5kZXguCgkgKi8KCWZ1bmN0aW9uIHVwZGF0ZVBhcmFsbGF4KCkgewoKCQlpZiggY29uZmlnLnBhcmFsbGF4QmFja2dyb3VuZEltYWdlICkgewoKCQkJdmFyIGhvcml6b250YWxTbGlkZXMgPSBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBIT1JJWk9OVEFMX1NMSURFU19TRUxFQ1RPUiApLAoJCQkJdmVydGljYWxTbGlkZXMgPSBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBWRVJUSUNBTF9TTElERVNfU0VMRUNUT1IgKTsKCgkJCXZhciBiYWNrZ3JvdW5kU2l6ZSA9IGRvbS5iYWNrZ3JvdW5kLnN0eWxlLmJhY2tncm91bmRTaXplLnNwbGl0KCAnICcgKSwKCQkJCWJhY2tncm91bmRXaWR0aCwgYmFja2dyb3VuZEhlaWdodDsKCgkJCWlmKCBiYWNrZ3JvdW5kU2l6ZS5sZW5ndGggPT09IDEgKSB7CgkJCQliYWNrZ3JvdW5kV2lkdGggPSBiYWNrZ3JvdW5kSGVpZ2h0ID0gcGFyc2VJbnQoIGJhY2tncm91bmRTaXplWzBdLCAxMCApOwoJCQl9CgkJCWVsc2UgewoJCQkJYmFja2dyb3VuZFdpZHRoID0gcGFyc2VJbnQoIGJhY2tncm91bmRTaXplWzBdLCAxMCApOwoJCQkJYmFja2dyb3VuZEhlaWdodCA9IHBhcnNlSW50KCBiYWNrZ3JvdW5kU2l6ZVsxXSwgMTAgKTsKCQkJfQoKCQkJdmFyIHNsaWRlV2lkdGggPSBkb20uYmFja2dyb3VuZC5vZmZzZXRXaWR0aCwKCQkJCWhvcml6b250YWxTbGlkZUNvdW50ID0gaG9yaXpvbnRhbFNsaWRlcy5sZW5ndGgsCgkJCQlob3Jpem9udGFsT2Zmc2V0TXVsdGlwbGllciwKCQkJCWhvcml6b250YWxPZmZzZXQ7CgoJCQlpZiggdHlwZW9mIGNvbmZpZy5wYXJhbGxheEJhY2tncm91bmRIb3Jpem9udGFsID09PSAnbnVtYmVyJyApIHsKCQkJCWhvcml6b250YWxPZmZzZXRNdWx0aXBsaWVyID0gY29uZmlnLnBhcmFsbGF4QmFja2dyb3VuZEhvcml6b250YWw7CgkJCX0KCQkJZWxzZSB7CgkJCQlob3Jpem9udGFsT2Zmc2V0TXVsdGlwbGllciA9IGhvcml6b250YWxTbGlkZUNvdW50ID4gMSA/ICggYmFja2dyb3VuZFdpZHRoIC0gc2xpZGVXaWR0aCApIC8gKCBob3Jpem9udGFsU2xpZGVDb3VudC0xICkgOiAwOwoJCQl9CgoJCQlob3Jpem9udGFsT2Zmc2V0ID0gaG9yaXpvbnRhbE9mZnNldE11bHRpcGxpZXIgKiBpbmRleGggKiAtMTsKCgkJCXZhciBzbGlkZUhlaWdodCA9IGRvbS5iYWNrZ3JvdW5kLm9mZnNldEhlaWdodCwKCQkJCXZlcnRpY2FsU2xpZGVDb3VudCA9IHZlcnRpY2FsU2xpZGVzLmxlbmd0aCwKCQkJCXZlcnRpY2FsT2Zmc2V0TXVsdGlwbGllciwKCQkJCXZlcnRpY2FsT2Zmc2V0OwoKCQkJaWYoIHR5cGVvZiBjb25maWcucGFyYWxsYXhCYWNrZ3JvdW5kVmVydGljYWwgPT09ICdudW1iZXInICkgewoJCQkJdmVydGljYWxPZmZzZXRNdWx0aXBsaWVyID0gY29uZmlnLnBhcmFsbGF4QmFja2dyb3VuZFZlcnRpY2FsOwoJCQl9CgkJCWVsc2UgewoJCQkJdmVydGljYWxPZmZzZXRNdWx0aXBsaWVyID0gKCBiYWNrZ3JvdW5kSGVpZ2h0IC0gc2xpZGVIZWlnaHQgKSAvICggdmVydGljYWxTbGlkZUNvdW50LTEgKTsKCQkJfQoKCQkJdmVydGljYWxPZmZzZXQgPSB2ZXJ0aWNhbFNsaWRlQ291bnQgPiAwID8gIHZlcnRpY2FsT2Zmc2V0TXVsdGlwbGllciAqIGluZGV4diA6IDA7CgoJCQlkb20uYmFja2dyb3VuZC5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBob3Jpem9udGFsT2Zmc2V0ICsgJ3B4ICcgKyAtdmVydGljYWxPZmZzZXQgKyAncHgnOwoKCQl9CgoJfQoKCS8qKgoJICogQ2FsbGVkIHdoZW4gdGhlIGdpdmVuIHNsaWRlIGlzIHdpdGhpbiB0aGUgY29uZmlndXJlZCB2aWV3CgkgKiBkaXN0YW5jZS4gU2hvd3MgdGhlIHNsaWRlIGVsZW1lbnQgYW5kIGxvYWRzIGFueSBjb250ZW50CgkgKiB0aGF0IGlzIHNldCB0byBsb2FkIGxhemlseSAoZGF0YS1zcmMpLgoJICoKCSAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHNsaWRlIFNsaWRlIHRvIHNob3cKCSAqLwoJZnVuY3Rpb24gbG9hZFNsaWRlKCBzbGlkZSwgb3B0aW9ucyApIHsKCgkJb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CgoJCS8vIFNob3cgdGhlIHNsaWRlIGVsZW1lbnQKCQlzbGlkZS5zdHlsZS5kaXNwbGF5ID0gY29uZmlnLmRpc3BsYXk7CgoJCS8vIE1lZGlhIGVsZW1lbnRzIHdpdGggZGF0YS1zcmMgYXR0cmlidXRlcwoJCXRvQXJyYXkoIHNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICdpbWdbZGF0YS1zcmNdLCB2aWRlb1tkYXRhLXNyY10sIGF1ZGlvW2RhdGEtc3JjXScgKSApLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtZW50ICkgewoJCQllbGVtZW50LnNldEF0dHJpYnV0ZSggJ3NyYycsIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCAnZGF0YS1zcmMnICkgKTsKCQkJZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdkYXRhLWxhenktbG9hZGVkJywgJycgKTsKCQkJZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoICdkYXRhLXNyYycgKTsKCQl9ICk7CgoJCS8vIE1lZGlhIGVsZW1lbnRzIHdpdGggPHNvdXJjZT4gY2hpbGRyZW4KCQl0b0FycmF5KCBzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCAndmlkZW8sIGF1ZGlvJyApICkuZm9yRWFjaCggZnVuY3Rpb24oIG1lZGlhICkgewoJCQl2YXIgc291cmNlcyA9IDA7CgoJCQl0b0FycmF5KCBtZWRpYS5xdWVyeVNlbGVjdG9yQWxsKCAnc291cmNlW2RhdGEtc3JjXScgKSApLmZvckVhY2goIGZ1bmN0aW9uKCBzb3VyY2UgKSB7CgkJCQlzb3VyY2Uuc2V0QXR0cmlidXRlKCAnc3JjJywgc291cmNlLmdldEF0dHJpYnV0ZSggJ2RhdGEtc3JjJyApICk7CgkJCQlzb3VyY2UucmVtb3ZlQXR0cmlidXRlKCAnZGF0YS1zcmMnICk7CgkJCQlzb3VyY2Uuc2V0QXR0cmlidXRlKCAnZGF0YS1sYXp5LWxvYWRlZCcsICcnICk7CgkJCQlzb3VyY2VzICs9IDE7CgkJCX0gKTsKCgkJCS8vIElmIHdlIHJld3JvdGUgc291cmNlcyBmb3IgdGhpcyB2aWRlby9hdWRpbyBlbGVtZW50LCB3ZSBuZWVkCgkJCS8vIHRvIG1hbnVhbGx5IHRlbGwgaXQgdG8gbG9hZCBmcm9tIGl0cyBuZXcgb3JpZ2luCgkJCWlmKCBzb3VyY2VzID4gMCApIHsKCQkJCW1lZGlhLmxvYWQoKTsKCQkJfQoJCX0gKTsKCgoJCS8vIFNob3cgdGhlIGNvcnJlc3BvbmRpbmcgYmFja2dyb3VuZCBlbGVtZW50CgkJdmFyIGJhY2tncm91bmQgPSBzbGlkZS5zbGlkZUJhY2tncm91bmRFbGVtZW50OwoJCWlmKCBiYWNrZ3JvdW5kICkgewoJCQliYWNrZ3JvdW5kLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwoKCQkJdmFyIGJhY2tncm91bmRDb250ZW50ID0gc2xpZGUuc2xpZGVCYWNrZ3JvdW5kQ29udGVudEVsZW1lbnQ7CgoJCQkvLyBJZiB0aGUgYmFja2dyb3VuZCBjb250YWlucyBtZWRpYSwgbG9hZCBpdAoJCQlpZiggYmFja2dyb3VuZC5oYXNBdHRyaWJ1dGUoICdkYXRhLWxvYWRlZCcgKSA9PT0gZmFsc2UgKSB7CgkJCQliYWNrZ3JvdW5kLnNldEF0dHJpYnV0ZSggJ2RhdGEtbG9hZGVkJywgJ3RydWUnICk7CgoJCQkJdmFyIGJhY2tncm91bmRJbWFnZSA9IHNsaWRlLmdldEF0dHJpYnV0ZSggJ2RhdGEtYmFja2dyb3VuZC1pbWFnZScgKSwKCQkJCQliYWNrZ3JvdW5kVmlkZW8gPSBzbGlkZS5nZXRBdHRyaWJ1dGUoICdkYXRhLWJhY2tncm91bmQtdmlkZW8nICksCgkJCQkJYmFja2dyb3VuZFZpZGVvTG9vcCA9IHNsaWRlLmhhc0F0dHJpYnV0ZSggJ2RhdGEtYmFja2dyb3VuZC12aWRlby1sb29wJyApLAoJCQkJCWJhY2tncm91bmRWaWRlb011dGVkID0gc2xpZGUuaGFzQXR0cmlidXRlKCAnZGF0YS1iYWNrZ3JvdW5kLXZpZGVvLW11dGVkJyApLAoJCQkJCWJhY2tncm91bmRJZnJhbWUgPSBzbGlkZS5nZXRBdHRyaWJ1dGUoICdkYXRhLWJhY2tncm91bmQtaWZyYW1lJyApOwoKCQkJCS8vIEltYWdlcwoJCQkJaWYoIGJhY2tncm91bmRJbWFnZSApIHsKCQkJCQliYWNrZ3JvdW5kQ29udGVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcrIGVuY29kZVVSSSggYmFja2dyb3VuZEltYWdlICkgKycpJzsKCQkJCX0KCQkJCS8vIFZpZGVvcwoJCQkJZWxzZSBpZiAoIGJhY2tncm91bmRWaWRlbyAmJiAhaXNTcGVha2VyTm90ZXMoKSApIHsKCQkJCQl2YXIgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAndmlkZW8nICk7CgoJCQkJCWlmKCBiYWNrZ3JvdW5kVmlkZW9Mb29wICkgewoJCQkJCQl2aWRlby5zZXRBdHRyaWJ1dGUoICdsb29wJywgJycgKTsKCQkJCQl9CgoJCQkJCWlmKCBiYWNrZ3JvdW5kVmlkZW9NdXRlZCApIHsKCQkJCQkJdmlkZW8ubXV0ZWQgPSB0cnVlOwoJCQkJCX0KCgkJCQkJLy8gSW5saW5lIHZpZGVvIHBsYXliYWNrIHdvcmtzIChhdCBsZWFzdCBpbiBNb2JpbGUgU2FmYXJpKSBhcwoJCQkJCS8vIGxvbmcgYXMgdGhlIHZpZGVvIGlzIG11dGVkIGFuZCB0aGUgYHBsYXlzaW5saW5lYCBhdHRyaWJ1dGUgaXMKCQkJCQkvLyBwcmVzZW50CgkJCQkJaWYoIGlzTW9iaWxlRGV2aWNlICkgewoJCQkJCQl2aWRlby5tdXRlZCA9IHRydWU7CgkJCQkJCXZpZGVvLmF1dG9wbGF5ID0gdHJ1ZTsKCQkJCQkJdmlkZW8uc2V0QXR0cmlidXRlKCAncGxheXNpbmxpbmUnLCAnJyApOwoJCQkJCX0KCgkJCQkJLy8gU3VwcG9ydCBjb21tYSBzZXBhcmF0ZWQgbGlzdHMgb2YgdmlkZW8gc291cmNlcwoJCQkJCWJhY2tncm91bmRWaWRlby5zcGxpdCggJywnICkuZm9yRWFjaCggZnVuY3Rpb24oIHNvdXJjZSApIHsKCQkJCQkJdmlkZW8uaW5uZXJIVE1MICs9ICc8c291cmNlIHNyYz0iJysgc291cmNlICsnIj4nOwoJCQkJCX0gKTsKCgkJCQkJYmFja2dyb3VuZENvbnRlbnQuYXBwZW5kQ2hpbGQoIHZpZGVvICk7CgkJCQl9CgkJCQkvLyBJZnJhbWVzCgkJCQllbHNlIGlmKCBiYWNrZ3JvdW5kSWZyYW1lICYmIG9wdGlvbnMuZXhjbHVkZUlmcmFtZXMgIT09IHRydWUgKSB7CgkJCQkJdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdpZnJhbWUnICk7CgkJCQkJaWZyYW1lLnNldEF0dHJpYnV0ZSggJ2FsbG93ZnVsbHNjcmVlbicsICcnICk7CgkJCQkJaWZyYW1lLnNldEF0dHJpYnV0ZSggJ21vemFsbG93ZnVsbHNjcmVlbicsICcnICk7CgkJCQkJaWZyYW1lLnNldEF0dHJpYnV0ZSggJ3dlYmtpdGFsbG93ZnVsbHNjcmVlbicsICcnICk7CgoJCQkJCS8vIE9ubHkgbG9hZCBhdXRvcGxheWluZyBjb250ZW50IHdoZW4gdGhlIHNsaWRlIGlzIHNob3duIHRvCgkJCQkJLy8gYXZvaWQgaGF2aW5nIGl0IHBsYXkgaW4gdGhlIGJhY2tncm91bmQKCQkJCQlpZiggL2F1dG9wbGF5PSgxfHRydWV8eWVzKS9naS50ZXN0KCBiYWNrZ3JvdW5kSWZyYW1lICkgKSB7CgkJCQkJCWlmcmFtZS5zZXRBdHRyaWJ1dGUoICdkYXRhLXNyYycsIGJhY2tncm91bmRJZnJhbWUgKTsKCQkJCQl9CgkJCQkJZWxzZSB7CgkJCQkJCWlmcmFtZS5zZXRBdHRyaWJ1dGUoICdzcmMnLCBiYWNrZ3JvdW5kSWZyYW1lICk7CgkJCQkJfQoKCQkJCQlpZnJhbWUuc3R5bGUud2lkdGggID0gJzEwMCUnOwoJCQkJCWlmcmFtZS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7CgkJCQkJaWZyYW1lLnN0eWxlLm1heEhlaWdodCA9ICcxMDAlJzsKCQkJCQlpZnJhbWUuc3R5bGUubWF4V2lkdGggPSAnMTAwJSc7CgoJCQkJCWJhY2tncm91bmRDb250ZW50LmFwcGVuZENoaWxkKCBpZnJhbWUgKTsKCQkJCX0KCQkJfQoKCQl9CgoJfQoKCS8qKgoJICogVW5sb2FkcyBhbmQgaGlkZXMgdGhlIGdpdmVuIHNsaWRlLiBUaGlzIGlzIGNhbGxlZCB3aGVuIHRoZQoJICogc2xpZGUgaXMgbW92ZWQgb3V0c2lkZSBvZiB0aGUgY29uZmlndXJlZCB2aWV3IGRpc3RhbmNlLgoJICoKCSAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHNsaWRlCgkgKi8KCWZ1bmN0aW9uIHVubG9hZFNsaWRlKCBzbGlkZSApIHsKCgkJLy8gSGlkZSB0aGUgc2xpZGUgZWxlbWVudAoJCXNsaWRlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgoJCS8vIEhpZGUgdGhlIGNvcnJlc3BvbmRpbmcgYmFja2dyb3VuZCBlbGVtZW50CgkJdmFyIGJhY2tncm91bmQgPSBnZXRTbGlkZUJhY2tncm91bmQoIHNsaWRlICk7CgkJaWYoIGJhY2tncm91bmQgKSB7CgkJCWJhY2tncm91bmQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCQl9CgoJCS8vIFJlc2V0IGxhenktbG9hZGVkIG1lZGlhIGVsZW1lbnRzIHdpdGggc3JjIGF0dHJpYnV0ZXMKCQl0b0FycmF5KCBzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCAndmlkZW9bZGF0YS1sYXp5LWxvYWRlZF1bc3JjXSwgYXVkaW9bZGF0YS1sYXp5LWxvYWRlZF1bc3JjXScgKSApLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtZW50ICkgewoJCQllbGVtZW50LnNldEF0dHJpYnV0ZSggJ2RhdGEtc3JjJywgZWxlbWVudC5nZXRBdHRyaWJ1dGUoICdzcmMnICkgKTsKCQkJZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoICdzcmMnICk7CgkJfSApOwoKCQkvLyBSZXNldCBsYXp5LWxvYWRlZCBtZWRpYSBlbGVtZW50cyB3aXRoIDxzb3VyY2U+IGNoaWxkcmVuCgkJdG9BcnJheSggc2xpZGUucXVlcnlTZWxlY3RvckFsbCggJ3ZpZGVvW2RhdGEtbGF6eS1sb2FkZWRdIHNvdXJjZVtzcmNdLCBhdWRpbyBzb3VyY2Vbc3JjXScgKSApLmZvckVhY2goIGZ1bmN0aW9uKCBzb3VyY2UgKSB7CgkJCXNvdXJjZS5zZXRBdHRyaWJ1dGUoICdkYXRhLXNyYycsIHNvdXJjZS5nZXRBdHRyaWJ1dGUoICdzcmMnICkgKTsKCQkJc291cmNlLnJlbW92ZUF0dHJpYnV0ZSggJ3NyYycgKTsKCQl9ICk7CgoJfQoKCS8qKgoJICogRGV0ZXJtaW5lIHdoYXQgYXZhaWxhYmxlIHJvdXRlcyB0aGVyZSBhcmUgZm9yIG5hdmlnYXRpb24uCgkgKgoJICogQHJldHVybiB7e2xlZnQ6IGJvb2xlYW4sIHJpZ2h0OiBib29sZWFuLCB1cDogYm9vbGVhbiwgZG93bjogYm9vbGVhbn19CgkgKi8KCWZ1bmN0aW9uIGF2YWlsYWJsZVJvdXRlcygpIHsKCgkJdmFyIGhvcml6b250YWxTbGlkZXMgPSBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBIT1JJWk9OVEFMX1NMSURFU19TRUxFQ1RPUiApLAoJCQl2ZXJ0aWNhbFNsaWRlcyA9IGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIFZFUlRJQ0FMX1NMSURFU19TRUxFQ1RPUiApOwoKCQl2YXIgcm91dGVzID0gewoJCQlsZWZ0OiBpbmRleGggPiAwLAoJCQlyaWdodDogaW5kZXhoIDwgaG9yaXpvbnRhbFNsaWRlcy5sZW5ndGggLSAxLAoJCQl1cDogaW5kZXh2ID4gMCwKCQkJZG93bjogaW5kZXh2IDwgdmVydGljYWxTbGlkZXMubGVuZ3RoIC0gMQoJCX07CgoJCS8vIExvb3BlZCBwcmVzZW50YXRpb25zIGNhbiBhbHdheXMgYmUgbmF2aWdhdGVkIGFzIGxvbmcgYXMKCQkvLyB0aGVyZSBhcmUgc2xpZGVzIGF2YWlsYWJsZQoJCWlmKCBjb25maWcubG9vcCApIHsKCQkJaWYoIGhvcml6b250YWxTbGlkZXMubGVuZ3RoID4gMSApIHsKCQkJCXJvdXRlcy5sZWZ0ID0gdHJ1ZTsKCQkJCXJvdXRlcy5yaWdodCA9IHRydWU7CgkJCX0KCgkJCWlmKCB2ZXJ0aWNhbFNsaWRlcy5sZW5ndGggPiAxICkgewoJCQkJcm91dGVzLnVwID0gdHJ1ZTsKCQkJCXJvdXRlcy5kb3duID0gdHJ1ZTsKCQkJfQoJCX0KCgkJLy8gUmV2ZXJzZSBob3Jpem9udGFsIGNvbnRyb2xzIGZvciBydGwKCQlpZiggY29uZmlnLnJ0bCApIHsKCQkJdmFyIGxlZnQgPSByb3V0ZXMubGVmdDsKCQkJcm91dGVzLmxlZnQgPSByb3V0ZXMucmlnaHQ7CgkJCXJvdXRlcy5yaWdodCA9IGxlZnQ7CgkJfQoKCQlyZXR1cm4gcm91dGVzOwoKCX0KCgkvKioKCSAqIFJldHVybnMgYW4gb2JqZWN0IGRlc2NyaWJpbmcgdGhlIGF2YWlsYWJsZSBmcmFnbWVudAoJICogZGlyZWN0aW9ucy4KCSAqCgkgKiBAcmV0dXJuIHt7cHJldjogYm9vbGVhbiwgbmV4dDogYm9vbGVhbn19CgkgKi8KCWZ1bmN0aW9uIGF2YWlsYWJsZUZyYWdtZW50cygpIHsKCgkJaWYoIGN1cnJlbnRTbGlkZSAmJiBjb25maWcuZnJhZ21lbnRzICkgewoJCQl2YXIgZnJhZ21lbnRzID0gY3VycmVudFNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICcuZnJhZ21lbnQnICk7CgkJCXZhciBoaWRkZW5GcmFnbWVudHMgPSBjdXJyZW50U2xpZGUucXVlcnlTZWxlY3RvckFsbCggJy5mcmFnbWVudDpub3QoLnZpc2libGUpJyApOwoKCQkJcmV0dXJuIHsKCQkJCXByZXY6IGZyYWdtZW50cy5sZW5ndGggLSBoaWRkZW5GcmFnbWVudHMubGVuZ3RoID4gMCwKCQkJCW5leHQ6ICEhaGlkZGVuRnJhZ21lbnRzLmxlbmd0aAoJCQl9OwoJCX0KCQllbHNlIHsKCQkJcmV0dXJuIHsgcHJldjogZmFsc2UsIG5leHQ6IGZhbHNlIH07CgkJfQoKCX0KCgkvKioKCSAqIEVuZm9yY2VzIG9yaWdpbi1zcGVjaWZpYyBmb3JtYXQgcnVsZXMgZm9yIGVtYmVkZGVkIG1lZGlhLgoJICovCglmdW5jdGlvbiBmb3JtYXRFbWJlZGRlZENvbnRlbnQoKSB7CgoJCXZhciBfYXBwZW5kUGFyYW1Ub0lmcmFtZVNvdXJjZSA9IGZ1bmN0aW9uKCBzb3VyY2VBdHRyaWJ1dGUsIHNvdXJjZVVSTCwgcGFyYW0gKSB7CgkJCXRvQXJyYXkoIGRvbS5zbGlkZXMucXVlcnlTZWxlY3RvckFsbCggJ2lmcmFtZVsnKyBzb3VyY2VBdHRyaWJ1dGUgKycqPSInKyBzb3VyY2VVUkwgKyciXScgKSApLmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsKCQkJCXZhciBzcmMgPSBlbC5nZXRBdHRyaWJ1dGUoIHNvdXJjZUF0dHJpYnV0ZSApOwoJCQkJaWYoIHNyYyAmJiBzcmMuaW5kZXhPZiggcGFyYW0gKSA9PT0gLTEgKSB7CgkJCQkJZWwuc2V0QXR0cmlidXRlKCBzb3VyY2VBdHRyaWJ1dGUsIHNyYyArICggIS9cPy8udGVzdCggc3JjICkgPyAnPycgOiAnJicgKSArIHBhcmFtICk7CgkJCQl9CgkJCX0pOwoJCX07CgoJCS8vIFlvdVR1YmUgZnJhbWVzIG11c3QgaW5jbHVkZSAiP2VuYWJsZWpzYXBpPTEiCgkJX2FwcGVuZFBhcmFtVG9JZnJhbWVTb3VyY2UoICdzcmMnLCAneW91dHViZS5jb20vZW1iZWQvJywgJ2VuYWJsZWpzYXBpPTEnICk7CgkJX2FwcGVuZFBhcmFtVG9JZnJhbWVTb3VyY2UoICdkYXRhLXNyYycsICd5b3V0dWJlLmNvbS9lbWJlZC8nLCAnZW5hYmxlanNhcGk9MScgKTsKCgkJLy8gVmltZW8gZnJhbWVzIG11c3QgaW5jbHVkZSAiP2FwaT0xIgoJCV9hcHBlbmRQYXJhbVRvSWZyYW1lU291cmNlKCAnc3JjJywgJ3BsYXllci52aW1lby5jb20vJywgJ2FwaT0xJyApOwoJCV9hcHBlbmRQYXJhbVRvSWZyYW1lU291cmNlKCAnZGF0YS1zcmMnLCAncGxheWVyLnZpbWVvLmNvbS8nLCAnYXBpPTEnICk7CgoJCS8vIEFsd2F5cyBzaG93IG1lZGlhIGNvbnRyb2xzIG9uIG1vYmlsZSBkZXZpY2VzCgkJaWYoIGlzTW9iaWxlRGV2aWNlICkgewoJCQl0b0FycmF5KCBkb20uc2xpZGVzLnF1ZXJ5U2VsZWN0b3JBbGwoICd2aWRlbywgYXVkaW8nICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7CgkJCQllbC5jb250cm9scyA9IHRydWU7CgkJCX0gKTsKCQl9CgoJfQoKCS8qKgoJICogU3RhcnQgcGxheWJhY2sgb2YgYW55IGVtYmVkZGVkIGNvbnRlbnQgaW5zaWRlIG9mCgkgKiB0aGUgZ2l2ZW4gZWxlbWVudC4KCSAqCgkgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50CgkgKi8KCWZ1bmN0aW9uIHN0YXJ0RW1iZWRkZWRDb250ZW50KCBlbGVtZW50ICkgewoKCQlpZiggZWxlbWVudCAmJiAhaXNTcGVha2VyTm90ZXMoKSApIHsKCgkJCS8vIFJlc3RhcnQgR0lGcwoJCQl0b0FycmF5KCBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdpbWdbc3JjJD0iLmdpZiJdJyApICkuZm9yRWFjaCggZnVuY3Rpb24oIGVsICkgewoJCQkJLy8gU2V0dGluZyB0aGUgc2FtZSB1bmNoYW5nZWQgc291cmNlIGxpa2UgdGhpcyB3YXMgY29uZmlybWVkCgkJCQkvLyB0byB3b3JrIGluIENocm9tZSwgRkYgJiBTYWZhcmkKCQkJCWVsLnNldEF0dHJpYnV0ZSggJ3NyYycsIGVsLmdldEF0dHJpYnV0ZSggJ3NyYycgKSApOwoJCQl9ICk7CgoJCQkvLyBIVE1MNSBtZWRpYSBlbGVtZW50cwoJCQl0b0FycmF5KCBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICd2aWRlbywgYXVkaW8nICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7CgkJCQlpZiggY2xvc2VzdFBhcmVudCggZWwsICcuZnJhZ21lbnQnICkgJiYgIWNsb3Nlc3RQYXJlbnQoIGVsLCAnLmZyYWdtZW50LnZpc2libGUnICkgKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCS8vIFByZWZlciBhbiBleHBsaWNpdCBnbG9iYWwgYXV0b3BsYXkgc2V0dGluZwoJCQkJdmFyIGF1dG9wbGF5ID0gY29uZmlnLmF1dG9QbGF5TWVkaWE7CgoJCQkJLy8gSWYgbm8gZ2xvYmFsIHNldHRpbmcgaXMgYXZhaWxhYmxlLCBmYWxsIGJhY2sgb24gdGhlIGVsZW1lbnQncwoJCQkJLy8gb3duIGF1dG9wbGF5IHNldHRpbmcKCQkJCWlmKCB0eXBlb2YgYXV0b3BsYXkgIT09ICdib29sZWFuJyApIHsKCQkJCQlhdXRvcGxheSA9IGVsLmhhc0F0dHJpYnV0ZSggJ2RhdGEtYXV0b3BsYXknICkgfHwgISFjbG9zZXN0UGFyZW50KCBlbCwgJy5zbGlkZS1iYWNrZ3JvdW5kJyApOwoJCQkJfQoKCQkJCWlmKCBhdXRvcGxheSAmJiB0eXBlb2YgZWwucGxheSA9PT0gJ2Z1bmN0aW9uJyApIHsKCgkJCQkJLy8gSWYgdGhlIG1lZGlhIGlzIHJlYWR5LCBzdGFydCBwbGF5YmFjawoJCQkJCWlmKCBlbC5yZWFkeVN0YXRlID4gMSApIHsKCQkJCQkJc3RhcnRFbWJlZGRlZE1lZGlhKCB7IHRhcmdldDogZWwgfSApOwoJCQkJCX0KCQkJCQkvLyBNb2JpbGUgZGV2aWNlcyBuZXZlciBmaXJlIGEgbG9hZGVkIGV2ZW50IHNvIGluc3RlYWQKCQkJCQkvLyBvZiB3YWl0aW5nLCB3ZSBpbml0aWF0ZSBwbGF5YmFjawoJCQkJCWVsc2UgaWYoIGlzTW9iaWxlRGV2aWNlICkgewoJCQkJCQllbC5wbGF5KCk7CgkJCQkJfQoJCQkJCS8vIElmIHRoZSBtZWRpYSBpc24ndCBsb2FkZWQsIHdhaXQgYmVmb3JlIHBsYXlpbmcKCQkJCQllbHNlIHsKCQkJCQkJZWwucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2xvYWRlZGRhdGEnLCBzdGFydEVtYmVkZGVkTWVkaWEgKTsgLy8gcmVtb3ZlIGZpcnN0IHRvIGF2b2lkIGR1cGVzCgkJCQkJCWVsLmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkZWRkYXRhJywgc3RhcnRFbWJlZGRlZE1lZGlhICk7CgkJCQkJfQoKCQkJCX0KCQkJfSApOwoKCQkJLy8gTm9ybWFsIGlmcmFtZXMKCQkJdG9BcnJheSggZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnaWZyYW1lW3NyY10nICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7CgkJCQlpZiggY2xvc2VzdFBhcmVudCggZWwsICcuZnJhZ21lbnQnICkgJiYgIWNsb3Nlc3RQYXJlbnQoIGVsLCAnLmZyYWdtZW50LnZpc2libGUnICkgKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCXN0YXJ0RW1iZWRkZWRJZnJhbWUoIHsgdGFyZ2V0OiBlbCB9ICk7CgkJCX0gKTsKCgkJCS8vIExhenkgbG9hZGluZyBpZnJhbWVzCgkJCXRvQXJyYXkoIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCggJ2lmcmFtZVtkYXRhLXNyY10nICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7CgkJCQlpZiggY2xvc2VzdFBhcmVudCggZWwsICcuZnJhZ21lbnQnICkgJiYgIWNsb3Nlc3RQYXJlbnQoIGVsLCAnLmZyYWdtZW50LnZpc2libGUnICkgKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCWlmKCBlbC5nZXRBdHRyaWJ1dGUoICdzcmMnICkgIT09IGVsLmdldEF0dHJpYnV0ZSggJ2RhdGEtc3JjJyApICkgewoJCQkJCWVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdsb2FkJywgc3RhcnRFbWJlZGRlZElmcmFtZSApOyAvLyByZW1vdmUgZmlyc3QgdG8gYXZvaWQgZHVwZXMKCQkJCQllbC5hZGRFdmVudExpc3RlbmVyKCAnbG9hZCcsIHN0YXJ0RW1iZWRkZWRJZnJhbWUgKTsKCQkJCQllbC5zZXRBdHRyaWJ1dGUoICdzcmMnLCBlbC5nZXRBdHRyaWJ1dGUoICdkYXRhLXNyYycgKSApOwoJCQkJfQoJCQl9ICk7CgoJCX0KCgl9CgoJLyoqCgkgKiBTdGFydHMgcGxheWluZyBhbiBlbWJlZGRlZCB2aWRlby9hdWRpbyBlbGVtZW50IGFmdGVyCgkgKiBpdCBoYXMgZmluaXNoZWQgbG9hZGluZy4KCSAqCgkgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQKCSAqLwoJZnVuY3Rpb24gc3RhcnRFbWJlZGRlZE1lZGlhKCBldmVudCApIHsKCgkJdmFyIGlzQXR0YWNoZWRUb0RPTSA9ICEhY2xvc2VzdFBhcmVudCggZXZlbnQudGFyZ2V0LCAnaHRtbCcgKSwKCQkJaXNWaXNpYmxlICAJCT0gISFjbG9zZXN0UGFyZW50KCBldmVudC50YXJnZXQsICcucHJlc2VudCcgKTsKCgkJaWYoIGlzQXR0YWNoZWRUb0RPTSAmJiBpc1Zpc2libGUgKSB7CgkJCWV2ZW50LnRhcmdldC5jdXJyZW50VGltZSA9IDA7CgkJCWV2ZW50LnRhcmdldC5wbGF5KCk7CgkJfQoKCQlldmVudC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2xvYWRlZGRhdGEnLCBzdGFydEVtYmVkZGVkTWVkaWEgKTsKCgl9CgoJLyoqCgkgKiAiU3RhcnRzIiB0aGUgY29udGVudCBvZiBhbiBlbWJlZGRlZCBpZnJhbWUgdXNpbmcgdGhlCgkgKiBwb3N0TWVzc2FnZSBBUEkuCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IGV2ZW50CgkgKi8KCWZ1bmN0aW9uIHN0YXJ0RW1iZWRkZWRJZnJhbWUoIGV2ZW50ICkgewoKCQl2YXIgaWZyYW1lID0gZXZlbnQudGFyZ2V0OwoKCQlpZiggaWZyYW1lICYmIGlmcmFtZS5jb250ZW50V2luZG93ICkgewoKCQkJdmFyIGlzQXR0YWNoZWRUb0RPTSA9ICEhY2xvc2VzdFBhcmVudCggZXZlbnQudGFyZ2V0LCAnaHRtbCcgKSwKCQkJCWlzVmlzaWJsZSAgCQk9ICEhY2xvc2VzdFBhcmVudCggZXZlbnQudGFyZ2V0LCAnLnByZXNlbnQnICk7CgoJCQlpZiggaXNBdHRhY2hlZFRvRE9NICYmIGlzVmlzaWJsZSApIHsKCgkJCQkvLyBQcmVmZXIgYW4gZXhwbGljaXQgZ2xvYmFsIGF1dG9wbGF5IHNldHRpbmcKCQkJCXZhciBhdXRvcGxheSA9IGNvbmZpZy5hdXRvUGxheU1lZGlhOwoKCQkJCS8vIElmIG5vIGdsb2JhbCBzZXR0aW5nIGlzIGF2YWlsYWJsZSwgZmFsbCBiYWNrIG9uIHRoZSBlbGVtZW50J3MKCQkJCS8vIG93biBhdXRvcGxheSBzZXR0aW5nCgkJCQlpZiggdHlwZW9mIGF1dG9wbGF5ICE9PSAnYm9vbGVhbicgKSB7CgkJCQkJYXV0b3BsYXkgPSBpZnJhbWUuaGFzQXR0cmlidXRlKCAnZGF0YS1hdXRvcGxheScgKSB8fCAhIWNsb3Nlc3RQYXJlbnQoIGlmcmFtZSwgJy5zbGlkZS1iYWNrZ3JvdW5kJyApOwoJCQkJfQoKCQkJCS8vIFlvdVR1YmUgcG9zdE1lc3NhZ2UgQVBJCgkJCQlpZiggL3lvdXR1YmVcLmNvbVwvZW1iZWRcLy8udGVzdCggaWZyYW1lLmdldEF0dHJpYnV0ZSggJ3NyYycgKSApICYmIGF1dG9wbGF5ICkgewoJCQkJCWlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKCAneyJldmVudCI6ImNvbW1hbmQiLCJmdW5jIjoicGxheVZpZGVvIiwiYXJncyI6IiJ9JywgJyonICk7CgkJCQl9CgkJCQkvLyBWaW1lbyBwb3N0TWVzc2FnZSBBUEkKCQkJCWVsc2UgaWYoIC9wbGF5ZXJcLnZpbWVvXC5jb21cLy8udGVzdCggaWZyYW1lLmdldEF0dHJpYnV0ZSggJ3NyYycgKSApICYmIGF1dG9wbGF5ICkgewoJCQkJCWlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKCAneyJtZXRob2QiOiJwbGF5In0nLCAnKicgKTsKCQkJCX0KCQkJCS8vIEdlbmVyaWMgcG9zdE1lc3NhZ2UgQVBJCgkJCQllbHNlIHsKCQkJCQlpZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSggJ3NsaWRlOnN0YXJ0JywgJyonICk7CgkJCQl9CgoJCQl9CgoJCX0KCgl9CgoJLyoqCgkgKiBTdG9wIHBsYXliYWNrIG9mIGFueSBlbWJlZGRlZCBjb250ZW50IGluc2lkZSBvZgoJICogdGhlIHRhcmdldGVkIHNsaWRlLgoJICoKCSAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQKCSAqLwoJZnVuY3Rpb24gc3RvcEVtYmVkZGVkQ29udGVudCggZWxlbWVudCwgb3B0aW9ucyApIHsKCgkJb3B0aW9ucyA9IGV4dGVuZCggewoJCQkvLyBEZWZhdWx0cwoJCQl1bmxvYWRJZnJhbWVzOiB0cnVlCgkJfSwgb3B0aW9ucyB8fCB7fSApOwoKCQlpZiggZWxlbWVudCAmJiBlbGVtZW50LnBhcmVudE5vZGUgKSB7CgkJCS8vIEhUTUw1IG1lZGlhIGVsZW1lbnRzCgkJCXRvQXJyYXkoIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCggJ3ZpZGVvLCBhdWRpbycgKSApLmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsKCQkJCWlmKCAhZWwuaGFzQXR0cmlidXRlKCAnZGF0YS1pZ25vcmUnICkgJiYgdHlwZW9mIGVsLnBhdXNlID09PSAnZnVuY3Rpb24nICkgewoJCQkJCWVsLnNldEF0dHJpYnV0ZSgnZGF0YS1wYXVzZWQtYnktcmV2ZWFsJywgJycpOwoJCQkJCWVsLnBhdXNlKCk7CgkJCQl9CgkJCX0gKTsKCgkJCS8vIEdlbmVyaWMgcG9zdE1lc3NhZ2UgQVBJIGZvciBub24tbGF6eSBsb2FkZWQgaWZyYW1lcwoJCQl0b0FycmF5KCBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdpZnJhbWUnICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7CgkJCQlpZiggZWwuY29udGVudFdpbmRvdyApIGVsLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoICdzbGlkZTpzdG9wJywgJyonICk7CgkJCQllbC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbG9hZCcsIHN0YXJ0RW1iZWRkZWRJZnJhbWUgKTsKCQkJfSk7CgoJCQkvLyBZb3VUdWJlIHBvc3RNZXNzYWdlIEFQSQoJCQl0b0FycmF5KCBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdpZnJhbWVbc3JjKj0ieW91dHViZS5jb20vZW1iZWQvIl0nICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7CgkJCQlpZiggIWVsLmhhc0F0dHJpYnV0ZSggJ2RhdGEtaWdub3JlJyApICYmIGVsLmNvbnRlbnRXaW5kb3cgJiYgdHlwZW9mIGVsLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UgPT09ICdmdW5jdGlvbicgKSB7CgkJCQkJZWwuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSggJ3siZXZlbnQiOiJjb21tYW5kIiwiZnVuYyI6InBhdXNlVmlkZW8iLCJhcmdzIjoiIn0nLCAnKicgKTsKCQkJCX0KCQkJfSk7CgoJCQkvLyBWaW1lbyBwb3N0TWVzc2FnZSBBUEkKCQkJdG9BcnJheSggZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnaWZyYW1lW3NyYyo9InBsYXllci52aW1lby5jb20vIl0nICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7CgkJCQlpZiggIWVsLmhhc0F0dHJpYnV0ZSggJ2RhdGEtaWdub3JlJyApICYmIGVsLmNvbnRlbnRXaW5kb3cgJiYgdHlwZW9mIGVsLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UgPT09ICdmdW5jdGlvbicgKSB7CgkJCQkJZWwuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSggJ3sibWV0aG9kIjoicGF1c2UifScsICcqJyApOwoJCQkJfQoJCQl9KTsKCgkJCWlmKCBvcHRpb25zLnVubG9hZElmcmFtZXMgPT09IHRydWUgKSB7CgkJCQkvLyBVbmxvYWQgbGF6eS1sb2FkZWQgaWZyYW1lcwoJCQkJdG9BcnJheSggZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnaWZyYW1lW2RhdGEtc3JjXScgKSApLmZvckVhY2goIGZ1bmN0aW9uKCBlbCApIHsKCQkJCQkvLyBPbmx5IHJlbW92aW5nIHRoZSBzcmMgZG9lc24ndCBhY3R1YWxseSB1bmxvYWQgdGhlIGZyYW1lCgkJCQkJLy8gaW4gYWxsIGJyb3dzZXJzIChGaXJlZm94KSBzbyB3ZSBzZXQgaXQgdG8gYmxhbmsgZmlyc3QKCQkJCQllbC5zZXRBdHRyaWJ1dGUoICdzcmMnLCAnYWJvdXQ6YmxhbmsnICk7CgkJCQkJZWwucmVtb3ZlQXR0cmlidXRlKCAnc3JjJyApOwoJCQkJfSApOwoJCQl9CgkJfQoKCX0KCgkvKioKCSAqIFJldHVybnMgdGhlIG51bWJlciBvZiBwYXN0IHNsaWRlcy4gVGhpcyBjYW4gYmUgdXNlZCBhcyBhIGdsb2JhbAoJICogZmxhdHRlbmVkIGluZGV4IGZvciBzbGlkZXMuCgkgKgoJICogQHJldHVybiB7bnVtYmVyfSBQYXN0IHNsaWRlIGNvdW50CgkgKi8KCWZ1bmN0aW9uIGdldFNsaWRlUGFzdENvdW50KCkgewoKCQl2YXIgaG9yaXpvbnRhbFNsaWRlcyA9IHRvQXJyYXkoIGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIEhPUklaT05UQUxfU0xJREVTX1NFTEVDVE9SICkgKTsKCgkJLy8gVGhlIG51bWJlciBvZiBwYXN0IHNsaWRlcwoJCXZhciBwYXN0Q291bnQgPSAwOwoKCQkvLyBTdGVwIHRocm91Z2ggYWxsIHNsaWRlcyBhbmQgY291bnQgdGhlIHBhc3Qgb25lcwoJCW1haW5Mb29wOiBmb3IoIHZhciBpID0gMDsgaSA8IGhvcml6b250YWxTbGlkZXMubGVuZ3RoOyBpKysgKSB7CgoJCQl2YXIgaG9yaXpvbnRhbFNsaWRlID0gaG9yaXpvbnRhbFNsaWRlc1tpXTsKCQkJdmFyIHZlcnRpY2FsU2xpZGVzID0gdG9BcnJheSggaG9yaXpvbnRhbFNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICdzZWN0aW9uJyApICk7CgoJCQlmb3IoIHZhciBqID0gMDsgaiA8IHZlcnRpY2FsU2xpZGVzLmxlbmd0aDsgaisrICkgewoKCQkJCS8vIFN0b3AgYXMgc29vbiBhcyB3ZSBhcnJpdmUgYXQgdGhlIHByZXNlbnQKCQkJCWlmKCB2ZXJ0aWNhbFNsaWRlc1tqXS5jbGFzc0xpc3QuY29udGFpbnMoICdwcmVzZW50JyApICkgewoJCQkJCWJyZWFrIG1haW5Mb29wOwoJCQkJfQoKCQkJCXBhc3RDb3VudCsrOwoKCQkJfQoKCQkJLy8gU3RvcCBhcyBzb29uIGFzIHdlIGFycml2ZSBhdCB0aGUgcHJlc2VudAoJCQlpZiggaG9yaXpvbnRhbFNsaWRlLmNsYXNzTGlzdC5jb250YWlucyggJ3ByZXNlbnQnICkgKSB7CgkJCQlicmVhazsKCQkJfQoKCQkJLy8gRG9uJ3QgY291bnQgdGhlIHdyYXBwaW5nIHNlY3Rpb24gZm9yIHZlcnRpY2FsIHNsaWRlcwoJCQlpZiggaG9yaXpvbnRhbFNsaWRlLmNsYXNzTGlzdC5jb250YWlucyggJ3N0YWNrJyApID09PSBmYWxzZSApIHsKCQkJCXBhc3RDb3VudCsrOwoJCQl9CgoJCX0KCgkJcmV0dXJuIHBhc3RDb3VudDsKCgl9CgoJLyoqCgkgKiBSZXR1cm5zIGEgdmFsdWUgcmFuZ2luZyBmcm9tIDAtMSB0aGF0IHJlcHJlc2VudHMKCSAqIGhvdyBmYXIgaW50byB0aGUgcHJlc2VudGF0aW9uIHdlIGhhdmUgbmF2aWdhdGVkLgoJICoKCSAqIEByZXR1cm4ge251bWJlcn0KCSAqLwoJZnVuY3Rpb24gZ2V0UHJvZ3Jlc3MoKSB7CgoJCS8vIFRoZSBudW1iZXIgb2YgcGFzdCBhbmQgdG90YWwgc2xpZGVzCgkJdmFyIHRvdGFsQ291bnQgPSBnZXRUb3RhbFNsaWRlcygpOwoJCXZhciBwYXN0Q291bnQgPSBnZXRTbGlkZVBhc3RDb3VudCgpOwoKCQlpZiggY3VycmVudFNsaWRlICkgewoKCQkJdmFyIGFsbEZyYWdtZW50cyA9IGN1cnJlbnRTbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCAnLmZyYWdtZW50JyApOwoKCQkJLy8gSWYgdGhlcmUgYXJlIGZyYWdtZW50cyBpbiB0aGUgY3VycmVudCBzbGlkZSB0aG9zZSBzaG91bGQgYmUKCQkJLy8gYWNjb3VudGVkIGZvciBpbiB0aGUgcHJvZ3Jlc3MuCgkJCWlmKCBhbGxGcmFnbWVudHMubGVuZ3RoID4gMCApIHsKCQkJCXZhciB2aXNpYmxlRnJhZ21lbnRzID0gY3VycmVudFNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICcuZnJhZ21lbnQudmlzaWJsZScgKTsKCgkJCQkvLyBUaGlzIHZhbHVlIHJlcHJlc2VudHMgaG93IGJpZyBhIHBvcnRpb24gb2YgdGhlIHNsaWRlIHByb2dyZXNzCgkJCQkvLyB0aGF0IGlzIG1hZGUgdXAgYnkgaXRzIGZyYWdtZW50cyAoMC0xKQoJCQkJdmFyIGZyYWdtZW50V2VpZ2h0ID0gMC45OwoKCQkJCS8vIEFkZCBmcmFnbWVudCBwcm9ncmVzcyB0byB0aGUgcGFzdCBzbGlkZSBjb3VudAoJCQkJcGFzdENvdW50ICs9ICggdmlzaWJsZUZyYWdtZW50cy5sZW5ndGggLyBhbGxGcmFnbWVudHMubGVuZ3RoICkgKiBmcmFnbWVudFdlaWdodDsKCQkJfQoKCQl9CgoJCXJldHVybiBwYXN0Q291bnQgLyAoIHRvdGFsQ291bnQgLSAxICk7CgoJfQoKCS8qKgoJICogQ2hlY2tzIGlmIHRoaXMgcHJlc2VudGF0aW9uIGlzIHJ1bm5pbmcgaW5zaWRlIG9mIHRoZQoJICogc3BlYWtlciBub3RlcyB3aW5kb3cuCgkgKgoJICogQHJldHVybiB7Ym9vbGVhbn0KCSAqLwoJZnVuY3Rpb24gaXNTcGVha2VyTm90ZXMoKSB7CgoJCXJldHVybiAhIXdpbmRvdy5sb2NhdGlvbi5zZWFyY2gubWF0Y2goIC9yZWNlaXZlci9naSApOwoKCX0KCgkvKioKCSAqIFJlYWRzIHRoZSBjdXJyZW50IFVSTCAoaGFzaCkgYW5kIG5hdmlnYXRlcyBhY2NvcmRpbmdseS4KCSAqLwoJZnVuY3Rpb24gcmVhZFVSTCgpIHsKCgkJdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDsKCgkJLy8gQXR0ZW1wdCB0byBwYXJzZSB0aGUgaGFzaCBhcyBlaXRoZXIgYW4gaW5kZXggb3IgbmFtZQoJCXZhciBiaXRzID0gaGFzaC5zbGljZSggMiApLnNwbGl0KCAnLycgKSwKCQkJbmFtZSA9IGhhc2gucmVwbGFjZSggLyN8XC8vZ2ksICcnICk7CgoJCS8vIElmIHRoZSBmaXJzdCBiaXQgaXMgaW52YWxpZCBhbmQgdGhlcmUgaXMgYSBuYW1lIHdlIGNhbgoJCS8vIGFzc3VtZSB0aGF0IHRoaXMgaXMgYSBuYW1lZCBsaW5rCgkJaWYoIGlzTmFOKCBwYXJzZUludCggYml0c1swXSwgMTAgKSApICYmIG5hbWUubGVuZ3RoICkgewoJCQl2YXIgZWxlbWVudDsKCgkJCS8vIEVuc3VyZSB0aGUgbmFtZWQgbGluayBpcyBhIHZhbGlkIEhUTUwgSUQgYXR0cmlidXRlCgkJCXRyeSB7CgkJCQllbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGRlY29kZVVSSUNvbXBvbmVudCggbmFtZSApICk7CgkJCX0KCQkJY2F0Y2ggKCBlcnJvciApIHsgfQoKCQkJLy8gRW5zdXJlIHRoYXQgd2UncmUgbm90IGFscmVhZHkgb24gYSBzbGlkZSB3aXRoIHRoZSBzYW1lIG5hbWUKCQkJdmFyIGlzU2FtZU5hbWVBc0N1cnJlbnRTbGlkZSA9IGN1cnJlbnRTbGlkZSA/IGN1cnJlbnRTbGlkZS5nZXRBdHRyaWJ1dGUoICdpZCcgKSA9PT0gbmFtZSA6IGZhbHNlOwoKCQkJaWYoIGVsZW1lbnQgJiYgIWlzU2FtZU5hbWVBc0N1cnJlbnRTbGlkZSApIHsKCQkJCS8vIEZpbmQgdGhlIHBvc2l0aW9uIG9mIHRoZSBuYW1lZCBzbGlkZSBhbmQgbmF2aWdhdGUgdG8gaXQKCQkJCXZhciBpbmRpY2VzID0gUmV2ZWFsLmdldEluZGljZXMoIGVsZW1lbnQgKTsKCQkJCXNsaWRlKCBpbmRpY2VzLmgsIGluZGljZXMudiApOwoJCQl9CgkJCS8vIElmIHRoZSBzbGlkZSBkb2Vzbid0IGV4aXN0LCBuYXZpZ2F0ZSB0byB0aGUgY3VycmVudCBzbGlkZQoJCQllbHNlIHsKCQkJCXNsaWRlKCBpbmRleGggfHwgMCwgaW5kZXh2IHx8IDAgKTsKCQkJfQoJCX0KCQllbHNlIHsKCQkJdmFyIGhhc2hJbmRleEJhc2UgPSBjb25maWcuaGFzaE9uZUJhc2VkSW5kZXggPyAxIDogMDsKCgkJCS8vIFJlYWQgdGhlIGluZGV4IGNvbXBvbmVudHMgb2YgdGhlIGhhc2gKCQkJdmFyIGggPSAoIHBhcnNlSW50KCBiaXRzWzBdLCAxMCApIC0gaGFzaEluZGV4QmFzZSApIHx8IDAsCgkJCQl2ID0gKCBwYXJzZUludCggYml0c1sxXSwgMTAgKSAtIGhhc2hJbmRleEJhc2UgKSB8fCAwLAoJCQkJZjsKCgkJCWlmKCBjb25maWcuZnJhZ21lbnRJblVSTCApIHsKCQkJCWYgPSBwYXJzZUludCggYml0c1syXSwgMTAgKTsKCQkJCWlmKCBpc05hTiggZiApICkgewoJCQkJCWYgPSB1bmRlZmluZWQ7CgkJCQl9CgkJCX0KCgkJCWlmKCBoICE9PSBpbmRleGggfHwgdiAhPT0gaW5kZXh2IHx8IGYgIT09IHVuZGVmaW5lZCApIHsKCQkJCXNsaWRlKCBoLCB2LCBmICk7CgkJCX0KCQl9CgoJfQoKCS8qKgoJICogVXBkYXRlcyB0aGUgcGFnZSBVUkwgKGhhc2gpIHRvIHJlZmxlY3QgdGhlIGN1cnJlbnQKCSAqIHN0YXRlLgoJICoKCSAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBUaGUgdGltZSBpbiBtcyB0byB3YWl0IGJlZm9yZQoJICogd3JpdGluZyB0aGUgaGFzaAoJICovCglmdW5jdGlvbiB3cml0ZVVSTCggZGVsYXkgKSB7CgoJCWlmKCBjb25maWcuaGlzdG9yeSApIHsKCgkJCS8vIE1ha2Ugc3VyZSB0aGVyZSdzIG5ldmVyIG1vcmUgdGhhbiBvbmUgdGltZW91dCBydW5uaW5nCgkJCWNsZWFyVGltZW91dCggd3JpdGVVUkxUaW1lb3V0ICk7CgoJCQkvLyBJZiBhIGRlbGF5IGlzIHNwZWNpZmllZCwgdGltZW91dCB0aGlzIGNhbGwKCQkJaWYoIHR5cGVvZiBkZWxheSA9PT0gJ251bWJlcicgKSB7CgkJCQl3cml0ZVVSTFRpbWVvdXQgPSBzZXRUaW1lb3V0KCB3cml0ZVVSTCwgZGVsYXkgKTsKCQkJfQoJCQllbHNlIGlmKCBjdXJyZW50U2xpZGUgKSB7CgkJCQl3aW5kb3cubG9jYXRpb24uaGFzaCA9IGxvY2F0aW9uSGFzaCgpOwoJCQl9CgkJfQoKCX0KCS8qKgoJICogUmV0cmlldmVzIHRoZSBoL3YgbG9jYXRpb24gYW5kIGZyYWdtZW50IG9mIHRoZSBjdXJyZW50LAoJICogb3Igc3BlY2lmaWVkLCBzbGlkZS4KCSAqCgkgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbc2xpZGVdIElmIHNwZWNpZmllZCwgdGhlIHJldHVybmVkCgkgKiBpbmRleCB3aWxsIGJlIGZvciB0aGlzIHNsaWRlIHJhdGhlciB0aGFuIHRoZSBjdXJyZW50bHkKCSAqIGFjdGl2ZSBvbmUKCSAqCgkgKiBAcmV0dXJuIHt7aDogbnVtYmVyLCB2OiBudW1iZXIsIGY6IG51bWJlcn19CgkgKi8KCWZ1bmN0aW9uIGdldEluZGljZXMoIHNsaWRlICkgewoKCQkvLyBCeSBkZWZhdWx0LCByZXR1cm4gdGhlIGN1cnJlbnQgaW5kaWNlcwoJCXZhciBoID0gaW5kZXhoLAoJCQl2ID0gaW5kZXh2LAoJCQlmOwoKCQkvLyBJZiBhIHNsaWRlIGlzIHNwZWNpZmllZCwgcmV0dXJuIHRoZSBpbmRpY2VzIG9mIHRoYXQgc2xpZGUKCQlpZiggc2xpZGUgKSB7CgkJCXZhciBpc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbFNsaWRlKCBzbGlkZSApOwoJCQl2YXIgc2xpZGVoID0gaXNWZXJ0aWNhbCA/IHNsaWRlLnBhcmVudE5vZGUgOiBzbGlkZTsKCgkJCS8vIFNlbGVjdCBhbGwgaG9yaXpvbnRhbCBzbGlkZXMKCQkJdmFyIGhvcml6b250YWxTbGlkZXMgPSB0b0FycmF5KCBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBIT1JJWk9OVEFMX1NMSURFU19TRUxFQ1RPUiApICk7CgoJCQkvLyBOb3cgdGhhdCB3ZSBrbm93IHdoaWNoIHRoZSBob3Jpem9udGFsIHNsaWRlIGlzLCBnZXQgaXRzIGluZGV4CgkJCWggPSBNYXRoLm1heCggaG9yaXpvbnRhbFNsaWRlcy5pbmRleE9mKCBzbGlkZWggKSwgMCApOwoKCQkJLy8gQXNzdW1lIHdlJ3JlIG5vdCB2ZXJ0aWNhbAoJCQl2ID0gdW5kZWZpbmVkOwoKCQkJLy8gSWYgdGhpcyBpcyBhIHZlcnRpY2FsIHNsaWRlLCBncmFiIHRoZSB2ZXJ0aWNhbCBpbmRleAoJCQlpZiggaXNWZXJ0aWNhbCApIHsKCQkJCXYgPSBNYXRoLm1heCggdG9BcnJheSggc2xpZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCAnc2VjdGlvbicgKSApLmluZGV4T2YoIHNsaWRlICksIDAgKTsKCQkJfQoJCX0KCgkJaWYoICFzbGlkZSAmJiBjdXJyZW50U2xpZGUgKSB7CgkJCXZhciBoYXNGcmFnbWVudHMgPSBjdXJyZW50U2xpZGUucXVlcnlTZWxlY3RvckFsbCggJy5mcmFnbWVudCcgKS5sZW5ndGggPiAwOwoJCQlpZiggaGFzRnJhZ21lbnRzICkgewoJCQkJdmFyIGN1cnJlbnRGcmFnbWVudCA9IGN1cnJlbnRTbGlkZS5xdWVyeVNlbGVjdG9yKCAnLmN1cnJlbnQtZnJhZ21lbnQnICk7CgkJCQlpZiggY3VycmVudEZyYWdtZW50ICYmIGN1cnJlbnRGcmFnbWVudC5oYXNBdHRyaWJ1dGUoICdkYXRhLWZyYWdtZW50LWluZGV4JyApICkgewoJCQkJCWYgPSBwYXJzZUludCggY3VycmVudEZyYWdtZW50LmdldEF0dHJpYnV0ZSggJ2RhdGEtZnJhZ21lbnQtaW5kZXgnICksIDEwICk7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQlmID0gY3VycmVudFNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICcuZnJhZ21lbnQudmlzaWJsZScgKS5sZW5ndGggLSAxOwoJCQkJfQoJCQl9CgkJfQoKCQlyZXR1cm4geyBoOiBoLCB2OiB2LCBmOiBmIH07CgoJfQoKCS8qKgoJICogUmV0cmlldmVzIGFsbCBzbGlkZXMgaW4gdGhpcyBwcmVzZW50YXRpb24uCgkgKi8KCWZ1bmN0aW9uIGdldFNsaWRlcygpIHsKCgkJcmV0dXJuIHRvQXJyYXkoIGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIFNMSURFU19TRUxFQ1RPUiArICc6bm90KC5zdGFjayknICkpOwoKCX0KCgkvKioKCSAqIFJldHJpZXZlcyB0aGUgdG90YWwgbnVtYmVyIG9mIHNsaWRlcyBpbiB0aGlzIHByZXNlbnRhdGlvbi4KCSAqCgkgKiBAcmV0dXJuIHtudW1iZXJ9CgkgKi8KCWZ1bmN0aW9uIGdldFRvdGFsU2xpZGVzKCkgewoKCQlyZXR1cm4gZ2V0U2xpZGVzKCkubGVuZ3RoOwoKCX0KCgkvKioKCSAqIFJldHVybnMgdGhlIHNsaWRlIGVsZW1lbnQgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBpbmRleC4KCSAqCgkgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0KCSAqLwoJZnVuY3Rpb24gZ2V0U2xpZGUoIHgsIHkgKSB7CgoJCXZhciBob3Jpem9udGFsU2xpZGUgPSBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBIT1JJWk9OVEFMX1NMSURFU19TRUxFQ1RPUiApWyB4IF07CgkJdmFyIHZlcnRpY2FsU2xpZGVzID0gaG9yaXpvbnRhbFNsaWRlICYmIGhvcml6b250YWxTbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCAnc2VjdGlvbicgKTsKCgkJaWYoIHZlcnRpY2FsU2xpZGVzICYmIHZlcnRpY2FsU2xpZGVzLmxlbmd0aCAmJiB0eXBlb2YgeSA9PT0gJ251bWJlcicgKSB7CgkJCXJldHVybiB2ZXJ0aWNhbFNsaWRlcyA/IHZlcnRpY2FsU2xpZGVzWyB5IF0gOiB1bmRlZmluZWQ7CgkJfQoKCQlyZXR1cm4gaG9yaXpvbnRhbFNsaWRlOwoKCX0KCgkvKioKCSAqIFJldHVybnMgdGhlIGJhY2tncm91bmQgZWxlbWVudCBmb3IgdGhlIGdpdmVuIHNsaWRlLgoJICogQWxsIHNsaWRlcywgZXZlbiB0aGUgb25lcyB3aXRoIG5vIGJhY2tncm91bmQgcHJvcGVydGllcwoJICogZGVmaW5lZCwgaGF2ZSBhIGJhY2tncm91bmQgZWxlbWVudCBzbyBhcyBsb25nIGFzIHRoZQoJICogaW5kZXggaXMgdmFsaWQgYW4gZWxlbWVudCB3aWxsIGJlIHJldHVybmVkLgoJICoKCSAqIEBwYXJhbSB7bWl4ZWR9IHggSG9yaXpvbnRhbCBiYWNrZ3JvdW5kIGluZGV4IE9SIGEgc2xpZGUKCSAqIEhUTUwgZWxlbWVudAoJICogQHBhcmFtIHtudW1iZXJ9IHkgVmVydGljYWwgYmFja2dyb3VuZCBpbmRleAoJICogQHJldHVybiB7KEhUTUxFbGVtZW50W118Kil9CgkgKi8KCWZ1bmN0aW9uIGdldFNsaWRlQmFja2dyb3VuZCggeCwgeSApIHsKCgkJdmFyIHNsaWRlID0gdHlwZW9mIHggPT09ICdudW1iZXInID8gZ2V0U2xpZGUoIHgsIHkgKSA6IHg7CgkJaWYoIHNsaWRlICkgewoJCQlyZXR1cm4gc2xpZGUuc2xpZGVCYWNrZ3JvdW5kRWxlbWVudDsKCQl9CgoJCXJldHVybiB1bmRlZmluZWQ7CgoJfQoKCS8qKgoJICogUmV0cmlldmVzIHRoZSBzcGVha2VyIG5vdGVzIGZyb20gYSBzbGlkZS4gTm90ZXMgY2FuIGJlCgkgKiBkZWZpbmVkIGluIHR3byB3YXlzOgoJICogMS4gQXMgYSBkYXRhLW5vdGVzIGF0dHJpYnV0ZSBvbiB0aGUgc2xpZGUgPHNlY3Rpb24+CgkgKiAyLiBBcyBhbiA8YXNpZGUgY2xhc3M9Im5vdGVzIj4gaW5zaWRlIG9mIHRoZSBzbGlkZQoJICoKCSAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtzbGlkZT1jdXJyZW50U2xpZGVdCgkgKiBAcmV0dXJuIHsoc3RyaW5nfG51bGwpfQoJICovCglmdW5jdGlvbiBnZXRTbGlkZU5vdGVzKCBzbGlkZSApIHsKCgkJLy8gRGVmYXVsdCB0byB0aGUgY3VycmVudCBzbGlkZQoJCXNsaWRlID0gc2xpZGUgfHwgY3VycmVudFNsaWRlOwoKCQkvLyBOb3RlcyBjYW4gYmUgc3BlY2lmaWVkIHZpYSB0aGUgZGF0YS1ub3RlcyBhdHRyaWJ1dGUuLi4KCQlpZiggc2xpZGUuaGFzQXR0cmlidXRlKCAnZGF0YS1ub3RlcycgKSApIHsKCQkJcmV0dXJuIHNsaWRlLmdldEF0dHJpYnV0ZSggJ2RhdGEtbm90ZXMnICk7CgkJfQoKCQkvLyAuLi4gb3IgdXNpbmcgYW4gPGFzaWRlIGNsYXNzPSJub3RlcyI+IGVsZW1lbnQKCQl2YXIgbm90ZXNFbGVtZW50ID0gc2xpZGUucXVlcnlTZWxlY3RvciggJ2FzaWRlLm5vdGVzJyApOwoJCWlmKCBub3Rlc0VsZW1lbnQgKSB7CgkJCXJldHVybiBub3Rlc0VsZW1lbnQuaW5uZXJIVE1MOwoJCX0KCgkJcmV0dXJuIG51bGw7CgoJfQoKCS8qKgoJICogUmV0cmlldmVzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBwcmVzZW50YXRpb24gYXMKCSAqIGFuIG9iamVjdC4gVGhpcyBzdGF0ZSBjYW4gdGhlbiBiZSByZXN0b3JlZCBhdCBhbnkKCSAqIHRpbWUuCgkgKgoJICogQHJldHVybiB7e2luZGV4aDogbnVtYmVyLCBpbmRleHY6IG51bWJlciwgaW5kZXhmOiBudW1iZXIsIHBhdXNlZDogYm9vbGVhbiwgb3ZlcnZpZXc6IGJvb2xlYW59fQoJICovCglmdW5jdGlvbiBnZXRTdGF0ZSgpIHsKCgkJdmFyIGluZGljZXMgPSBnZXRJbmRpY2VzKCk7CgoJCXJldHVybiB7CgkJCWluZGV4aDogaW5kaWNlcy5oLAoJCQlpbmRleHY6IGluZGljZXMudiwKCQkJaW5kZXhmOiBpbmRpY2VzLmYsCgkJCXBhdXNlZDogaXNQYXVzZWQoKSwKCQkJb3ZlcnZpZXc6IGlzT3ZlcnZpZXcoKQoJCX07CgoJfQoKCS8qKgoJICogUmVzdG9yZXMgdGhlIHByZXNlbnRhdGlvbiB0byB0aGUgZ2l2ZW4gc3RhdGUuCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIEFzIGdlbmVyYXRlZCBieSBnZXRTdGF0ZSgpCgkgKiBAc2VlIHtAbGluayBnZXRTdGF0ZX0gZ2VuZXJhdGVzIHRoZSBwYXJhbWV0ZXIgYHN0YXRlYAoJICovCglmdW5jdGlvbiBzZXRTdGF0ZSggc3RhdGUgKSB7CgoJCWlmKCB0eXBlb2Ygc3RhdGUgPT09ICdvYmplY3QnICkgewoJCQlzbGlkZSggZGVzZXJpYWxpemUoIHN0YXRlLmluZGV4aCApLCBkZXNlcmlhbGl6ZSggc3RhdGUuaW5kZXh2ICksIGRlc2VyaWFsaXplKCBzdGF0ZS5pbmRleGYgKSApOwoKCQkJdmFyIHBhdXNlZEZsYWcgPSBkZXNlcmlhbGl6ZSggc3RhdGUucGF1c2VkICksCgkJCQlvdmVydmlld0ZsYWcgPSBkZXNlcmlhbGl6ZSggc3RhdGUub3ZlcnZpZXcgKTsKCgkJCWlmKCB0eXBlb2YgcGF1c2VkRmxhZyA9PT0gJ2Jvb2xlYW4nICYmIHBhdXNlZEZsYWcgIT09IGlzUGF1c2VkKCkgKSB7CgkJCQl0b2dnbGVQYXVzZSggcGF1c2VkRmxhZyApOwoJCQl9CgoJCQlpZiggdHlwZW9mIG92ZXJ2aWV3RmxhZyA9PT0gJ2Jvb2xlYW4nICYmIG92ZXJ2aWV3RmxhZyAhPT0gaXNPdmVydmlldygpICkgewoJCQkJdG9nZ2xlT3ZlcnZpZXcoIG92ZXJ2aWV3RmxhZyApOwoJCQl9CgkJfQoKCX0KCgkvKioKCSAqIFJldHVybiBhIHNvcnRlZCBmcmFnbWVudHMgbGlzdCwgb3JkZXJlZCBieSBhbiBpbmNyZWFzaW5nCgkgKiAiZGF0YS1mcmFnbWVudC1pbmRleCIgYXR0cmlidXRlLgoJICoKCSAqIEZyYWdtZW50cyB3aWxsIGJlIHJldmVhbGVkIGluIHRoZSBvcmRlciB0aGF0IHRoZXkgYXJlIHJldHVybmVkIGJ5CgkgKiB0aGlzIGZ1bmN0aW9uLCBzbyB5b3UgY2FuIHVzZSB0aGUgaW5kZXggYXR0cmlidXRlcyB0byBjb250cm9sIHRoZQoJICogb3JkZXIgb2YgZnJhZ21lbnQgYXBwZWFyYW5jZS4KCSAqCgkgKiBUbyBtYWludGFpbiBhIHNlbnNpYmxlIGRlZmF1bHQgZnJhZ21lbnQgb3JkZXIsIGZyYWdtZW50cyBhcmUgcHJlc3VtZWQKCSAqIHRvIGJlIHBhc3NlZCBpbiBkb2N1bWVudCBvcmRlci4gVGhpcyBmdW5jdGlvbiBhZGRzIGEgImZyYWdtZW50LWluZGV4IgoJICogYXR0cmlidXRlIHRvIGVhY2ggbm9kZSBpZiBzdWNoIGFuIGF0dHJpYnV0ZSBpcyBub3QgYWxyZWFkeSBwcmVzZW50LAoJICogYW5kIHNldHMgdGhhdCBhdHRyaWJ1dGUgdG8gYW4gaW50ZWdlciB2YWx1ZSB3aGljaCBpcyB0aGUgcG9zaXRpb24gb2YKCSAqIHRoZSBmcmFnbWVudCB3aXRoaW4gdGhlIGZyYWdtZW50cyBsaXN0LgoJICoKCSAqIEBwYXJhbSB7b2JqZWN0W118Kn0gZnJhZ21lbnRzCgkgKiBAcGFyYW0ge2Jvb2xlYW59IGdyb3VwZWQgSWYgdHJ1ZSB0aGUgcmV0dXJuZWQgYXJyYXkgd2lsbCBjb250YWluCgkgKiBuZXN0ZWQgYXJyYXlzIGZvciBhbGwgZnJhZ21lbnRzIHdpdGggdGhlIHNhbWUgaW5kZXgKCSAqIEByZXR1cm4ge29iamVjdFtdfSBzb3J0ZWQgU29ydGVkIGFycmF5IG9mIGZyYWdtZW50cwoJICovCglmdW5jdGlvbiBzb3J0RnJhZ21lbnRzKCBmcmFnbWVudHMsIGdyb3VwZWQgKSB7CgoJCWZyYWdtZW50cyA9IHRvQXJyYXkoIGZyYWdtZW50cyApOwoKCQl2YXIgb3JkZXJlZCA9IFtdLAoJCQl1bm9yZGVyZWQgPSBbXSwKCQkJc29ydGVkID0gW107CgoJCS8vIEdyb3VwIG9yZGVyZWQgYW5kIHVub3JkZXJlZCBlbGVtZW50cwoJCWZyYWdtZW50cy5mb3JFYWNoKCBmdW5jdGlvbiggZnJhZ21lbnQsIGkgKSB7CgkJCWlmKCBmcmFnbWVudC5oYXNBdHRyaWJ1dGUoICdkYXRhLWZyYWdtZW50LWluZGV4JyApICkgewoJCQkJdmFyIGluZGV4ID0gcGFyc2VJbnQoIGZyYWdtZW50LmdldEF0dHJpYnV0ZSggJ2RhdGEtZnJhZ21lbnQtaW5kZXgnICksIDEwICk7CgoJCQkJaWYoICFvcmRlcmVkW2luZGV4XSApIHsKCQkJCQlvcmRlcmVkW2luZGV4XSA9IFtdOwoJCQkJfQoKCQkJCW9yZGVyZWRbaW5kZXhdLnB1c2goIGZyYWdtZW50ICk7CgkJCX0KCQkJZWxzZSB7CgkJCQl1bm9yZGVyZWQucHVzaCggWyBmcmFnbWVudCBdICk7CgkJCX0KCQl9ICk7CgoJCS8vIEFwcGVuZCBmcmFnbWVudHMgd2l0aG91dCBleHBsaWNpdCBpbmRpY2VzIGluIHRoZWlyCgkJLy8gRE9NIG9yZGVyCgkJb3JkZXJlZCA9IG9yZGVyZWQuY29uY2F0KCB1bm9yZGVyZWQgKTsKCgkJLy8gTWFudWFsbHkgY291bnQgdGhlIGluZGV4IHVwIHBlciBncm91cCB0byBlbnN1cmUgdGhlcmUKCQkvLyBhcmUgbm8gZ2FwcwoJCXZhciBpbmRleCA9IDA7CgoJCS8vIFB1c2ggYWxsIGZyYWdtZW50cyBpbiB0aGVpciBzb3J0ZWQgb3JkZXIgdG8gYW4gYXJyYXksCgkJLy8gdGhpcyBmbGF0dGVucyB0aGUgZ3JvdXBzCgkJb3JkZXJlZC5mb3JFYWNoKCBmdW5jdGlvbiggZ3JvdXAgKSB7CgkJCWdyb3VwLmZvckVhY2goIGZ1bmN0aW9uKCBmcmFnbWVudCApIHsKCQkJCXNvcnRlZC5wdXNoKCBmcmFnbWVudCApOwoJCQkJZnJhZ21lbnQuc2V0QXR0cmlidXRlKCAnZGF0YS1mcmFnbWVudC1pbmRleCcsIGluZGV4ICk7CgkJCX0gKTsKCgkJCWluZGV4ICsrOwoJCX0gKTsKCgkJcmV0dXJuIGdyb3VwZWQgPT09IHRydWUgPyBvcmRlcmVkIDogc29ydGVkOwoKCX0KCgkvKioKCSAqIE5hdmlnYXRlIHRvIHRoZSBzcGVjaWZpZWQgc2xpZGUgZnJhZ21lbnQuCgkgKgoJICogQHBhcmFtIHs/bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGZyYWdtZW50IHRoYXQKCSAqIHNob3VsZCBiZSBzaG93biwgLTEgbWVhbnMgYWxsIGFyZSBpbnZpc2libGUKCSAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgSW50ZWdlciBvZmZzZXQgdG8gYXBwbHkgdG8gdGhlCgkgKiBmcmFnbWVudCBpbmRleAoJICoKCSAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgYSBjaGFuZ2Ugd2FzIG1hZGUgaW4gYW55CgkgKiBmcmFnbWVudHMgdmlzaWJpbGl0eSBhcyBwYXJ0IG9mIHRoaXMgY2FsbAoJICovCglmdW5jdGlvbiBuYXZpZ2F0ZUZyYWdtZW50KCBpbmRleCwgb2Zmc2V0ICkgewoKCQlpZiggY3VycmVudFNsaWRlICYmIGNvbmZpZy5mcmFnbWVudHMgKSB7CgoJCQl2YXIgZnJhZ21lbnRzID0gc29ydEZyYWdtZW50cyggY3VycmVudFNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICcuZnJhZ21lbnQnICkgKTsKCQkJaWYoIGZyYWdtZW50cy5sZW5ndGggKSB7CgoJCQkJLy8gSWYgbm8gaW5kZXggaXMgc3BlY2lmaWVkLCBmaW5kIHRoZSBjdXJyZW50CgkJCQlpZiggdHlwZW9mIGluZGV4ICE9PSAnbnVtYmVyJyApIHsKCQkJCQl2YXIgbGFzdFZpc2libGVGcmFnbWVudCA9IHNvcnRGcmFnbWVudHMoIGN1cnJlbnRTbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCAnLmZyYWdtZW50LnZpc2libGUnICkgKS5wb3AoKTsKCgkJCQkJaWYoIGxhc3RWaXNpYmxlRnJhZ21lbnQgKSB7CgkJCQkJCWluZGV4ID0gcGFyc2VJbnQoIGxhc3RWaXNpYmxlRnJhZ21lbnQuZ2V0QXR0cmlidXRlKCAnZGF0YS1mcmFnbWVudC1pbmRleCcgKSB8fCAwLCAxMCApOwoJCQkJCX0KCQkJCQllbHNlIHsKCQkJCQkJaW5kZXggPSAtMTsKCQkJCQl9CgkJCQl9CgoJCQkJLy8gSWYgYW4gb2Zmc2V0IGlzIHNwZWNpZmllZCwgYXBwbHkgaXQgdG8gdGhlIGluZGV4CgkJCQlpZiggdHlwZW9mIG9mZnNldCA9PT0gJ251bWJlcicgKSB7CgkJCQkJaW5kZXggKz0gb2Zmc2V0OwoJCQkJfQoKCQkJCXZhciBmcmFnbWVudHNTaG93biA9IFtdLAoJCQkJCWZyYWdtZW50c0hpZGRlbiA9IFtdOwoKCQkJCXRvQXJyYXkoIGZyYWdtZW50cyApLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtZW50LCBpICkgewoKCQkJCQlpZiggZWxlbWVudC5oYXNBdHRyaWJ1dGUoICdkYXRhLWZyYWdtZW50LWluZGV4JyApICkgewoJCQkJCQlpID0gcGFyc2VJbnQoIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCAnZGF0YS1mcmFnbWVudC1pbmRleCcgKSwgMTAgKTsKCQkJCQl9CgoJCQkJCS8vIFZpc2libGUgZnJhZ21lbnRzCgkJCQkJaWYoIGkgPD0gaW5kZXggKSB7CgkJCQkJCWlmKCAhZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoICd2aXNpYmxlJyApICkgZnJhZ21lbnRzU2hvd24ucHVzaCggZWxlbWVudCApOwoJCQkJCQllbGVtZW50LmNsYXNzTGlzdC5hZGQoICd2aXNpYmxlJyApOwoJCQkJCQllbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICdjdXJyZW50LWZyYWdtZW50JyApOwoKCQkJCQkJLy8gQW5ub3VuY2UgdGhlIGZyYWdtZW50cyBvbmUgYnkgb25lIHRvIHRoZSBTY3JlZW4gUmVhZGVyCgkJCQkJCWRvbS5zdGF0dXNEaXYudGV4dENvbnRlbnQgPSBnZXRTdGF0dXNUZXh0KCBlbGVtZW50ICk7CgoJCQkJCQlpZiggaSA9PT0gaW5kZXggKSB7CgkJCQkJCQllbGVtZW50LmNsYXNzTGlzdC5hZGQoICdjdXJyZW50LWZyYWdtZW50JyApOwoJCQkJCQkJc3RhcnRFbWJlZGRlZENvbnRlbnQoIGVsZW1lbnQgKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQkvLyBIaWRkZW4gZnJhZ21lbnRzCgkJCQkJZWxzZSB7CgkJCQkJCWlmKCBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyggJ3Zpc2libGUnICkgKSBmcmFnbWVudHNIaWRkZW4ucHVzaCggZWxlbWVudCApOwoJCQkJCQllbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICd2aXNpYmxlJyApOwoJCQkJCQllbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICdjdXJyZW50LWZyYWdtZW50JyApOwoJCQkJCX0KCgkJCQl9ICk7CgoJCQkJaWYoIGZyYWdtZW50c0hpZGRlbi5sZW5ndGggKSB7CgkJCQkJZGlzcGF0Y2hFdmVudCggJ2ZyYWdtZW50aGlkZGVuJywgeyBmcmFnbWVudDogZnJhZ21lbnRzSGlkZGVuWzBdLCBmcmFnbWVudHM6IGZyYWdtZW50c0hpZGRlbiB9ICk7CgkJCQl9CgoJCQkJaWYoIGZyYWdtZW50c1Nob3duLmxlbmd0aCApIHsKCQkJCQlkaXNwYXRjaEV2ZW50KCAnZnJhZ21lbnRzaG93bicsIHsgZnJhZ21lbnQ6IGZyYWdtZW50c1Nob3duWzBdLCBmcmFnbWVudHM6IGZyYWdtZW50c1Nob3duIH0gKTsKCQkJCX0KCgkJCQl1cGRhdGVDb250cm9scygpOwoJCQkJdXBkYXRlUHJvZ3Jlc3MoKTsKCQkJCWlmKCBjb25maWcuZnJhZ21lbnRJblVSTCApIHsKCQkJCQl3cml0ZVVSTCgpOwoJCQkJfQoKCQkJCXJldHVybiAhISggZnJhZ21lbnRzU2hvd24ubGVuZ3RoIHx8IGZyYWdtZW50c0hpZGRlbi5sZW5ndGggKTsKCgkJCX0KCgkJfQoKCQlyZXR1cm4gZmFsc2U7CgoJfQoKCS8qKgoJICogTmF2aWdhdGUgdG8gdGhlIG5leHQgc2xpZGUgZnJhZ21lbnQuCgkgKgoJICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSB3YXMgYSBuZXh0IGZyYWdtZW50LAoJICogZmFsc2Ugb3RoZXJ3aXNlCgkgKi8KCWZ1bmN0aW9uIG5leHRGcmFnbWVudCgpIHsKCgkJcmV0dXJuIG5hdmlnYXRlRnJhZ21lbnQoIG51bGwsIDEgKTsKCgl9CgoJLyoqCgkgKiBOYXZpZ2F0ZSB0byB0aGUgcHJldmlvdXMgc2xpZGUgZnJhZ21lbnQuCgkgKgoJICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSB3YXMgYSBwcmV2aW91cyBmcmFnbWVudCwKCSAqIGZhbHNlIG90aGVyd2lzZQoJICovCglmdW5jdGlvbiBwcmV2aW91c0ZyYWdtZW50KCkgewoKCQlyZXR1cm4gbmF2aWdhdGVGcmFnbWVudCggbnVsbCwgLTEgKTsKCgl9CgoJLyoqCgkgKiBDdWVzIGEgbmV3IGF1dG9tYXRlZCBzbGlkZSBpZiBlbmFibGVkIGluIHRoZSBjb25maWcuCgkgKi8KCWZ1bmN0aW9uIGN1ZUF1dG9TbGlkZSgpIHsKCgkJY2FuY2VsQXV0b1NsaWRlKCk7CgoJCWlmKCBjdXJyZW50U2xpZGUgJiYgY29uZmlnLmF1dG9TbGlkZSAhPT0gZmFsc2UgKSB7CgoJCQl2YXIgZnJhZ21lbnQgPSBjdXJyZW50U2xpZGUucXVlcnlTZWxlY3RvciggJy5jdXJyZW50LWZyYWdtZW50JyApOwoKCQkJLy8gV2hlbiB0aGUgc2xpZGUgZmlyc3QgYXBwZWFycyB0aGVyZSBpcyBubyAiY3VycmVudCIgZnJhZ21lbnQgc28KCQkJLy8gd2UgbG9vayBmb3IgYSBkYXRhLWF1dG9zbGlkZSB0aW1pbmcgb24gdGhlIGZpcnN0IGZyYWdtZW50CgkJCWlmKCAhZnJhZ21lbnQgKSBmcmFnbWVudCA9IGN1cnJlbnRTbGlkZS5xdWVyeVNlbGVjdG9yKCAnLmZyYWdtZW50JyApOwoKCQkJdmFyIGZyYWdtZW50QXV0b1NsaWRlID0gZnJhZ21lbnQgPyBmcmFnbWVudC5nZXRBdHRyaWJ1dGUoICdkYXRhLWF1dG9zbGlkZScgKSA6IG51bGw7CgkJCXZhciBwYXJlbnRBdXRvU2xpZGUgPSBjdXJyZW50U2xpZGUucGFyZW50Tm9kZSA/IGN1cnJlbnRTbGlkZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSggJ2RhdGEtYXV0b3NsaWRlJyApIDogbnVsbDsKCQkJdmFyIHNsaWRlQXV0b1NsaWRlID0gY3VycmVudFNsaWRlLmdldEF0dHJpYnV0ZSggJ2RhdGEtYXV0b3NsaWRlJyApOwoKCQkJLy8gUGljayB2YWx1ZSBpbiB0aGUgZm9sbG93aW5nIHByaW9yaXR5IG9yZGVyOgoJCQkvLyAxLiBDdXJyZW50IGZyYWdtZW50J3MgZGF0YS1hdXRvc2xpZGUKCQkJLy8gMi4gQ3VycmVudCBzbGlkZSdzIGRhdGEtYXV0b3NsaWRlCgkJCS8vIDMuIFBhcmVudCBzbGlkZSdzIGRhdGEtYXV0b3NsaWRlCgkJCS8vIDQuIEdsb2JhbCBhdXRvU2xpZGUgc2V0dGluZwoJCQlpZiggZnJhZ21lbnRBdXRvU2xpZGUgKSB7CgkJCQlhdXRvU2xpZGUgPSBwYXJzZUludCggZnJhZ21lbnRBdXRvU2xpZGUsIDEwICk7CgkJCX0KCQkJZWxzZSBpZiggc2xpZGVBdXRvU2xpZGUgKSB7CgkJCQlhdXRvU2xpZGUgPSBwYXJzZUludCggc2xpZGVBdXRvU2xpZGUsIDEwICk7CgkJCX0KCQkJZWxzZSBpZiggcGFyZW50QXV0b1NsaWRlICkgewoJCQkJYXV0b1NsaWRlID0gcGFyc2VJbnQoIHBhcmVudEF1dG9TbGlkZSwgMTAgKTsKCQkJfQoJCQllbHNlIHsKCQkJCWF1dG9TbGlkZSA9IGNvbmZpZy5hdXRvU2xpZGU7CgkJCX0KCgkJCS8vIElmIHRoZXJlIGFyZSBtZWRpYSBlbGVtZW50cyB3aXRoIGRhdGEtYXV0b3BsYXksCgkJCS8vIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBhdXRvU2xpZGUgZHVyYXRpb24gdG8gdGhlCgkJCS8vIGxlbmd0aCBvZiB0aGF0IG1lZGlhLiBOb3QgYXBwbGljYWJsZSBpZiB0aGUgc2xpZGUKCQkJLy8gaXMgZGl2aWRlZCB1cCBpbnRvIGZyYWdtZW50cy4KCQkJLy8gcGxheWJhY2tSYXRlIGlzIGFjY291bnRlZCBmb3IgaW4gdGhlIGR1cmF0aW9uLgoJCQlpZiggY3VycmVudFNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICcuZnJhZ21lbnQnICkubGVuZ3RoID09PSAwICkgewoJCQkJdG9BcnJheSggY3VycmVudFNsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICd2aWRlbywgYXVkaW8nICkgKS5mb3JFYWNoKCBmdW5jdGlvbiggZWwgKSB7CgkJCQkJaWYoIGVsLmhhc0F0dHJpYnV0ZSggJ2RhdGEtYXV0b3BsYXknICkgKSB7CgkJCQkJCWlmKCBhdXRvU2xpZGUgJiYgKGVsLmR1cmF0aW9uICogMTAwMCAvIGVsLnBsYXliYWNrUmF0ZSApID4gYXV0b1NsaWRlICkgewoJCQkJCQkJYXV0b1NsaWRlID0gKCBlbC5kdXJhdGlvbiAqIDEwMDAgLyBlbC5wbGF5YmFja1JhdGUgKSArIDEwMDA7CgkJCQkJCX0KCQkJCQl9CgkJCQl9ICk7CgkJCX0KCgkJCS8vIEN1ZSB0aGUgbmV4dCBhdXRvLXNsaWRlIGlmOgoJCQkvLyAtIFRoZXJlIGlzIGFuIGF1dG9TbGlkZSB2YWx1ZQoJCQkvLyAtIEF1dG8tc2xpZGluZyBpc24ndCBwYXVzZWQgYnkgdGhlIHVzZXIKCQkJLy8gLSBUaGUgcHJlc2VudGF0aW9uIGlzbid0IHBhdXNlZAoJCQkvLyAtIFRoZSBvdmVydmlldyBpc24ndCBhY3RpdmUKCQkJLy8gLSBUaGUgcHJlc2VudGF0aW9uIGlzbid0IG92ZXIKCQkJaWYoIGF1dG9TbGlkZSAmJiAhYXV0b1NsaWRlUGF1c2VkICYmICFpc1BhdXNlZCgpICYmICFpc092ZXJ2aWV3KCkgJiYgKCAhUmV2ZWFsLmlzTGFzdFNsaWRlKCkgfHwgYXZhaWxhYmxlRnJhZ21lbnRzKCkubmV4dCB8fCBjb25maWcubG9vcCA9PT0gdHJ1ZSApICkgewoJCQkJYXV0b1NsaWRlVGltZW91dCA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgewoJCQkJCXR5cGVvZiBjb25maWcuYXV0b1NsaWRlTWV0aG9kID09PSAnZnVuY3Rpb24nID8gY29uZmlnLmF1dG9TbGlkZU1ldGhvZCgpIDogbmF2aWdhdGVOZXh0KCk7CgkJCQkJY3VlQXV0b1NsaWRlKCk7CgkJCQl9LCBhdXRvU2xpZGUgKTsKCQkJCWF1dG9TbGlkZVN0YXJ0VGltZSA9IERhdGUubm93KCk7CgkJCX0KCgkJCWlmKCBhdXRvU2xpZGVQbGF5ZXIgKSB7CgkJCQlhdXRvU2xpZGVQbGF5ZXIuc2V0UGxheWluZyggYXV0b1NsaWRlVGltZW91dCAhPT0gLTEgKTsKCQkJfQoKCQl9CgoJfQoKCS8qKgoJICogQ2FuY2VscyBhbnkgb25nb2luZyByZXF1ZXN0IHRvIGF1dG8tc2xpZGUuCgkgKi8KCWZ1bmN0aW9uIGNhbmNlbEF1dG9TbGlkZSgpIHsKCgkJY2xlYXJUaW1lb3V0KCBhdXRvU2xpZGVUaW1lb3V0ICk7CgkJYXV0b1NsaWRlVGltZW91dCA9IC0xOwoKCX0KCglmdW5jdGlvbiBwYXVzZUF1dG9TbGlkZSgpIHsKCgkJaWYoIGF1dG9TbGlkZSAmJiAhYXV0b1NsaWRlUGF1c2VkICkgewoJCQlhdXRvU2xpZGVQYXVzZWQgPSB0cnVlOwoJCQlkaXNwYXRjaEV2ZW50KCAnYXV0b3NsaWRlcGF1c2VkJyApOwoJCQljbGVhclRpbWVvdXQoIGF1dG9TbGlkZVRpbWVvdXQgKTsKCgkJCWlmKCBhdXRvU2xpZGVQbGF5ZXIgKSB7CgkJCQlhdXRvU2xpZGVQbGF5ZXIuc2V0UGxheWluZyggZmFsc2UgKTsKCQkJfQoJCX0KCgl9CgoJZnVuY3Rpb24gcmVzdW1lQXV0b1NsaWRlKCkgewoKCQlpZiggYXV0b1NsaWRlICYmIGF1dG9TbGlkZVBhdXNlZCApIHsKCQkJYXV0b1NsaWRlUGF1c2VkID0gZmFsc2U7CgkJCWRpc3BhdGNoRXZlbnQoICdhdXRvc2xpZGVyZXN1bWVkJyApOwoJCQljdWVBdXRvU2xpZGUoKTsKCQl9CgoJfQoKCWZ1bmN0aW9uIG5hdmlnYXRlTGVmdCgpIHsKCgkJLy8gUmV2ZXJzZSBmb3IgUlRMCgkJaWYoIGNvbmZpZy5ydGwgKSB7CgkJCWlmKCAoIGlzT3ZlcnZpZXcoKSB8fCBuZXh0RnJhZ21lbnQoKSA9PT0gZmFsc2UgKSAmJiBhdmFpbGFibGVSb3V0ZXMoKS5sZWZ0ICkgewoJCQkJc2xpZGUoIGluZGV4aCArIDEgKTsKCQkJfQoJCX0KCQkvLyBOb3JtYWwgbmF2aWdhdGlvbgoJCWVsc2UgaWYoICggaXNPdmVydmlldygpIHx8IHByZXZpb3VzRnJhZ21lbnQoKSA9PT0gZmFsc2UgKSAmJiBhdmFpbGFibGVSb3V0ZXMoKS5sZWZ0ICkgewoJCQlzbGlkZSggaW5kZXhoIC0gMSApOwoJCX0KCgl9CgoJZnVuY3Rpb24gbmF2aWdhdGVSaWdodCgpIHsKCgkJaGFzTmF2aWdhdGVkUmlnaHQgPSB0cnVlOwoKCQkvLyBSZXZlcnNlIGZvciBSVEwKCQlpZiggY29uZmlnLnJ0bCApIHsKCQkJaWYoICggaXNPdmVydmlldygpIHx8IHByZXZpb3VzRnJhZ21lbnQoKSA9PT0gZmFsc2UgKSAmJiBhdmFpbGFibGVSb3V0ZXMoKS5yaWdodCApIHsKCQkJCXNsaWRlKCBpbmRleGggLSAxICk7CgkJCX0KCQl9CgkJLy8gTm9ybWFsIG5hdmlnYXRpb24KCQllbHNlIGlmKCAoIGlzT3ZlcnZpZXcoKSB8fCBuZXh0RnJhZ21lbnQoKSA9PT0gZmFsc2UgKSAmJiBhdmFpbGFibGVSb3V0ZXMoKS5yaWdodCApIHsKCQkJc2xpZGUoIGluZGV4aCArIDEgKTsKCQl9CgoJfQoKCWZ1bmN0aW9uIG5hdmlnYXRlVXAoKSB7CgoJCS8vIFByaW9yaXRpemUgaGlkaW5nIGZyYWdtZW50cwoJCWlmKCAoIGlzT3ZlcnZpZXcoKSB8fCBwcmV2aW91c0ZyYWdtZW50KCkgPT09IGZhbHNlICkgJiYgYXZhaWxhYmxlUm91dGVzKCkudXAgKSB7CgkJCXNsaWRlKCBpbmRleGgsIGluZGV4diAtIDEgKTsKCQl9CgoJfQoKCWZ1bmN0aW9uIG5hdmlnYXRlRG93bigpIHsKCgkJaGFzTmF2aWdhdGVkRG93biA9IHRydWU7CgoJCS8vIFByaW9yaXRpemUgcmV2ZWFsaW5nIGZyYWdtZW50cwoJCWlmKCAoIGlzT3ZlcnZpZXcoKSB8fCBuZXh0RnJhZ21lbnQoKSA9PT0gZmFsc2UgKSAmJiBhdmFpbGFibGVSb3V0ZXMoKS5kb3duICkgewoJCQlzbGlkZSggaW5kZXhoLCBpbmRleHYgKyAxICk7CgkJfQoKCX0KCgkvKioKCSAqIE5hdmlnYXRlcyBiYWNrd2FyZHMsIHByaW9yaXRpemVkIGluIHRoZSBmb2xsb3dpbmcgb3JkZXI6CgkgKiAxKSBQcmV2aW91cyBmcmFnbWVudAoJICogMikgUHJldmlvdXMgdmVydGljYWwgc2xpZGUKCSAqIDMpIFByZXZpb3VzIGhvcml6b250YWwgc2xpZGUKCSAqLwoJZnVuY3Rpb24gbmF2aWdhdGVQcmV2KCkgewoKCQkvLyBQcmlvcml0aXplIHJldmVhbGluZyBmcmFnbWVudHMKCQlpZiggcHJldmlvdXNGcmFnbWVudCgpID09PSBmYWxzZSApIHsKCQkJaWYoIGF2YWlsYWJsZVJvdXRlcygpLnVwICkgewoJCQkJbmF2aWdhdGVVcCgpOwoJCQl9CgkJCWVsc2UgewoJCQkJLy8gRmV0Y2ggdGhlIHByZXZpb3VzIGhvcml6b250YWwgc2xpZGUsIGlmIHRoZXJlIGlzIG9uZQoJCQkJdmFyIHByZXZpb3VzU2xpZGU7CgoJCQkJaWYoIGNvbmZpZy5ydGwgKSB7CgkJCQkJcHJldmlvdXNTbGlkZSA9IHRvQXJyYXkoIGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIEhPUklaT05UQUxfU0xJREVTX1NFTEVDVE9SICsgJy5mdXR1cmUnICkgKS5wb3AoKTsKCQkJCX0KCQkJCWVsc2UgewoJCQkJCXByZXZpb3VzU2xpZGUgPSB0b0FycmF5KCBkb20ud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCBIT1JJWk9OVEFMX1NMSURFU19TRUxFQ1RPUiArICcucGFzdCcgKSApLnBvcCgpOwoJCQkJfQoKCQkJCWlmKCBwcmV2aW91c1NsaWRlICkgewoJCQkJCXZhciB2ID0gKCBwcmV2aW91c1NsaWRlLnF1ZXJ5U2VsZWN0b3JBbGwoICdzZWN0aW9uJyApLmxlbmd0aCAtIDEgKSB8fCB1bmRlZmluZWQ7CgkJCQkJdmFyIGggPSBpbmRleGggLSAxOwoJCQkJCXNsaWRlKCBoLCB2ICk7CgkJCQl9CgkJCX0KCQl9CgoJfQoKCS8qKgoJICogVGhlIHJldmVyc2Ugb2YgI25hdmlnYXRlUHJldigpLgoJICovCglmdW5jdGlvbiBuYXZpZ2F0ZU5leHQoKSB7CgoJCWhhc05hdmlnYXRlZFJpZ2h0ID0gdHJ1ZTsKCQloYXNOYXZpZ2F0ZWREb3duID0gdHJ1ZTsKCgkJLy8gUHJpb3JpdGl6ZSByZXZlYWxpbmcgZnJhZ21lbnRzCgkJaWYoIG5leHRGcmFnbWVudCgpID09PSBmYWxzZSApIHsKCgkJCXZhciByb3V0ZXMgPSBhdmFpbGFibGVSb3V0ZXMoKTsKCgkJCS8vIFdoZW4gbG9vcGluZyBpcyBlbmFibGVkIGByb3V0ZXMuZG93bmAgaXMgYWx3YXlzIGF2YWlsYWJsZQoJCQkvLyBzbyB3ZSBuZWVkIGEgc2VwYXJhdGUgY2hlY2sgZm9yIHdoZW4gd2UndmUgcmVhY2hlZCB0aGUKCQkJLy8gZW5kIG9mIGEgc3RhY2sgYW5kIHNob3VsZCBtb3ZlIGhvcml6b250YWxseQoJCQlpZiggcm91dGVzLmRvd24gJiYgcm91dGVzLnJpZ2h0ICYmIGNvbmZpZy5sb29wICYmIFJldmVhbC5pc0xhc3RWZXJ0aWNhbFNsaWRlKCBjdXJyZW50U2xpZGUgKSApIHsKCQkJCXJvdXRlcy5kb3duID0gZmFsc2U7CgkJCX0KCgkJCWlmKCByb3V0ZXMuZG93biApIHsKCQkJCW5hdmlnYXRlRG93bigpOwoJCQl9CgkJCWVsc2UgaWYoIGNvbmZpZy5ydGwgKSB7CgkJCQluYXZpZ2F0ZUxlZnQoKTsKCQkJfQoJCQllbHNlIHsKCQkJCW5hdmlnYXRlUmlnaHQoKTsKCQkJfQoJCX0KCgl9CgoJLyoqCgkgKiBDaGVja3MgaWYgdGhlIHRhcmdldCBlbGVtZW50IHByZXZlbnRzIHRoZSB0cmlnZ2VyaW5nIG9mCgkgKiBzd2lwZSBuYXZpZ2F0aW9uLgoJICovCglmdW5jdGlvbiBpc1N3aXBlUHJldmVudGVkKCB0YXJnZXQgKSB7CgoJCXdoaWxlKCB0YXJnZXQgJiYgdHlwZW9mIHRhcmdldC5oYXNBdHRyaWJ1dGUgPT09ICdmdW5jdGlvbicgKSB7CgkJCWlmKCB0YXJnZXQuaGFzQXR0cmlidXRlKCAnZGF0YS1wcmV2ZW50LXN3aXBlJyApICkgcmV0dXJuIHRydWU7CgkJCXRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoJCX0KCgkJcmV0dXJuIGZhbHNlOwoKCX0KCgoJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwoJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRVZFTlRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwoJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwoKCS8qKgoJICogQ2FsbGVkIGJ5IGFsbCBldmVudCBoYW5kbGVycyB0aGF0IGFyZSBiYXNlZCBvbiB1c2VyCgkgKiBpbnB1dC4KCSAqCgkgKiBAcGFyYW0ge29iamVjdH0gW2V2ZW50XQoJICovCglmdW5jdGlvbiBvblVzZXJJbnB1dCggZXZlbnQgKSB7CgoJCWlmKCBjb25maWcuYXV0b1NsaWRlU3RvcHBhYmxlICkgewoJCQlwYXVzZUF1dG9TbGlkZSgpOwoJCX0KCgl9CgoJLyoqCgkgKiBIYW5kbGVyIGZvciB0aGUgZG9jdW1lbnQgbGV2ZWwgJ2tleXByZXNzJyBldmVudC4KCSAqCgkgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQKCSAqLwoJZnVuY3Rpb24gb25Eb2N1bWVudEtleVByZXNzKCBldmVudCApIHsKCgkJLy8gQ2hlY2sgaWYgdGhlIHByZXNzZWQga2V5IGlzIHF1ZXN0aW9uIG1hcmsKCQlpZiggZXZlbnQuc2hpZnRLZXkgJiYgZXZlbnQuY2hhckNvZGUgPT09IDYzICkgewoJCQl0b2dnbGVIZWxwKCk7CgkJfQoKCX0KCgkvKioKCSAqIEhhbmRsZXIgZm9yIHRoZSBkb2N1bWVudCBsZXZlbCAna2V5ZG93bicgZXZlbnQuCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IGV2ZW50CgkgKi8KCWZ1bmN0aW9uIG9uRG9jdW1lbnRLZXlEb3duKCBldmVudCApIHsKCgkJLy8gSWYgdGhlcmUncyBhIGNvbmRpdGlvbiBzcGVjaWZpZWQgYW5kIGl0IHJldHVybnMgZmFsc2UsCgkJLy8gaWdub3JlIHRoaXMgZXZlbnQKCQlpZiggdHlwZW9mIGNvbmZpZy5rZXlib2FyZENvbmRpdGlvbiA9PT0gJ2Z1bmN0aW9uJyAmJiBjb25maWcua2V5Ym9hcmRDb25kaXRpb24oZXZlbnQpID09PSBmYWxzZSApIHsKCQkJcmV0dXJuIHRydWU7CgkJfQoKCQkvLyBSZW1lbWJlciBpZiBhdXRvLXNsaWRpbmcgd2FzIHBhdXNlZCBzbyB3ZSBjYW4gdG9nZ2xlIGl0CgkJdmFyIGF1dG9TbGlkZVdhc1BhdXNlZCA9IGF1dG9TbGlkZVBhdXNlZDsKCgkJb25Vc2VySW5wdXQoIGV2ZW50ICk7CgoJCS8vIENoZWNrIGlmIHRoZXJlJ3MgYSBmb2N1c2VkIGVsZW1lbnQgdGhhdCBjb3VsZCBiZSB1c2luZwoJCS8vIHRoZSBrZXlib2FyZAoJCXZhciBhY3RpdmVFbGVtZW50SXNDRSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jb250ZW50RWRpdGFibGUgIT09ICdpbmhlcml0JzsKCQl2YXIgYWN0aXZlRWxlbWVudElzSW5wdXQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudGFnTmFtZSAmJiAvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KCBkb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhZ05hbWUgKTsKCQl2YXIgYWN0aXZlRWxlbWVudElzTm90ZXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY2xhc3NOYW1lICYmIC9zcGVha2VyLW5vdGVzL2kudGVzdCggZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jbGFzc05hbWUpOwoKCQkvLyBEaXNyZWdhcmQgdGhlIGV2ZW50IGlmIHRoZXJlJ3MgYSBmb2N1c2VkIGVsZW1lbnQgb3IgYQoJCS8vIGtleWJvYXJkIG1vZGlmaWVyIGtleSBpcyBwcmVzZW50CgkJaWYoIGFjdGl2ZUVsZW1lbnRJc0NFIHx8IGFjdGl2ZUVsZW1lbnRJc0lucHV0IHx8IGFjdGl2ZUVsZW1lbnRJc05vdGVzIHx8IChldmVudC5zaGlmdEtleSAmJiBldmVudC5rZXlDb2RlICE9PSAzMikgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSApIHJldHVybjsKCgkJLy8gV2hpbGUgcGF1c2VkIG9ubHkgYWxsb3cgcmVzdW1lIGtleWJvYXJkIGV2ZW50czsgJ2InLCAndicsICcuJwoJCXZhciByZXN1bWVLZXlDb2RlcyA9IFs2Niw4NiwxOTAsMTkxXTsKCQl2YXIga2V5OwoKCQkvLyBDdXN0b20ga2V5IGJpbmRpbmdzIGZvciB0b2dnbGVQYXVzZSBzaG91bGQgYmUgYWJsZSB0byByZXN1bWUKCQlpZiggdHlwZW9mIGNvbmZpZy5rZXlib2FyZCA9PT0gJ29iamVjdCcgKSB7CgkJCWZvcigga2V5IGluIGNvbmZpZy5rZXlib2FyZCApIHsKCQkJCWlmKCBjb25maWcua2V5Ym9hcmRba2V5XSA9PT0gJ3RvZ2dsZVBhdXNlJyApIHsKCQkJCQlyZXN1bWVLZXlDb2Rlcy5wdXNoKCBwYXJzZUludCgga2V5LCAxMCApICk7CgkJCQl9CgkJCX0KCQl9CgoJCWlmKCBpc1BhdXNlZCgpICYmIHJlc3VtZUtleUNvZGVzLmluZGV4T2YoIGV2ZW50LmtleUNvZGUgKSA9PT0gLTEgKSB7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCXZhciB0cmlnZ2VyZWQgPSBmYWxzZTsKCgkJLy8gMS4gVXNlciBkZWZpbmVkIGtleSBiaW5kaW5ncwoJCWlmKCB0eXBlb2YgY29uZmlnLmtleWJvYXJkID09PSAnb2JqZWN0JyApIHsKCgkJCWZvcigga2V5IGluIGNvbmZpZy5rZXlib2FyZCApIHsKCgkJCQkvLyBDaGVjayBpZiB0aGlzIGJpbmRpbmcgbWF0Y2hlcyB0aGUgcHJlc3NlZCBrZXkKCQkJCWlmKCBwYXJzZUludCgga2V5LCAxMCApID09PSBldmVudC5rZXlDb2RlICkgewoKCQkJCQl2YXIgdmFsdWUgPSBjb25maWcua2V5Ym9hcmRbIGtleSBdOwoKCQkJCQkvLyBDYWxsYmFjayBmdW5jdGlvbgoJCQkJCWlmKCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgKSB7CgkJCQkJCXZhbHVlLmFwcGx5KCBudWxsLCBbIGV2ZW50IF0gKTsKCQkJCQl9CgkJCQkJLy8gU3RyaW5nIHNob3J0Y3V0cyB0byByZXZlYWwuanMgQVBJCgkJCQkJZWxzZSBpZiggdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgUmV2ZWFsWyB2YWx1ZSBdID09PSAnZnVuY3Rpb24nICkgewoJCQkJCQlSZXZlYWxbIHZhbHVlIF0uY2FsbCgpOwoJCQkJCX0KCgkJCQkJdHJpZ2dlcmVkID0gdHJ1ZTsKCgkJCQl9CgoJCQl9CgoJCX0KCgkJLy8gMi4gUmVnaXN0ZXJlZCBjdXN0b20ga2V5IGJpbmRpbmdzCgkJaWYoIHRyaWdnZXJlZCA9PT0gZmFsc2UgKSB7CgoJCQlmb3IoIGtleSBpbiByZWdpc3RlcmVkS2V5QmluZGluZ3MgKSB7CgoJCQkJLy8gQ2hlY2sgaWYgdGhpcyBiaW5kaW5nIG1hdGNoZXMgdGhlIHByZXNzZWQga2V5CgkJCQlpZiggcGFyc2VJbnQoIGtleSwgMTAgKSA9PT0gZXZlbnQua2V5Q29kZSApIHsKCgkJCQkJdmFyIGFjdGlvbiA9IHJlZ2lzdGVyZWRLZXlCaW5kaW5nc1sga2V5IF0uY2FsbGJhY2s7CgoJCQkJCS8vIENhbGxiYWNrIGZ1bmN0aW9uCgkJCQkJaWYoIHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicgKSB7CgkJCQkJCWFjdGlvbi5hcHBseSggbnVsbCwgWyBldmVudCBdICk7CgkJCQkJfQoJCQkJCS8vIFN0cmluZyBzaG9ydGN1dHMgdG8gcmV2ZWFsLmpzIEFQSQoJCQkJCWVsc2UgaWYoIHR5cGVvZiBhY3Rpb24gPT09ICdzdHJpbmcnICYmIHR5cGVvZiBSZXZlYWxbIGFjdGlvbiBdID09PSAnZnVuY3Rpb24nICkgewoJCQkJCQlSZXZlYWxbIGFjdGlvbiBdLmNhbGwoKTsKCQkJCQl9CgoJCQkJCXRyaWdnZXJlZCA9IHRydWU7CgkJCQl9CgkJCX0KCQl9CgoJCS8vIDMuIFN5c3RlbSBkZWZpbmVkIGtleSBiaW5kaW5ncwoJCWlmKCB0cmlnZ2VyZWQgPT09IGZhbHNlICkgewoKCQkJLy8gQXNzdW1lIHRydWUgYW5kIHRyeSB0byBwcm92ZSBmYWxzZQoJCQl0cmlnZ2VyZWQgPSB0cnVlOwoKCQkJc3dpdGNoKCBldmVudC5rZXlDb2RlICkgewoJCQkJLy8gcCwgcGFnZSB1cAoJCQkJY2FzZSA4MDogY2FzZSAzMzogbmF2aWdhdGVQcmV2KCk7IGJyZWFrOwoJCQkJLy8gbiwgcGFnZSBkb3duCgkJCQljYXNlIDc4OiBjYXNlIDM0OiBuYXZpZ2F0ZU5leHQoKTsgYnJlYWs7CgkJCQkvLyBoLCBsZWZ0CgkJCQljYXNlIDcyOiBjYXNlIDM3OiBuYXZpZ2F0ZUxlZnQoKTsgYnJlYWs7CgkJCQkvLyBsLCByaWdodAoJCQkJY2FzZSA3NjogY2FzZSAzOTogbmF2aWdhdGVSaWdodCgpOyBicmVhazsKCQkJCS8vIGssIHVwCgkJCQljYXNlIDc1OiBjYXNlIDM4OiBuYXZpZ2F0ZVVwKCk7IGJyZWFrOwoJCQkJLy8gaiwgZG93bgoJCQkJY2FzZSA3NDogY2FzZSA0MDogbmF2aWdhdGVEb3duKCk7IGJyZWFrOwoJCQkJLy8gaG9tZQoJCQkJY2FzZSAzNjogc2xpZGUoIDAgKTsgYnJlYWs7CgkJCQkvLyBlbmQKCQkJCWNhc2UgMzU6IHNsaWRlKCBOdW1iZXIuTUFYX1ZBTFVFICk7IGJyZWFrOwoJCQkJLy8gc3BhY2UKCQkJCWNhc2UgMzI6IGlzT3ZlcnZpZXcoKSA/IGRlYWN0aXZhdGVPdmVydmlldygpIDogZXZlbnQuc2hpZnRLZXkgPyBuYXZpZ2F0ZVByZXYoKSA6IG5hdmlnYXRlTmV4dCgpOyBicmVhazsKCQkJCS8vIHJldHVybgoJCQkJY2FzZSAxMzogaXNPdmVydmlldygpID8gZGVhY3RpdmF0ZU92ZXJ2aWV3KCkgOiB0cmlnZ2VyZWQgPSBmYWxzZTsgYnJlYWs7CgkJCQkvLyB0d28tc3BvdCwgc2VtaWNvbG9uLCBiLCB2LCBwZXJpb2QsIExvZ2l0ZWNoIHByZXNlbnRlciB0b29scyAiYmxhY2sgc2NyZWVuIiBidXR0b24KCQkJCWNhc2UgNTg6IGNhc2UgNTk6IGNhc2UgNjY6IGNhc2UgODY6IGNhc2UgMTkwOiBjYXNlIDE5MTogdG9nZ2xlUGF1c2UoKTsgYnJlYWs7CgkJCQkvLyBmCgkJCQljYXNlIDcwOiBlbnRlckZ1bGxzY3JlZW4oKTsgYnJlYWs7CgkJCQkvLyBhCgkJCQljYXNlIDY1OiBpZiAoIGNvbmZpZy5hdXRvU2xpZGVTdG9wcGFibGUgKSB0b2dnbGVBdXRvU2xpZGUoIGF1dG9TbGlkZVdhc1BhdXNlZCApOyBicmVhazsKCQkJCWRlZmF1bHQ6CgkJCQkJdHJpZ2dlcmVkID0gZmFsc2U7CgkJCX0KCgkJfQoKCQkvLyBJZiB0aGUgaW5wdXQgcmVzdWx0ZWQgaW4gYSB0cmlnZ2VyZWQgYWN0aW9uIHdlIHNob3VsZCBwcmV2ZW50CgkJLy8gdGhlIGJyb3dzZXJzIGRlZmF1bHQgYmVoYXZpb3IKCQlpZiggdHJpZ2dlcmVkICkgewoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCX0KCQkvLyBFU0Mgb3IgTyBrZXkKCQllbHNlIGlmICggKCBldmVudC5rZXlDb2RlID09PSAyNyB8fCBldmVudC5rZXlDb2RlID09PSA3OSApICYmIGZlYXR1cmVzLnRyYW5zZm9ybXMzZCApIHsKCQkJaWYoIGRvbS5vdmVybGF5ICkgewoJCQkJY2xvc2VPdmVybGF5KCk7CgkJCX0KCQkJZWxzZSB7CgkJCQl0b2dnbGVPdmVydmlldygpOwoJCQl9CgoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCX0KCgkJLy8gSWYgYXV0by1zbGlkaW5nIGlzIGVuYWJsZWQgd2UgbmVlZCB0byBjdWUgdXAKCQkvLyBhbm90aGVyIHRpbWVvdXQKCQljdWVBdXRvU2xpZGUoKTsKCgl9CgoJLyoqCgkgKiBIYW5kbGVyIGZvciB0aGUgJ3RvdWNoc3RhcnQnIGV2ZW50LCBlbmFibGVzIHN1cHBvcnQgZm9yCgkgKiBzd2lwZSBhbmQgcGluY2ggZ2VzdHVyZXMuCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IGV2ZW50CgkgKi8KCWZ1bmN0aW9uIG9uVG91Y2hTdGFydCggZXZlbnQgKSB7CgoJCWlmKCBpc1N3aXBlUHJldmVudGVkKCBldmVudC50YXJnZXQgKSApIHJldHVybiB0cnVlOwoKCQl0b3VjaC5zdGFydFggPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7CgkJdG91Y2guc3RhcnRZID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZOwoJCXRvdWNoLnN0YXJ0Q291bnQgPSBldmVudC50b3VjaGVzLmxlbmd0aDsKCgkJLy8gSWYgdGhlcmUncyB0d28gdG91Y2hlcyB3ZSBuZWVkIHRvIG1lbW9yaXplIHRoZSBkaXN0YW5jZQoJCS8vIGJldHdlZW4gdGhvc2UgdHdvIHBvaW50cyB0byBkZXRlY3QgcGluY2hpbmcKCQlpZiggZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDIgJiYgY29uZmlnLm92ZXJ2aWV3ICkgewoJCQl0b3VjaC5zdGFydFNwYW4gPSBkaXN0YW5jZUJldHdlZW4oIHsKCQkJCXg6IGV2ZW50LnRvdWNoZXNbMV0uY2xpZW50WCwKCQkJCXk6IGV2ZW50LnRvdWNoZXNbMV0uY2xpZW50WQoJCQl9LCB7CgkJCQl4OiB0b3VjaC5zdGFydFgsCgkJCQl5OiB0b3VjaC5zdGFydFkKCQkJfSApOwoJCX0KCgl9CgoJLyoqCgkgKiBIYW5kbGVyIGZvciB0aGUgJ3RvdWNobW92ZScgZXZlbnQuCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IGV2ZW50CgkgKi8KCWZ1bmN0aW9uIG9uVG91Y2hNb3ZlKCBldmVudCApIHsKCgkJaWYoIGlzU3dpcGVQcmV2ZW50ZWQoIGV2ZW50LnRhcmdldCApICkgcmV0dXJuIHRydWU7CgoJCS8vIEVhY2ggdG91Y2ggc2hvdWxkIG9ubHkgdHJpZ2dlciBvbmUgYWN0aW9uCgkJaWYoICF0b3VjaC5jYXB0dXJlZCApIHsKCQkJb25Vc2VySW5wdXQoIGV2ZW50ICk7CgoJCQl2YXIgY3VycmVudFggPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7CgkJCXZhciBjdXJyZW50WSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTsKCgkJCS8vIElmIHRoZSB0b3VjaCBzdGFydGVkIHdpdGggdHdvIHBvaW50cyBhbmQgc3RpbGwgaGFzCgkJCS8vIHR3byBhY3RpdmUgdG91Y2hlczsgdGVzdCBmb3IgdGhlIHBpbmNoIGdlc3R1cmUKCQkJaWYoIGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAyICYmIHRvdWNoLnN0YXJ0Q291bnQgPT09IDIgJiYgY29uZmlnLm92ZXJ2aWV3ICkgewoKCQkJCS8vIFRoZSBjdXJyZW50IGRpc3RhbmNlIGluIHBpeGVscyBiZXR3ZWVuIHRoZSB0d28gdG91Y2ggcG9pbnRzCgkJCQl2YXIgY3VycmVudFNwYW4gPSBkaXN0YW5jZUJldHdlZW4oIHsKCQkJCQl4OiBldmVudC50b3VjaGVzWzFdLmNsaWVudFgsCgkJCQkJeTogZXZlbnQudG91Y2hlc1sxXS5jbGllbnRZCgkJCQl9LCB7CgkJCQkJeDogdG91Y2guc3RhcnRYLAoJCQkJCXk6IHRvdWNoLnN0YXJ0WQoJCQkJfSApOwoKCQkJCS8vIElmIHRoZSBzcGFuIGlzIGxhcmdlciB0aGFuIHRoZSBkZXNpcmUgYW1vdW50IHdlJ3ZlIGdvdAoJCQkJLy8gb3Vyc2VsdmVzIGEgcGluY2gKCQkJCWlmKCBNYXRoLmFicyggdG91Y2guc3RhcnRTcGFuIC0gY3VycmVudFNwYW4gKSA+IHRvdWNoLnRocmVzaG9sZCApIHsKCQkJCQl0b3VjaC5jYXB0dXJlZCA9IHRydWU7CgoJCQkJCWlmKCBjdXJyZW50U3BhbiA8IHRvdWNoLnN0YXJ0U3BhbiApIHsKCQkJCQkJYWN0aXZhdGVPdmVydmlldygpOwoJCQkJCX0KCQkJCQllbHNlIHsKCQkJCQkJZGVhY3RpdmF0ZU92ZXJ2aWV3KCk7CgkJCQkJfQoJCQkJfQoKCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgoJCQl9CgkJCS8vIFRoZXJlIHdhcyBvbmx5IG9uZSB0b3VjaCBwb2ludCwgbG9vayBmb3IgYSBzd2lwZQoJCQllbHNlIGlmKCBldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSAmJiB0b3VjaC5zdGFydENvdW50ICE9PSAyICkgewoKCQkJCXZhciBkZWx0YVggPSBjdXJyZW50WCAtIHRvdWNoLnN0YXJ0WCwKCQkJCQlkZWx0YVkgPSBjdXJyZW50WSAtIHRvdWNoLnN0YXJ0WTsKCgkJCQlpZiggZGVsdGFYID4gdG91Y2gudGhyZXNob2xkICYmIE1hdGguYWJzKCBkZWx0YVggKSA+IE1hdGguYWJzKCBkZWx0YVkgKSApIHsKCQkJCQl0b3VjaC5jYXB0dXJlZCA9IHRydWU7CgkJCQkJbmF2aWdhdGVMZWZ0KCk7CgkJCQl9CgkJCQllbHNlIGlmKCBkZWx0YVggPCAtdG91Y2gudGhyZXNob2xkICYmIE1hdGguYWJzKCBkZWx0YVggKSA+IE1hdGguYWJzKCBkZWx0YVkgKSApIHsKCQkJCQl0b3VjaC5jYXB0dXJlZCA9IHRydWU7CgkJCQkJbmF2aWdhdGVSaWdodCgpOwoJCQkJfQoJCQkJZWxzZSBpZiggZGVsdGFZID4gdG91Y2gudGhyZXNob2xkICkgewoJCQkJCXRvdWNoLmNhcHR1cmVkID0gdHJ1ZTsKCQkJCQluYXZpZ2F0ZVVwKCk7CgkJCQl9CgkJCQllbHNlIGlmKCBkZWx0YVkgPCAtdG91Y2gudGhyZXNob2xkICkgewoJCQkJCXRvdWNoLmNhcHR1cmVkID0gdHJ1ZTsKCQkJCQluYXZpZ2F0ZURvd24oKTsKCQkJCX0KCgkJCQkvLyBJZiB3ZSdyZSBlbWJlZGRlZCwgb25seSBibG9jayB0b3VjaCBldmVudHMgaWYgdGhleSBoYXZlCgkJCQkvLyB0cmlnZ2VyZWQgYW4gYWN0aW9uCgkJCQlpZiggY29uZmlnLmVtYmVkZGVkICkgewoJCQkJCWlmKCB0b3VjaC5jYXB0dXJlZCB8fCBpc1ZlcnRpY2FsU2xpZGUoIGN1cnJlbnRTbGlkZSApICkgewoJCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCX0KCQkJCX0KCQkJCS8vIE5vdCBlbWJlZGRlZD8gQmxvY2sgdGhlbSBhbGwgdG8gYXZvaWQgbmVlZGxlc3MgdG9zc2luZwoJCQkJLy8gYXJvdW5kIG9mIHRoZSB2aWV3cG9ydCBpbiBpT1MKCQkJCWVsc2UgewoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQl9CgoJCQl9CgkJfQoJCS8vIFRoZXJlJ3MgYSBidWcgd2l0aCBzd2lwaW5nIG9uIHNvbWUgQW5kcm9pZCBkZXZpY2VzIHVubGVzcwoJCS8vIHRoZSBkZWZhdWx0IGFjdGlvbiBpcyBhbHdheXMgcHJldmVudGVkCgkJZWxzZSBpZiggVUEubWF0Y2goIC9hbmRyb2lkL2dpICkgKSB7CgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJfQoKCX0KCgkvKioKCSAqIEhhbmRsZXIgZm9yIHRoZSAndG91Y2hlbmQnIGV2ZW50LgoJICoKCSAqIEBwYXJhbSB7b2JqZWN0fSBldmVudAoJICovCglmdW5jdGlvbiBvblRvdWNoRW5kKCBldmVudCApIHsKCgkJdG91Y2guY2FwdHVyZWQgPSBmYWxzZTsKCgl9CgoJLyoqCgkgKiBDb252ZXJ0IHBvaW50ZXIgZG93biB0byB0b3VjaCBzdGFydC4KCSAqCgkgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQKCSAqLwoJZnVuY3Rpb24gb25Qb2ludGVyRG93biggZXZlbnQgKSB7CgoJCWlmKCBldmVudC5wb2ludGVyVHlwZSA9PT0gZXZlbnQuTVNQT0lOVEVSX1RZUEVfVE9VQ0ggfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICJ0b3VjaCIgKSB7CgkJCWV2ZW50LnRvdWNoZXMgPSBbeyBjbGllbnRYOiBldmVudC5jbGllbnRYLCBjbGllbnRZOiBldmVudC5jbGllbnRZIH1dOwoJCQlvblRvdWNoU3RhcnQoIGV2ZW50ICk7CgkJfQoKCX0KCgkvKioKCSAqIENvbnZlcnQgcG9pbnRlciBtb3ZlIHRvIHRvdWNoIG1vdmUuCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IGV2ZW50CgkgKi8KCWZ1bmN0aW9uIG9uUG9pbnRlck1vdmUoIGV2ZW50ICkgewoKCQlpZiggZXZlbnQucG9pbnRlclR5cGUgPT09IGV2ZW50Lk1TUE9JTlRFUl9UWVBFX1RPVUNIIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAidG91Y2giICkgIHsKCQkJZXZlbnQudG91Y2hlcyA9IFt7IGNsaWVudFg6IGV2ZW50LmNsaWVudFgsIGNsaWVudFk6IGV2ZW50LmNsaWVudFkgfV07CgkJCW9uVG91Y2hNb3ZlKCBldmVudCApOwoJCX0KCgl9CgoJLyoqCgkgKiBDb252ZXJ0IHBvaW50ZXIgdXAgdG8gdG91Y2ggZW5kLgoJICoKCSAqIEBwYXJhbSB7b2JqZWN0fSBldmVudAoJICovCglmdW5jdGlvbiBvblBvaW50ZXJVcCggZXZlbnQgKSB7CgoJCWlmKCBldmVudC5wb2ludGVyVHlwZSA9PT0gZXZlbnQuTVNQT0lOVEVSX1RZUEVfVE9VQ0ggfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICJ0b3VjaCIgKSAgewoJCQlldmVudC50b3VjaGVzID0gW3sgY2xpZW50WDogZXZlbnQuY2xpZW50WCwgY2xpZW50WTogZXZlbnQuY2xpZW50WSB9XTsKCQkJb25Ub3VjaEVuZCggZXZlbnQgKTsKCQl9CgoJfQoKCS8qKgoJICogSGFuZGxlcyBtb3VzZSB3aGVlbCBzY3JvbGxpbmcsIHRocm90dGxlZCB0byBhdm9pZCBza2lwcGluZwoJICogbXVsdGlwbGUgc2xpZGVzLgoJICoKCSAqIEBwYXJhbSB7b2JqZWN0fSBldmVudAoJICovCglmdW5jdGlvbiBvbkRvY3VtZW50TW91c2VTY3JvbGwoIGV2ZW50ICkgewoKCQlpZiggRGF0ZS5ub3coKSAtIGxhc3RNb3VzZVdoZWVsU3RlcCA+IDYwMCApIHsKCgkJCWxhc3RNb3VzZVdoZWVsU3RlcCA9IERhdGUubm93KCk7CgoJCQl2YXIgZGVsdGEgPSBldmVudC5kZXRhaWwgfHwgLWV2ZW50LndoZWVsRGVsdGE7CgkJCWlmKCBkZWx0YSA+IDAgKSB7CgkJCQluYXZpZ2F0ZU5leHQoKTsKCQkJfQoJCQllbHNlIGlmKCBkZWx0YSA8IDAgKSB7CgkJCQluYXZpZ2F0ZVByZXYoKTsKCQkJfQoKCQl9CgoJfQoKCS8qKgoJICogQ2xpY2tpbmcgb24gdGhlIHByb2dyZXNzIGJhciByZXN1bHRzIGluIGEgbmF2aWdhdGlvbiB0byB0aGUKCSAqIGNsb3Nlc3QgYXBwcm94aW1hdGUgaG9yaXpvbnRhbCBzbGlkZSB1c2luZyB0aGlzIGVxdWF0aW9uOgoJICoKCSAqICggY2xpY2tYIC8gcHJlc2VudGF0aW9uV2lkdGggKSAqIG51bWJlck9mU2xpZGVzCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IGV2ZW50CgkgKi8KCWZ1bmN0aW9uIG9uUHJvZ3Jlc3NDbGlja2VkKCBldmVudCApIHsKCgkJb25Vc2VySW5wdXQoIGV2ZW50ICk7CgoJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgoJCXZhciBzbGlkZXNUb3RhbCA9IHRvQXJyYXkoIGRvbS53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoIEhPUklaT05UQUxfU0xJREVTX1NFTEVDVE9SICkgKS5sZW5ndGg7CgkJdmFyIHNsaWRlSW5kZXggPSBNYXRoLmZsb29yKCAoIGV2ZW50LmNsaWVudFggLyBkb20ud3JhcHBlci5vZmZzZXRXaWR0aCApICogc2xpZGVzVG90YWwgKTsKCgkJaWYoIGNvbmZpZy5ydGwgKSB7CgkJCXNsaWRlSW5kZXggPSBzbGlkZXNUb3RhbCAtIHNsaWRlSW5kZXg7CgkJfQoKCQlzbGlkZSggc2xpZGVJbmRleCApOwoKCX0KCgkvKioKCSAqIEV2ZW50IGhhbmRsZXIgZm9yIG5hdmlnYXRpb24gY29udHJvbCBidXR0b25zLgoJICovCglmdW5jdGlvbiBvbk5hdmlnYXRlTGVmdENsaWNrZWQoIGV2ZW50ICkgeyBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyBvblVzZXJJbnB1dCgpOyBuYXZpZ2F0ZUxlZnQoKTsgfQoJZnVuY3Rpb24gb25OYXZpZ2F0ZVJpZ2h0Q2xpY2tlZCggZXZlbnQgKSB7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IG9uVXNlcklucHV0KCk7IG5hdmlnYXRlUmlnaHQoKTsgfQoJZnVuY3Rpb24gb25OYXZpZ2F0ZVVwQ2xpY2tlZCggZXZlbnQgKSB7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IG9uVXNlcklucHV0KCk7IG5hdmlnYXRlVXAoKTsgfQoJZnVuY3Rpb24gb25OYXZpZ2F0ZURvd25DbGlja2VkKCBldmVudCApIHsgZXZlbnQucHJldmVudERlZmF1bHQoKTsgb25Vc2VySW5wdXQoKTsgbmF2aWdhdGVEb3duKCk7IH0KCWZ1bmN0aW9uIG9uTmF2aWdhdGVQcmV2Q2xpY2tlZCggZXZlbnQgKSB7IGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IG9uVXNlcklucHV0KCk7IG5hdmlnYXRlUHJldigpOyB9CglmdW5jdGlvbiBvbk5hdmlnYXRlTmV4dENsaWNrZWQoIGV2ZW50ICkgeyBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyBvblVzZXJJbnB1dCgpOyBuYXZpZ2F0ZU5leHQoKTsgfQoKCS8qKgoJICogSGFuZGxlciBmb3IgdGhlIHdpbmRvdyBsZXZlbCAnaGFzaGNoYW5nZScgZXZlbnQuCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IFtldmVudF0KCSAqLwoJZnVuY3Rpb24gb25XaW5kb3dIYXNoQ2hhbmdlKCBldmVudCApIHsKCgkJcmVhZFVSTCgpOwoKCX0KCgkvKioKCSAqIEhhbmRsZXIgZm9yIHRoZSB3aW5kb3cgbGV2ZWwgJ3Jlc2l6ZScgZXZlbnQuCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IFtldmVudF0KCSAqLwoJZnVuY3Rpb24gb25XaW5kb3dSZXNpemUoIGV2ZW50ICkgewoKCQlsYXlvdXQoKTsKCgl9CgoJLyoqCgkgKiBIYW5kbGUgZm9yIHRoZSB3aW5kb3cgbGV2ZWwgJ3Zpc2liaWxpdHljaGFuZ2UnIGV2ZW50LgoJICoKCSAqIEBwYXJhbSB7b2JqZWN0fSBbZXZlbnRdCgkgKi8KCWZ1bmN0aW9uIG9uUGFnZVZpc2liaWxpdHlDaGFuZ2UoIGV2ZW50ICkgewoKCQl2YXIgaXNIaWRkZW4gPSAgZG9jdW1lbnQud2Via2l0SGlkZGVuIHx8CgkJCQkJCWRvY3VtZW50Lm1zSGlkZGVuIHx8CgkJCQkJCWRvY3VtZW50LmhpZGRlbjsKCgkJLy8gSWYsIGFmdGVyIGNsaWNraW5nIGEgbGluayBvciBzaW1pbGFyIGFuZCB3ZSdyZSBjb21pbmcgYmFjaywKCQkvLyBmb2N1cyB0aGUgZG9jdW1lbnQuYm9keSB0byBlbnN1cmUgd2UgY2FuIHVzZSBrZXlib2FyZCBzaG9ydGN1dHMKCQlpZiggaXNIaWRkZW4gPT09IGZhbHNlICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkgKSB7CgkJCS8vIE5vdCBhbGwgZWxlbWVudHMgc3VwcG9ydCAuYmx1cigpIC0gU1ZHcyBhbW9uZyB0aGVtLgoJCQlpZiggdHlwZW9mIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1ciA9PT0gJ2Z1bmN0aW9uJyApIHsKCQkJCWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpOwoJCQl9CgkJCWRvY3VtZW50LmJvZHkuZm9jdXMoKTsKCQl9CgoJfQoKCS8qKgoJICogSW52b2tlZCB3aGVuIGEgc2xpZGUgaXMgYW5kIHdlJ3JlIGluIHRoZSBvdmVydmlldy4KCSAqCgkgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQKCSAqLwoJZnVuY3Rpb24gb25PdmVydmlld1NsaWRlQ2xpY2tlZCggZXZlbnQgKSB7CgoJCS8vIFRPRE8gVGhlcmUncyBhIGJ1ZyBoZXJlIHdoZXJlIHRoZSBldmVudCBsaXN0ZW5lcnMgYXJlIG5vdAoJCS8vIHJlbW92ZWQgYWZ0ZXIgZGVhY3RpdmF0aW5nIHRoZSBvdmVydmlldy4KCQlpZiggZXZlbnRzQXJlQm91bmQgJiYgaXNPdmVydmlldygpICkgewoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJdmFyIGVsZW1lbnQgPSBldmVudC50YXJnZXQ7CgoJCQl3aGlsZSggZWxlbWVudCAmJiAhZWxlbWVudC5ub2RlTmFtZS5tYXRjaCggL3NlY3Rpb24vZ2kgKSApIHsKCQkJCWVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7CgkJCX0KCgkJCWlmKCBlbGVtZW50ICYmICFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyggJ2Rpc2FibGVkJyApICkgewoKCQkJCWRlYWN0aXZhdGVPdmVydmlldygpOwoKCQkJCWlmKCBlbGVtZW50Lm5vZGVOYW1lLm1hdGNoKCAvc2VjdGlvbi9naSApICkgewoJCQkJCXZhciBoID0gcGFyc2VJbnQoIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCAnZGF0YS1pbmRleC1oJyApLCAxMCApLAoJCQkJCQl2ID0gcGFyc2VJbnQoIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCAnZGF0YS1pbmRleC12JyApLCAxMCApOwoKCQkJCQlzbGlkZSggaCwgdiApOwoJCQkJfQoKCQkJfQoJCX0KCgl9CgoJLyoqCgkgKiBIYW5kbGVzIGNsaWNrcyBvbiBsaW5rcyB0aGF0IGFyZSBzZXQgdG8gcHJldmlldyBpbiB0aGUKCSAqIGlmcmFtZSBvdmVybGF5LgoJICoKCSAqIEBwYXJhbSB7b2JqZWN0fSBldmVudAoJICovCglmdW5jdGlvbiBvblByZXZpZXdMaW5rQ2xpY2tlZCggZXZlbnQgKSB7CgoJCWlmKCBldmVudC5jdXJyZW50VGFyZ2V0ICYmIGV2ZW50LmN1cnJlbnRUYXJnZXQuaGFzQXR0cmlidXRlKCAnaHJlZicgKSApIHsKCQkJdmFyIHVybCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCAnaHJlZicgKTsKCQkJaWYoIHVybCApIHsKCQkJCXNob3dQcmV2aWV3KCB1cmwgKTsKCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCX0KCQl9CgoJfQoKCS8qKgoJICogSGFuZGxlcyBjbGljayBvbiB0aGUgYXV0by1zbGlkaW5nIGNvbnRyb2xzIGVsZW1lbnQuCgkgKgoJICogQHBhcmFtIHtvYmplY3R9IFtldmVudF0KCSAqLwoJZnVuY3Rpb24gb25BdXRvU2xpZGVQbGF5ZXJDbGljayggZXZlbnQgKSB7CgoJCS8vIFJlcGxheQoJCWlmKCBSZXZlYWwuaXNMYXN0U2xpZGUoKSAmJiBjb25maWcubG9vcCA9PT0gZmFsc2UgKSB7CgkJCXNsaWRlKCAwLCAwICk7CgkJCXJlc3VtZUF1dG9TbGlkZSgpOwoJCX0KCQkvLyBSZXN1bWUKCQllbHNlIGlmKCBhdXRvU2xpZGVQYXVzZWQgKSB7CgkJCXJlc3VtZUF1dG9TbGlkZSgpOwoJCX0KCQkvLyBQYXVzZQoJCWVsc2UgewoJCQlwYXVzZUF1dG9TbGlkZSgpOwoJCX0KCgl9CgoKCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQTEFZQkFDSyBDT01QT05FTlQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCS8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KCgoJLyoqCgkgKiBDb25zdHJ1Y3RvciBmb3IgdGhlIHBsYXliYWNrIGNvbXBvbmVudCwgd2hpY2ggZGlzcGxheXMKCSAqIHBsYXkvcGF1c2UvcHJvZ3Jlc3MgY29udHJvbHMuCgkgKgoJICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyIFRoZSBjb21wb25lbnQgd2lsbCBhcHBlbmQKCSAqIGl0c2VsZiB0byB0aGlzCgkgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwcm9ncmVzc0NoZWNrIEEgbWV0aG9kIHdoaWNoIHdpbGwgYmUKCSAqIGNhbGxlZCBmcmVxdWVudGx5IHRvIGdldCB0aGUgY3VycmVudCBwcm9ncmVzcyBvbiBhIHJhbmdlCgkgKiBvZiAwLTEKCSAqLwoJZnVuY3Rpb24gUGxheWJhY2soIGNvbnRhaW5lciwgcHJvZ3Jlc3NDaGVjayApIHsKCgkJLy8gQ29zbWV0aWNzCgkJdGhpcy5kaWFtZXRlciA9IDEwMDsKCQl0aGlzLmRpYW1ldGVyMiA9IHRoaXMuZGlhbWV0ZXIvMjsKCQl0aGlzLnRoaWNrbmVzcyA9IDY7CgoJCS8vIEZsYWdzIGlmIHdlIGFyZSBjdXJyZW50bHkgcGxheWluZwoJCXRoaXMucGxheWluZyA9IGZhbHNlOwoKCQkvLyBDdXJyZW50IHByb2dyZXNzIG9uIGEgMC0xIHJhbmdlCgkJdGhpcy5wcm9ncmVzcyA9IDA7CgoJCS8vIFVzZWQgdG8gbG9vcCB0aGUgYW5pbWF0aW9uIHNtb290aGx5CgkJdGhpcy5wcm9ncmVzc09mZnNldCA9IDE7CgoJCXRoaXMuY29udGFpbmVyID0gY29udGFpbmVyOwoJCXRoaXMucHJvZ3Jlc3NDaGVjayA9IHByb2dyZXNzQ2hlY2s7CgoJCXRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2NhbnZhcycgKTsKCQl0aGlzLmNhbnZhcy5jbGFzc05hbWUgPSAncGxheWJhY2snOwoJCXRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5kaWFtZXRlcjsKCQl0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmRpYW1ldGVyOwoJCXRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gdGhpcy5kaWFtZXRlcjIgKyAncHgnOwoJCXRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IHRoaXMuZGlhbWV0ZXIyICsgJ3B4JzsKCQl0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCAnMmQnICk7CgoJCXRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKCB0aGlzLmNhbnZhcyApOwoKCQl0aGlzLnJlbmRlcigpOwoKCX0KCgkvKioKCSAqIEBwYXJhbSB2YWx1ZQoJICovCglQbGF5YmFjay5wcm90b3R5cGUuc2V0UGxheWluZyA9IGZ1bmN0aW9uKCB2YWx1ZSApIHsKCgkJdmFyIHdhc1BsYXlpbmcgPSB0aGlzLnBsYXlpbmc7CgoJCXRoaXMucGxheWluZyA9IHZhbHVlOwoKCQkvLyBTdGFydCByZXBhaW50aW5nIGlmIHdlIHdlcmVuJ3QgYWxyZWFkeQoJCWlmKCAhd2FzUGxheWluZyAmJiB0aGlzLnBsYXlpbmcgKSB7CgkJCXRoaXMuYW5pbWF0ZSgpOwoJCX0KCQllbHNlIHsKCQkJdGhpcy5yZW5kZXIoKTsKCQl9CgoJfTsKCglQbGF5YmFjay5wcm90b3R5cGUuYW5pbWF0ZSA9IGZ1bmN0aW9uKCkgewoKCQl2YXIgcHJvZ3Jlc3NCZWZvcmUgPSB0aGlzLnByb2dyZXNzOwoKCQl0aGlzLnByb2dyZXNzID0gdGhpcy5wcm9ncmVzc0NoZWNrKCk7CgoJCS8vIFdoZW4gd2UgbG9vcCwgb2Zmc2V0IHRoZSBwcm9ncmVzcyBzbyB0aGF0IGl0IGVhc2VzCgkJLy8gc21vb3RobHkgcmF0aGVyIHRoYW4gaW1tZWRpYXRlbHkgcmVzZXR0aW5nCgkJaWYoIHByb2dyZXNzQmVmb3JlID4gMC44ICYmIHRoaXMucHJvZ3Jlc3MgPCAwLjIgKSB7CgkJCXRoaXMucHJvZ3Jlc3NPZmZzZXQgPSB0aGlzLnByb2dyZXNzOwoJCX0KCgkJdGhpcy5yZW5kZXIoKTsKCgkJaWYoIHRoaXMucGxheWluZyApIHsKCQkJZmVhdHVyZXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lTWV0aG9kLmNhbGwoIHdpbmRvdywgdGhpcy5hbmltYXRlLmJpbmQoIHRoaXMgKSApOwoJCX0KCgl9OwoKCS8qKgoJICogUmVuZGVycyB0aGUgY3VycmVudCBwcm9ncmVzcyBhbmQgcGxheWJhY2sgc3RhdGUuCgkgKi8KCVBsYXliYWNrLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHsKCgkJdmFyIHByb2dyZXNzID0gdGhpcy5wbGF5aW5nID8gdGhpcy5wcm9ncmVzcyA6IDAsCgkJCXJhZGl1cyA9ICggdGhpcy5kaWFtZXRlcjIgKSAtIHRoaXMudGhpY2tuZXNzLAoJCQl4ID0gdGhpcy5kaWFtZXRlcjIsCgkJCXkgPSB0aGlzLmRpYW1ldGVyMiwKCQkJaWNvblNpemUgPSAyODsKCgkJLy8gRWFzZSB0b3dhcmRzIDEKCQl0aGlzLnByb2dyZXNzT2Zmc2V0ICs9ICggMSAtIHRoaXMucHJvZ3Jlc3NPZmZzZXQgKSAqIDAuMTsKCgkJdmFyIGVuZEFuZ2xlID0gKCAtIE1hdGguUEkgLyAyICkgKyAoIHByb2dyZXNzICogKCBNYXRoLlBJICogMiApICk7CgkJdmFyIHN0YXJ0QW5nbGUgPSAoIC0gTWF0aC5QSSAvIDIgKSArICggdGhpcy5wcm9ncmVzc09mZnNldCAqICggTWF0aC5QSSAqIDIgKSApOwoKCQl0aGlzLmNvbnRleHQuc2F2ZSgpOwoJCXRoaXMuY29udGV4dC5jbGVhclJlY3QoIDAsIDAsIHRoaXMuZGlhbWV0ZXIsIHRoaXMuZGlhbWV0ZXIgKTsKCgkJLy8gU29saWQgYmFja2dyb3VuZCBjb2xvcgoJCXRoaXMuY29udGV4dC5iZWdpblBhdGgoKTsKCQl0aGlzLmNvbnRleHQuYXJjKCB4LCB5LCByYWRpdXMgKyA0LCAwLCBNYXRoLlBJICogMiwgZmFsc2UgKTsKCQl0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gJ3JnYmEoIDAsIDAsIDAsIDAuNCApJzsKCQl0aGlzLmNvbnRleHQuZmlsbCgpOwoKCQkvLyBEcmF3IHByb2dyZXNzIHRyYWNrCgkJdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpOwoJCXRoaXMuY29udGV4dC5hcmMoIHgsIHksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIGZhbHNlICk7CgkJdGhpcy5jb250ZXh0LmxpbmVXaWR0aCA9IHRoaXMudGhpY2tuZXNzOwoJCXRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKCAyNTUsIDI1NSwgMjU1LCAwLjIgKSc7CgkJdGhpcy5jb250ZXh0LnN0cm9rZSgpOwoKCQlpZiggdGhpcy5wbGF5aW5nICkgewoJCQkvLyBEcmF3IHByb2dyZXNzIG9uIHRvcCBvZiB0cmFjawoJCQl0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7CgkJCXRoaXMuY29udGV4dC5hcmMoIHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGZhbHNlICk7CgkJCXRoaXMuY29udGV4dC5saW5lV2lkdGggPSB0aGlzLnRoaWNrbmVzczsKCQkJdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gJyNmZmYnOwoJCQl0aGlzLmNvbnRleHQuc3Ryb2tlKCk7CgkJfQoKCQl0aGlzLmNvbnRleHQudHJhbnNsYXRlKCB4IC0gKCBpY29uU2l6ZSAvIDIgKSwgeSAtICggaWNvblNpemUgLyAyICkgKTsKCgkJLy8gRHJhdyBwbGF5L3BhdXNlIGljb25zCgkJaWYoIHRoaXMucGxheWluZyApIHsKCQkJdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9ICcjZmZmJzsKCQkJdGhpcy5jb250ZXh0LmZpbGxSZWN0KCAwLCAwLCBpY29uU2l6ZSAvIDIgLSA0LCBpY29uU2l6ZSApOwoJCQl0aGlzLmNvbnRleHQuZmlsbFJlY3QoIGljb25TaXplIC8gMiArIDQsIDAsIGljb25TaXplIC8gMiAtIDQsIGljb25TaXplICk7CgkJfQoJCWVsc2UgewoJCQl0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7CgkJCXRoaXMuY29udGV4dC50cmFuc2xhdGUoIDQsIDAgKTsKCQkJdGhpcy5jb250ZXh0Lm1vdmVUbyggMCwgMCApOwoJCQl0aGlzLmNvbnRleHQubGluZVRvKCBpY29uU2l6ZSAtIDQsIGljb25TaXplIC8gMiApOwoJCQl0aGlzLmNvbnRleHQubGluZVRvKCAwLCBpY29uU2l6ZSApOwoJCQl0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmYnOwoJCQl0aGlzLmNvbnRleHQuZmlsbCgpOwoJCX0KCgkJdGhpcy5jb250ZXh0LnJlc3RvcmUoKTsKCgl9OwoKCVBsYXliYWNrLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKCB0eXBlLCBsaXN0ZW5lciApIHsKCQl0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UgKTsKCX07CgoJUGxheWJhY2sucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKCB0eXBlLCBsaXN0ZW5lciApIHsKCQl0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UgKTsKCX07CgoJUGxheWJhY2sucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHsKCgkJdGhpcy5wbGF5aW5nID0gZmFsc2U7CgoJCWlmKCB0aGlzLmNhbnZhcy5wYXJlbnROb2RlICkgewoJCQl0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCggdGhpcy5jYW52YXMgKTsKCQl9CgoJfTsKCgoJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwoJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBBUEkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwoJLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwoKCglSZXZlYWwgPSB7CgkJVkVSU0lPTjogVkVSU0lPTiwKCgkJaW5pdGlhbGl6ZTogaW5pdGlhbGl6ZSwKCQljb25maWd1cmU6IGNvbmZpZ3VyZSwKCgkJc3luYzogc3luYywKCQlzeW5jU2xpZGU6IHN5bmNTbGlkZSwKCQlzeW5jRnJhZ21lbnRzOiBzeW5jRnJhZ21lbnRzLAoKCQkvLyBOYXZpZ2F0aW9uIG1ldGhvZHMKCQlzbGlkZTogc2xpZGUsCgkJbGVmdDogbmF2aWdhdGVMZWZ0LAoJCXJpZ2h0OiBuYXZpZ2F0ZVJpZ2h0LAoJCXVwOiBuYXZpZ2F0ZVVwLAoJCWRvd246IG5hdmlnYXRlRG93biwKCQlwcmV2OiBuYXZpZ2F0ZVByZXYsCgkJbmV4dDogbmF2aWdhdGVOZXh0LAoKCQkvLyBGcmFnbWVudCBtZXRob2RzCgkJbmF2aWdhdGVGcmFnbWVudDogbmF2aWdhdGVGcmFnbWVudCwKCQlwcmV2RnJhZ21lbnQ6IHByZXZpb3VzRnJhZ21lbnQsCgkJbmV4dEZyYWdtZW50OiBuZXh0RnJhZ21lbnQsCgoJCS8vIERlcHJlY2F0ZWQgYWxpYXNlcwoJCW5hdmlnYXRlVG86IHNsaWRlLAoJCW5hdmlnYXRlTGVmdDogbmF2aWdhdGVMZWZ0LAoJCW5hdmlnYXRlUmlnaHQ6IG5hdmlnYXRlUmlnaHQsCgkJbmF2aWdhdGVVcDogbmF2aWdhdGVVcCwKCQluYXZpZ2F0ZURvd246IG5hdmlnYXRlRG93biwKCQluYXZpZ2F0ZVByZXY6IG5hdmlnYXRlUHJldiwKCQluYXZpZ2F0ZU5leHQ6IG5hdmlnYXRlTmV4dCwKCgkJLy8gRm9yY2VzIGFuIHVwZGF0ZSBpbiBzbGlkZSBsYXlvdXQKCQlsYXlvdXQ6IGxheW91dCwKCgkJLy8gUmFuZG9taXplcyB0aGUgb3JkZXIgb2Ygc2xpZGVzCgkJc2h1ZmZsZTogc2h1ZmZsZSwKCgkJLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgYXZhaWxhYmxlIHJvdXRlcyBhcyBib29sZWFucyAobGVmdC9yaWdodC90b3AvYm90dG9tKQoJCWF2YWlsYWJsZVJvdXRlczogYXZhaWxhYmxlUm91dGVzLAoKCQkvLyBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBhdmFpbGFibGUgZnJhZ21lbnRzIGFzIGJvb2xlYW5zIChwcmV2L25leHQpCgkJYXZhaWxhYmxlRnJhZ21lbnRzOiBhdmFpbGFibGVGcmFnbWVudHMsCgoJCS8vIFRvZ2dsZXMgYSBoZWxwIG92ZXJsYXkgd2l0aCBrZXlib2FyZCBzaG9ydGN1dHMKCQl0b2dnbGVIZWxwOiB0b2dnbGVIZWxwLAoKCQkvLyBUb2dnbGVzIHRoZSBvdmVydmlldyBtb2RlIG9uL29mZgoJCXRvZ2dsZU92ZXJ2aWV3OiB0b2dnbGVPdmVydmlldywKCgkJLy8gVG9nZ2xlcyB0aGUgImJsYWNrIHNjcmVlbiIgbW9kZSBvbi9vZmYKCQl0b2dnbGVQYXVzZTogdG9nZ2xlUGF1c2UsCgoJCS8vIFRvZ2dsZXMgdGhlIGF1dG8gc2xpZGUgbW9kZSBvbi9vZmYKCQl0b2dnbGVBdXRvU2xpZGU6IHRvZ2dsZUF1dG9TbGlkZSwKCgkJLy8gU3RhdGUgY2hlY2tzCgkJaXNPdmVydmlldzogaXNPdmVydmlldywKCQlpc1BhdXNlZDogaXNQYXVzZWQsCgkJaXNBdXRvU2xpZGluZzogaXNBdXRvU2xpZGluZywKCQlpc1NwZWFrZXJOb3RlczogaXNTcGVha2VyTm90ZXMsCgoJCS8vIFNsaWRlIHByZWxvYWRpbmcKCQlsb2FkU2xpZGU6IGxvYWRTbGlkZSwKCQl1bmxvYWRTbGlkZTogdW5sb2FkU2xpZGUsCgoJCS8vIEFkZHMgb3IgcmVtb3ZlcyBhbGwgaW50ZXJuYWwgZXZlbnQgbGlzdGVuZXJzIChzdWNoIGFzIGtleWJvYXJkKQoJCWFkZEV2ZW50TGlzdGVuZXJzOiBhZGRFdmVudExpc3RlbmVycywKCQlyZW1vdmVFdmVudExpc3RlbmVyczogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsCgoJCS8vIEZhY2lsaXR5IGZvciBwZXJzaXN0aW5nIGFuZCByZXN0b3JpbmcgdGhlIHByZXNlbnRhdGlvbiBzdGF0ZQoJCWdldFN0YXRlOiBnZXRTdGF0ZSwKCQlzZXRTdGF0ZTogc2V0U3RhdGUsCgoJCS8vIFByZXNlbnRhdGlvbiBwcm9ncmVzcwoJCWdldFNsaWRlUGFzdENvdW50OiBnZXRTbGlkZVBhc3RDb3VudCwKCgkJLy8gUHJlc2VudGF0aW9uIHByb2dyZXNzIG9uIHJhbmdlIG9mIDAtMQoJCWdldFByb2dyZXNzOiBnZXRQcm9ncmVzcywKCgkJLy8gUmV0dXJucyB0aGUgaW5kaWNlcyBvZiB0aGUgY3VycmVudCwgb3Igc3BlY2lmaWVkLCBzbGlkZQoJCWdldEluZGljZXM6IGdldEluZGljZXMsCgoJCS8vIFJldHVybnMgYW4gQXJyYXkgb2YgYWxsIHNsaWRlcwoJCWdldFNsaWRlczogZ2V0U2xpZGVzLAoKCQkvLyBSZXR1cm5zIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2xpZGVzCgkJZ2V0VG90YWxTbGlkZXM6IGdldFRvdGFsU2xpZGVzLAoKCQkvLyBSZXR1cm5zIHRoZSBzbGlkZSBlbGVtZW50IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXgKCQlnZXRTbGlkZTogZ2V0U2xpZGUsCgoJCS8vIFJldHVybnMgdGhlIHNsaWRlIGJhY2tncm91bmQgZWxlbWVudCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4CgkJZ2V0U2xpZGVCYWNrZ3JvdW5kOiBnZXRTbGlkZUJhY2tncm91bmQsCgoJCS8vIFJldHVybnMgdGhlIHNwZWFrZXIgbm90ZXMgc3RyaW5nIGZvciBhIHNsaWRlLCBvciBudWxsCgkJZ2V0U2xpZGVOb3RlczogZ2V0U2xpZGVOb3RlcywKCgkJLy8gUmV0dXJucyB0aGUgcHJldmlvdXMgc2xpZGUgZWxlbWVudCwgbWF5IGJlIG51bGwKCQlnZXRQcmV2aW91c1NsaWRlOiBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHByZXZpb3VzU2xpZGU7CgkJfSwKCgkJLy8gUmV0dXJucyB0aGUgY3VycmVudCBzbGlkZSBlbGVtZW50CgkJZ2V0Q3VycmVudFNsaWRlOiBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIGN1cnJlbnRTbGlkZTsKCQl9LAoKCQkvLyBSZXR1cm5zIHRoZSBjdXJyZW50IHNjYWxlIG9mIHRoZSBwcmVzZW50YXRpb24gY29udGVudAoJCWdldFNjYWxlOiBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHNjYWxlOwoJCX0sCgoJCS8vIFJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvbiBvYmplY3QKCQlnZXRDb25maWc6IGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gY29uZmlnOwoJCX0sCgoJCS8vIEhlbHBlciBtZXRob2QsIHJldHJpZXZlcyBxdWVyeSBzdHJpbmcgYXMgYSBrZXkvdmFsdWUgaGFzaAoJCWdldFF1ZXJ5SGFzaDogZnVuY3Rpb24oKSB7CgkJCXZhciBxdWVyeSA9IHt9OwoKCQkJbG9jYXRpb24uc2VhcmNoLnJlcGxhY2UoIC9bQS1aMC05XSs/PShbXHdcLiUtXSopL2dpLCBmdW5jdGlvbihhKSB7CgkJCQlxdWVyeVsgYS5zcGxpdCggJz0nICkuc2hpZnQoKSBdID0gYS5zcGxpdCggJz0nICkucG9wKCk7CgkJCX0gKTsKCgkJCS8vIEJhc2ljIGRlc2VyaWFsaXphdGlvbgoJCQlmb3IoIHZhciBpIGluIHF1ZXJ5ICkgewoJCQkJdmFyIHZhbHVlID0gcXVlcnlbIGkgXTsKCgkJCQlxdWVyeVsgaSBdID0gZGVzZXJpYWxpemUoIHVuZXNjYXBlKCB2YWx1ZSApICk7CgkJCX0KCgkJCXJldHVybiBxdWVyeTsKCQl9LAoKCQkvLyBSZXR1cm5zIHRydWUgaWYgd2UncmUgY3VycmVudGx5IG9uIHRoZSBmaXJzdCBzbGlkZQoJCWlzRmlyc3RTbGlkZTogZnVuY3Rpb24oKSB7CgkJCXJldHVybiAoIGluZGV4aCA9PT0gMCAmJiBpbmRleHYgPT09IDAgKTsKCQl9LAoKCQkvLyBSZXR1cm5zIHRydWUgaWYgd2UncmUgY3VycmVudGx5IG9uIHRoZSBsYXN0IHNsaWRlCgkJaXNMYXN0U2xpZGU6IGZ1bmN0aW9uKCkgewoJCQlpZiggY3VycmVudFNsaWRlICkgewoJCQkJLy8gRG9lcyB0aGlzIHNsaWRlIGhhdmUgYSBuZXh0IHNpYmxpbmc/CgkJCQlpZiggY3VycmVudFNsaWRlLm5leHRFbGVtZW50U2libGluZyApIHJldHVybiBmYWxzZTsKCgkJCQkvLyBJZiBpdCdzIHZlcnRpY2FsLCBkb2VzIGl0cyBwYXJlbnQgaGF2ZSBhIG5leHQgc2libGluZz8KCQkJCWlmKCBpc1ZlcnRpY2FsU2xpZGUoIGN1cnJlbnRTbGlkZSApICYmIGN1cnJlbnRTbGlkZS5wYXJlbnROb2RlLm5leHRFbGVtZW50U2libGluZyApIHJldHVybiBmYWxzZTsKCgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoKCQkJcmV0dXJuIGZhbHNlOwoJCX0sCgoJCS8vIFJldHVybnMgdHJ1ZSBpZiB3ZSdyZSBvbiB0aGUgbGFzdCBzbGlkZSBpbiB0aGUgY3VycmVudAoJCS8vIHZlcnRpY2FsIHN0YWNrCgkJaXNMYXN0VmVydGljYWxTbGlkZTogZnVuY3Rpb24oKSB7CgkJCWlmKCBjdXJyZW50U2xpZGUgJiYgaXNWZXJ0aWNhbFNsaWRlKCBjdXJyZW50U2xpZGUgKSApIHsKCQkJCS8vIERvZXMgdGhpcyBzbGlkZSBoYXZlIGEgbmV4dCBzaWJsaW5nPwoJCQkJaWYoIGN1cnJlbnRTbGlkZS5uZXh0RWxlbWVudFNpYmxpbmcgKSByZXR1cm4gZmFsc2U7CgoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCgkJCXJldHVybiBmYWxzZTsKCQl9LAoKCQkvLyBDaGVja3MgaWYgcmV2ZWFsLmpzIGhhcyBiZWVuIGxvYWRlZCBhbmQgaXMgcmVhZHkgZm9yIHVzZQoJCWlzUmVhZHk6IGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gbG9hZGVkOwoJCX0sCgoJCS8vIEZvcndhcmQgZXZlbnQgYmluZGluZyB0byB0aGUgcmV2ZWFsIERPTSBlbGVtZW50CgkJYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24oIHR5cGUsIGxpc3RlbmVyLCB1c2VDYXB0dXJlICkgewoJCQlpZiggJ2FkZEV2ZW50TGlzdGVuZXInIGluIHdpbmRvdyApIHsKCQkJCSggZG9tLndyYXBwZXIgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJy5yZXZlYWwnICkgKS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBsaXN0ZW5lciwgdXNlQ2FwdHVyZSApOwoJCQl9CgkJfSwKCQlyZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiggdHlwZSwgbGlzdGVuZXIsIHVzZUNhcHR1cmUgKSB7CgkJCWlmKCAnYWRkRXZlbnRMaXN0ZW5lcicgaW4gd2luZG93ICkgewoJCQkJKCBkb20ud3JhcHBlciB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLnJldmVhbCcgKSApLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGxpc3RlbmVyLCB1c2VDYXB0dXJlICk7CgkJCX0KCQl9LAoKCQkvLyBBZGRzIGEgY3VzdG9tIGtleSBiaW5kaW5nCgkJYWRkS2V5QmluZGluZzogYWRkS2V5QmluZGluZywKCgkJLy8gUmVtb3ZlcyBhIGN1c3RvbSBrZXkgYmluZGluZwoJCXJlbW92ZUtleUJpbmRpbmc6IHJlbW92ZUtleUJpbmRpbmcsCgoJCS8vIFByb2dyYW1hdGljYWxseSB0cmlnZ2VycyBhIGtleWJvYXJkIGV2ZW50CgkJdHJpZ2dlcktleTogZnVuY3Rpb24oIGtleUNvZGUgKSB7CgkJCW9uRG9jdW1lbnRLZXlEb3duKCB7IGtleUNvZGU6IGtleUNvZGUgfSApOwoJCX0sCgoJCS8vIFJlZ2lzdGVycyBhIG5ldyBzaG9ydGN1dCB0byBpbmNsdWRlIGluIHRoZSBoZWxwIG92ZXJsYXkKCQlyZWdpc3RlcktleWJvYXJkU2hvcnRjdXQ6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkgewoJCQlrZXlib2FyZFNob3J0Y3V0c1trZXldID0gdmFsdWU7CgkJfQoJfTsKCglyZXR1cm4gUmV2ZWFsOwoKfSkpOwo="></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display a presentation progress bar
        progress: true,
        // Display the page number of the current slide
        slideNumber: true,
        // Push each slide change to the browser history
        history: true,
        // Enable keyboard shortcuts for navigation
        keyboard: true,
        // Vertical centering of slides
        center: true,
        // Flags if speaker notes should be visible to all viewers
        showNotes: true,
        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        // Parallax background size
        parallaxBackgroundSize: '150%', // CSS syntax, e.g. "2100px 900px"
        // Amount to move parallax background (horizontal and vertical) on slide change
        // Number, e.g. 100
        parallaxBackgroundHorizontal: 20,
        parallaxBackgroundVertical: 5,

        // Optional reveal.js plugins
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
              { src: 'reveal.js/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
